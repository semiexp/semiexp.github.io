(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();var Rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xg(a){if(a.__esModule)return a;var r=a.default;if(typeof r=="function"){var e=function i(){return this instanceof i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var o=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:function(){return a[i]}})}),e}var Wc={exports:{}},jo={},Hc={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function Eg(){if(Bd)return Ae;Bd=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),P=Symbol.iterator;function Z(k){return k===null||typeof k!="object"?null:(k=P&&k[P]||k["@@iterator"],typeof k=="function"?k:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,p={};function h(k,G,Ee){this.props=k,this.context=G,this.refs=p,this.updater=Ee||$}h.prototype.isReactComponent={},h.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},h.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function v(){}v.prototype=h.prototype;function I(k,G,Ee){this.props=k,this.context=G,this.refs=p,this.updater=Ee||$}var X=I.prototype=new v;X.constructor=I,re(X,h.prototype),X.isPureReactComponent=!0;var ie=Array.isArray,be=Object.prototype.hasOwnProperty,Ze={current:null},$e={key:!0,ref:!0,__self:!0,__source:!0};function E(k,G,Ee){var Oe,Ie={},Te=null,Ue=null;if(G!=null)for(Oe in G.ref!==void 0&&(Ue=G.ref),G.key!==void 0&&(Te=""+G.key),G)be.call(G,Oe)&&!$e.hasOwnProperty(Oe)&&(Ie[Oe]=G[Oe]);var ke=arguments.length-2;if(ke===1)Ie.children=Ee;else if(1<ke){for(var Le=Array(ke),Fe=0;Fe<ke;Fe++)Le[Fe]=arguments[Fe+2];Ie.children=Le}if(k&&k.defaultProps)for(Oe in ke=k.defaultProps,ke)Ie[Oe]===void 0&&(Ie[Oe]=ke[Oe]);return{$$typeof:a,type:k,key:Te,ref:Ue,props:Ie,_owner:Ze.current}}function Y(k,G){return{$$typeof:a,type:k.type,key:G,ref:k.ref,props:k.props,_owner:k._owner}}function Jt(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function Sr(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Ee){return G[Ee]})}var R=/\/+/g;function Ne(k,G){return typeof k=="object"&&k!==null&&k.key!=null?Sr(""+k.key):G.toString(36)}function St(k,G,Ee,Oe,Ie){var Te=typeof k;(Te==="undefined"||Te==="boolean")&&(k=null);var Ue=!1;if(k===null)Ue=!0;else switch(Te){case"string":case"number":Ue=!0;break;case"object":switch(k.$$typeof){case a:case r:Ue=!0}}if(Ue)return Ue=k,Ie=Ie(Ue),k=Oe===""?"."+Ne(Ue,0):Oe,ie(Ie)?(Ee="",k!=null&&(Ee=k.replace(R,"$&/")+"/"),St(Ie,G,Ee,"",function(Fe){return Fe})):Ie!=null&&(Jt(Ie)&&(Ie=Y(Ie,Ee+(!Ie.key||Ue&&Ue.key===Ie.key?"":(""+Ie.key).replace(R,"$&/")+"/")+k)),G.push(Ie)),1;if(Ue=0,Oe=Oe===""?".":Oe+":",ie(k))for(var ke=0;ke<k.length;ke++){Te=k[ke];var Le=Oe+Ne(Te,ke);Ue+=St(Te,G,Ee,Le,Ie)}else if(Le=Z(k),typeof Le=="function")for(k=Le.call(k),ke=0;!(Te=k.next()).done;)Te=Te.value,Le=Oe+Ne(Te,ke++),Ue+=St(Te,G,Ee,Le,Ie);else if(Te==="object")throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ue}function er(k,G,Ee){if(k==null)return k;var Oe=[],Ie=0;return St(k,Oe,"","",function(Te){return G.call(Ee,Te,Ie++)}),Oe}function mt(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(Ee){(k._status===0||k._status===-1)&&(k._status=1,k._result=Ee)},function(Ee){(k._status===0||k._status===-1)&&(k._status=2,k._result=Ee)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var Ge={current:null},W={transition:null},fe={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:W,ReactCurrentOwner:Ze};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:er,forEach:function(k,G,Ee){er(k,function(){G.apply(this,arguments)},Ee)},count:function(k){var G=0;return er(k,function(){G++}),G},toArray:function(k){return er(k,function(G){return G})||[]},only:function(k){if(!Jt(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ae.Component=h,Ae.Fragment=e,Ae.Profiler=o,Ae.PureComponent=I,Ae.StrictMode=i,Ae.Suspense=_,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ae.act=oe,Ae.cloneElement=function(k,G,Ee){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var Oe=re({},k.props),Ie=k.key,Te=k.ref,Ue=k._owner;if(G!=null){if(G.ref!==void 0&&(Te=G.ref,Ue=Ze.current),G.key!==void 0&&(Ie=""+G.key),k.type&&k.type.defaultProps)var ke=k.type.defaultProps;for(Le in G)be.call(G,Le)&&!$e.hasOwnProperty(Le)&&(Oe[Le]=G[Le]===void 0&&ke!==void 0?ke[Le]:G[Le])}var Le=arguments.length-2;if(Le===1)Oe.children=Ee;else if(1<Le){ke=Array(Le);for(var Fe=0;Fe<Le;Fe++)ke[Fe]=arguments[Fe+2];Oe.children=ke}return{$$typeof:a,type:k.type,key:Ie,ref:Te,props:Oe,_owner:Ue}},Ae.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},Ae.createElement=E,Ae.createFactory=function(k){var G=E.bind(null,k);return G.type=k,G},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:y,render:k}},Ae.isValidElement=Jt,Ae.lazy=function(k){return{$$typeof:u,_payload:{_status:-1,_result:k},_init:mt}},Ae.memo=function(k,G){return{$$typeof:w,type:k,compare:G===void 0?null:G}},Ae.startTransition=function(k){var G=W.transition;W.transition={};try{k()}finally{W.transition=G}},Ae.unstable_act=oe,Ae.useCallback=function(k,G){return Ge.current.useCallback(k,G)},Ae.useContext=function(k){return Ge.current.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k){return Ge.current.useDeferredValue(k)},Ae.useEffect=function(k,G){return Ge.current.useEffect(k,G)},Ae.useId=function(){return Ge.current.useId()},Ae.useImperativeHandle=function(k,G,Ee){return Ge.current.useImperativeHandle(k,G,Ee)},Ae.useInsertionEffect=function(k,G){return Ge.current.useInsertionEffect(k,G)},Ae.useLayoutEffect=function(k,G){return Ge.current.useLayoutEffect(k,G)},Ae.useMemo=function(k,G){return Ge.current.useMemo(k,G)},Ae.useReducer=function(k,G,Ee){return Ge.current.useReducer(k,G,Ee)},Ae.useRef=function(k){return Ge.current.useRef(k)},Ae.useState=function(k){return Ge.current.useState(k)},Ae.useSyncExternalStore=function(k,G,Ee){return Ge.current.useSyncExternalStore(k,G,Ee)},Ae.useTransition=function(){return Ge.current.useTransition()},Ae.version="18.3.1",Ae}var Wd;function f_(){return Wd||(Wd=1,Hc.exports=Eg()),Hc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd;function Sg(){if(Hd)return jo;Hd=1;var a=f_(),r=Symbol.for("react.element"),e=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function f(y,_,w){var u,P={},Z=null,$=null;w!==void 0&&(Z=""+w),_.key!==void 0&&(Z=""+_.key),_.ref!==void 0&&($=_.ref);for(u in _)i.call(_,u)&&!l.hasOwnProperty(u)&&(P[u]=_[u]);if(y&&y.defaultProps)for(u in _=y.defaultProps,_)P[u]===void 0&&(P[u]=_[u]);return{$$typeof:r,type:y,key:Z,ref:$,props:P,_owner:o.current}}return jo.Fragment=e,jo.jsx=f,jo.jsxs=f,jo}var Xd;function Og(){return Xd||(Xd=1,Wc.exports=Sg()),Wc.exports}var Xe=Og(),ji=f_(),Cl={},Xc={exports:{}},qt={},Qc={exports:{}},Yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function Pg(){return Qd||(Qd=1,function(a){function r(W,fe){var oe=W.length;W.push(fe);e:for(;0<oe;){var k=oe-1>>>1,G=W[k];if(0<o(G,fe))W[k]=fe,W[oe]=G,oe=k;else break e}}function e(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var fe=W[0],oe=W.pop();if(oe!==fe){W[0]=oe;e:for(var k=0,G=W.length,Ee=G>>>1;k<Ee;){var Oe=2*(k+1)-1,Ie=W[Oe],Te=Oe+1,Ue=W[Te];if(0>o(Ie,oe))Te<G&&0>o(Ue,Ie)?(W[k]=Ue,W[Te]=oe,k=Te):(W[k]=Ie,W[Oe]=oe,k=Oe);else if(Te<G&&0>o(Ue,oe))W[k]=Ue,W[Te]=oe,k=Te;else break e}}return fe}function o(W,fe){var oe=W.sortIndex-fe.sortIndex;return oe!==0?oe:W.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var f=Date,y=f.now();a.unstable_now=function(){return f.now()-y}}var _=[],w=[],u=1,P=null,Z=3,$=!1,re=!1,p=!1,h=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(W){for(var fe=e(w);fe!==null;){if(fe.callback===null)i(w);else if(fe.startTime<=W)i(w),fe.sortIndex=fe.expirationTime,r(_,fe);else break;fe=e(w)}}function ie(W){if(p=!1,X(W),!re)if(e(_)!==null)re=!0,mt(be);else{var fe=e(w);fe!==null&&Ge(ie,fe.startTime-W)}}function be(W,fe){re=!1,p&&(p=!1,v(E),E=-1),$=!0;var oe=Z;try{for(X(fe),P=e(_);P!==null&&(!(P.expirationTime>fe)||W&&!Sr());){var k=P.callback;if(typeof k=="function"){P.callback=null,Z=P.priorityLevel;var G=k(P.expirationTime<=fe);fe=a.unstable_now(),typeof G=="function"?P.callback=G:P===e(_)&&i(_),X(fe)}else i(_);P=e(_)}if(P!==null)var Ee=!0;else{var Oe=e(w);Oe!==null&&Ge(ie,Oe.startTime-fe),Ee=!1}return Ee}finally{P=null,Z=oe,$=!1}}var Ze=!1,$e=null,E=-1,Y=5,Jt=-1;function Sr(){return!(a.unstable_now()-Jt<Y)}function R(){if($e!==null){var W=a.unstable_now();Jt=W;var fe=!0;try{fe=$e(!0,W)}finally{fe?Ne():(Ze=!1,$e=null)}}else Ze=!1}var Ne;if(typeof I=="function")Ne=function(){I(R)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,er=St.port2;St.port1.onmessage=R,Ne=function(){er.postMessage(null)}}else Ne=function(){h(R,0)};function mt(W){$e=W,Ze||(Ze=!0,Ne())}function Ge(W,fe){E=h(function(){W(a.unstable_now())},fe)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(W){W.callback=null},a.unstable_continueExecution=function(){re||$||(re=!0,mt(be))},a.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<W?Math.floor(1e3/W):5},a.unstable_getCurrentPriorityLevel=function(){return Z},a.unstable_getFirstCallbackNode=function(){return e(_)},a.unstable_next=function(W){switch(Z){case 1:case 2:case 3:var fe=3;break;default:fe=Z}var oe=Z;Z=fe;try{return W()}finally{Z=oe}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(W,fe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=Z;Z=W;try{return fe()}finally{Z=oe}},a.unstable_scheduleCallback=function(W,fe,oe){var k=a.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?k+oe:k):oe=k,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,W={id:u++,callback:fe,priorityLevel:W,startTime:oe,expirationTime:G,sortIndex:-1},oe>k?(W.sortIndex=oe,r(w,W),e(_)===null&&W===e(w)&&(p?(v(E),E=-1):p=!0,Ge(ie,oe-k))):(W.sortIndex=G,r(_,W),re||$||(re=!0,mt(be))),W},a.unstable_shouldYield=Sr,a.unstable_wrapCallback=function(W){var fe=Z;return function(){var oe=Z;Z=fe;try{return W.apply(this,arguments)}finally{Z=oe}}}}(Yc)),Yc}var Yd;function Tg(){return Yd||(Yd=1,Qc.exports=Pg()),Qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function Rg(){if(Kd)return qt;Kd=1;var a=f_(),r=Tg();function e(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(t,n){f(t,n),f(t+"Capture",n)}function f(t,n){for(o[t]=n,t=0;t<n.length;t++)i.add(n[t])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},P={};function Z(t){return _.call(P,t)?!0:_.call(u,t)?!1:w.test(t)?P[t]=!0:(u[t]=!0,!1)}function $(t,n,s,c){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function re(t,n,s,c){if(n===null||typeof n>"u"||$(t,n,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function p(t,n,s,c,d,g,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=g,this.removeEmptyString=x}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){h[t]=new p(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];h[n]=new p(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){h[t]=new p(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){h[t]=new p(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){h[t]=new p(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){h[t]=new p(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){h[t]=new p(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){h[t]=new p(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){h[t]=new p(t,5,!1,t.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function I(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(v,I);h[n]=new p(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(v,I);h[n]=new p(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(v,I);h[n]=new p(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){h[t]=new p(t,1,!1,t.toLowerCase(),null,!1,!1)}),h.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){h[t]=new p(t,1,!1,t.toLowerCase(),null,!0,!0)});function X(t,n,s,c){var d=h.hasOwnProperty(n)?h[n]:null;(d!==null?d.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(re(n,s,d,c)&&(s=null),c||d===null?Z(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):d.mustUseProperty?t[d.propertyName]=s===null?d.type===3?!1:"":s:(n=d.attributeName,c=d.attributeNamespace,s===null?t.removeAttribute(n):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,c?t.setAttributeNS(c,n,s):t.setAttribute(n,s))))}var ie=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),Ze=Symbol.for("react.portal"),$e=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Jt=Symbol.for("react.provider"),Sr=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),er=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),W=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,k;function G(t){if(k===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);k=n&&n[1]||""}return`
`+k+t}var Ee=!1;function Oe(t,n){if(!t||Ee)return"";Ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(L){var c=L}Reflect.construct(t,[],n)}else{try{n.call()}catch(L){c=L}t.call(n.prototype)}else{try{throw Error()}catch(L){c=L}t()}}catch(L){if(L&&c&&typeof L.stack=="string"){for(var d=L.stack.split(`
`),g=c.stack.split(`
`),x=d.length-1,O=g.length-1;1<=x&&0<=O&&d[x]!==g[O];)O--;for(;1<=x&&0<=O;x--,O--)if(d[x]!==g[O]){if(x!==1||O!==1)do if(x--,O--,0>O||d[x]!==g[O]){var T=`
`+d[x].replace(" at new "," at ");return t.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",t.displayName)),T}while(1<=x&&0<=O);break}}}finally{Ee=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?G(t):""}function Ie(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=Oe(t.type,!1),t;case 11:return t=Oe(t.type.render,!1),t;case 1:return t=Oe(t.type,!0),t;default:return""}}function Te(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $e:return"Fragment";case Ze:return"Portal";case Y:return"Profiler";case E:return"StrictMode";case Ne:return"Suspense";case St:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sr:return(t.displayName||"Context")+".Consumer";case Jt:return(t._context.displayName||"Context")+".Provider";case R:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case er:return n=t.displayName||null,n!==null?n:Te(t.type)||"Memo";case mt:n=t._payload,t=t._init;try{return Te(t(n))}catch{}}return null}function Ue(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(n);case 8:return n===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ke(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Le(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fe(t){var n=Le(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),c=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function li(t){t._valueTracker||(t._valueTracker=Fe(t))}function tr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return t&&(c=Le(t)?t.checked?"true":"false":t.value),t=c,t!==s?(n.setValue(t),!0):!1}function an(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xs(t,n){var s=n.checked;return oe({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function ha(t,n){var s=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;s=ke(n.value!=null?n.value:s),t._wrapperState={initialChecked:c,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function pa(t,n){n=n.checked,n!=null&&X(t,"checked",n,!1)}function Qs(t,n){pa(t,n);var s=ke(n.value),c=n.type;if(s!=null)c==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Ys(t,n.type,s):n.hasOwnProperty("defaultValue")&&Ys(t,n.type,ke(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function ga(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Ys(t,n,s){(n!=="number"||an(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var ui=Array.isArray;function An(t,n,s,c){if(t=t.options,n){n={};for(var d=0;d<s.length;d++)n["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=n.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&c&&(t[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function Ks(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(e(91));return oe({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function In(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(e(92));if(ui(s)){if(1<s.length)throw Error(e(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:ke(s)}}function ya(t,n){var s=ke(n.value),c=ke(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),c!=null&&(t.defaultValue=""+c)}function Xi(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function ba(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wr(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?ba(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kn,va=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,c,d){MSApp.execUnsafeLocalFunction(function(){return t(n,s,c,d)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=kn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function ln(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mu=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(t){mu.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Hr[n]=Hr[t]})});function wa(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Hr.hasOwnProperty(t)&&Hr[t]?(""+n).trim():n+"px"}function xa(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var c=s.indexOf("--")===0,d=wa(s,n[s],c);s==="float"&&(s="cssFloat"),c?t.setProperty(s,d):t[s]=d}}var hu=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Js(t,n){if(n){if(hu[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(e(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(e(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(e(61))}if(n.style!=null&&typeof n.style!="object")throw Error(e(62))}}function Or(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=null;function Qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eo=null,Nn=null,Be=null;function Ea(t){if(t=So(t)){if(typeof eo!="function")throw Error(e(280));var n=t.stateNode;n&&(n=Ha(n),eo(t.stateNode,t.type,n))}}function Sa(t){Nn?Be?Be.push(t):Be=[t]:Nn=t}function Oa(){if(Nn){var t=Nn,n=Be;if(Be=Nn=null,Ea(t),n)for(t=0;t<n.length;t++)Ea(n[t])}}function Pa(t,n){return t(n)}function Ta(){}var Ot=!1;function Ct(t,n,s){if(Ot)return t(n,s);Ot=!0;try{return Pa(t,n,s)}finally{Ot=!1,(Nn!==null||Be!==null)&&(Ta(),Oa())}}function ct(t,n){var s=t.stateNode;if(s===null)return null;var c=Ha(s);if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(e(231,n,typeof s));return s}var Pr=!1;if(y)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Pr=!1}function Ra(t,n,s,c,d,g,x,O,T){var L=Array.prototype.slice.call(arguments,3);try{n.apply(s,L)}catch(U){this.onError(U)}}var cn=!1,Yi=null,ci=!1,to=null,pu={onError:function(t){cn=!0,Yi=t}};function gu(t,n,s,c,d,g,x,O,T){cn=!1,Yi=null,Ra.apply(pu,arguments)}function ro(t,n,s,c,d,g,x,O,T){if(gu.apply(this,arguments),cn){if(cn){var L=Yi;cn=!1,Yi=null}else throw Error(e(198));ci||(ci=!0,to=L)}}function Rr(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function Aa(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Ki(t){if(Rr(t)!==t)throw Error(e(188))}function no(t){var n=t.alternate;if(!n){if(n=Rr(t),n===null)throw Error(e(188));return n!==t?null:t}for(var s=t,c=n;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return Ki(d),t;if(g===c)return Ki(d),n;g=g.sibling}throw Error(e(188))}if(s.return!==c.return)s=d,c=g;else{for(var x=!1,O=d.child;O;){if(O===s){x=!0,s=d,c=g;break}if(O===c){x=!0,c=d,s=g;break}O=O.sibling}if(!x){for(O=g.child;O;){if(O===s){x=!0,s=g,c=d;break}if(O===c){x=!0,c=g,s=d;break}O=O.sibling}if(!x)throw Error(e(189))}}if(s.alternate!==c)throw Error(e(190))}if(s.tag!==3)throw Error(e(188));return s.stateNode.current===s?t:n}function Ji(t){return t=no(t),t!==null?es(t):null}function es(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=es(t);if(n!==null)return n;t=t.sibling}return null}var Ia=r.unstable_scheduleCallback,ka=r.unstable_cancelCallback,yu=r.unstable_shouldYield,bu=r.unstable_requestPaint,Je=r.unstable_now,vu=r.unstable_getCurrentPriorityLevel,_i=r.unstable_ImmediatePriority,Na=r.unstable_UserBlockingPriority,ts=r.unstable_NormalPriority,wu=r.unstable_LowPriority,Ca=r.unstable_IdlePriority,rs=null,fr=null;function xu(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(rs,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Za,La=Math.log,Ma=Math.LN2;function Za(t){return t>>>=0,t===0?32:31-(La(t)/Ma|0)|0}var fi=64,di=4194304;function Cn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mi(t,n){var s=t.pendingLanes;if(s===0)return 0;var c=0,d=t.suspendedLanes,g=t.pingedLanes,x=s&268435455;if(x!==0){var O=x&~d;O!==0?c=Cn(O):(g&=x,g!==0&&(c=Cn(g)))}else x=s&~d,x!==0?c=Cn(x):g!==0&&(c=Cn(g));if(c===0)return 0;if(n!==0&&n!==c&&!(n&d)&&(d=c&-c,g=n&-n,d>=g||d===16&&(g&4194240)!==0))return n;if(c&4&&(c|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=c;0<n;)s=31-zt(n),d=1<<s,c|=t[s],n&=~d;return c}function Da(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function za(t,n){for(var s=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes;0<g;){var x=31-zt(g),O=1<<x,T=d[x];T===-1?(!(O&s)||O&c)&&(d[x]=Da(O,n)):T<=n&&(t.expiredLanes|=O),g&=~O}}function ns(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function io(){var t=fi;return fi<<=1,!(fi&4194240)&&(fi=64),t}function is(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ln(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-zt(n),t[n]=s}function so(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<s;){var d=31-zt(s),g=1<<d;n[d]=0,c[d]=-1,t[d]=-1,s&=~g}}function hi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var c=31-zt(s),d=1<<c;d&n|t[c]&n&&(t[c]|=n),s&=~d}}var ze=0;function oo(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ao,ss,os,lo,uo,pi=!1,as=[],Ar=null,Ir=null,rr=null,gi=new Map,yi=new Map,nr=[],Eu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ls(t,n){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":gi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(n.pointerId)}}function jt(t,n,s,c,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},n!==null&&(n=So(n),n!==null&&ss(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function dr(t,n,s,c,d){switch(n){case"focusin":return Ar=jt(Ar,t,n,s,c,d),!0;case"dragenter":return Ir=jt(Ir,t,n,s,c,d),!0;case"mouseover":return rr=jt(rr,t,n,s,c,d),!0;case"pointerover":var g=d.pointerId;return gi.set(g,jt(gi.get(g)||null,t,n,s,c,d)),!0;case"gotpointercapture":return g=d.pointerId,yi.set(g,jt(yi.get(g)||null,t,n,s,c,d)),!0}return!1}function ir(t){var n=Oi(t.target);if(n!==null){var s=Rr(n);if(s!==null){if(n=s.tag,n===13){if(n=Aa(s),n!==null){t.blockedOn=n,uo(t.priority,function(){os(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function us(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wi(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var c=new s.constructor(s.type,s);un=c,s.target.dispatchEvent(c),un=null}else return n=So(s),n!==null&&ss(n),t.blockedOn=s,!1;n.shift()}return!0}function co(t,n,s){us(t)&&s.delete(n)}function we(){pi=!1,Ar!==null&&us(Ar)&&(Ar=null),Ir!==null&&us(Ir)&&(Ir=null),rr!==null&&us(rr)&&(rr=null),gi.forEach(co),yi.forEach(co)}function Xr(t,n){t.blockedOn===n&&(t.blockedOn=null,pi||(pi=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,we)))}function _n(t){function n(d){return Xr(d,t)}if(0<as.length){Xr(as[0],t);for(var s=1;s<as.length;s++){var c=as[s];c.blockedOn===t&&(c.blockedOn=null)}}for(Ar!==null&&Xr(Ar,t),Ir!==null&&Xr(Ir,t),rr!==null&&Xr(rr,t),gi.forEach(n),yi.forEach(n),s=0;s<nr.length;s++)c=nr[s],c.blockedOn===t&&(c.blockedOn=null);for(;0<nr.length&&(s=nr[0],s.blockedOn===null);)ir(s),s.blockedOn===null&&nr.shift()}var mr=ie.ReactCurrentBatchConfig,Mn=!0;function _o(t,n,s,c){var d=ze,g=mr.transition;mr.transition=null;try{ze=1,bi(t,n,s,c)}finally{ze=d,mr.transition=g}}function fo(t,n,s,c){var d=ze,g=mr.transition;mr.transition=null;try{ze=4,bi(t,n,s,c)}finally{ze=d,mr.transition=g}}function bi(t,n,s,c){if(Mn){var d=wi(t,n,s,c);if(d===null)Du(t,n,c,vi,s),ls(t,c);else if(dr(d,t,n,s,c))c.stopPropagation();else if(ls(t,c),n&4&&-1<Eu.indexOf(t)){for(;d!==null;){var g=So(d);if(g!==null&&ao(g),g=wi(t,n,s,c),g===null&&Du(t,n,c,vi,s),g===d)break;d=g}d!==null&&c.stopPropagation()}else Du(t,n,c,null,s)}}var vi=null;function wi(t,n,s,c){if(vi=null,t=Qi(c),t=Oi(t),t!==null)if(n=Rr(t),n===null)t=null;else if(s=n.tag,s===13){if(t=Aa(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return vi=t,null}function cs(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vu()){case _i:return 1;case Na:return 4;case ts:case wu:return 16;case Ca:return 536870912;default:return 16}default:return 16}}var Ce=null,fn=null,Zn=null;function _s(){if(Zn)return Zn;var t,n=fn,s=n.length,c,d="value"in Ce?Ce.value:Ce.textContent,g=d.length;for(t=0;t<s&&n[t]===d[t];t++);var x=s-t;for(c=1;c<=x&&n[s-c]===d[g-c];c++);return Zn=d.slice(t,1<c?1-c:void 0)}function ve(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Dn(){return!0}function xi(){return!1}function ht(t){function n(s,c,d,g,x){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var O in t)t.hasOwnProperty(O)&&(s=t[O],this[O]=s?s(g):g[O]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Dn:xi,this.isPropagationStopped=xi,this}return oe(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),n}var Pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=ht(Pt),dn=oe({},Pt,{view:0,detail:0}),ja=ht(dn),hr,mo,Si,fs=oe({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(hr=t.screenX-Si.screenX,mo=t.screenY-Si.screenY):mo=hr=0,Si=t),hr)},movementY:function(t){return"movementY"in t?t.movementY:mo}}),et=ht(fs),b=oe({},fs,{dataTransfer:0}),m=ht(b),S=oe({},dn,{relatedTarget:0}),z=ht(S),he=oe({},Pt,{animationName:0,elapsedTime:0,pseudoElement:0}),Se=ht(he),Su=oe({},Pt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=ht(Su),M_=oe({},Pt,{data:0}),Ga=ht(M_),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lp(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ap[t])?!!n[t]:!1}function Pu(){return lp}var up=oe({},dn,{key:function(t){if(t.key){var n=sp[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ve(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?op[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(t){return t.type==="keypress"?ve(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ve(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cp=ht(up),_p=oe({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z_=ht(_p),fp=oe({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),dp=ht(fp),mp=oe({},Pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=ht(mp),pp=oe({},fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=ht(pp),yp=[9,13,27,32],Tu=y&&"CompositionEvent"in window,ho=null;y&&"documentMode"in document&&(ho=document.documentMode);var bp=y&&"TextEvent"in window&&!ho,D_=y&&(!Tu||ho&&8<ho&&11>=ho),z_=" ",j_=!1;function G_(t,n){switch(t){case"keyup":return yp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ds=!1;function vp(t,n){switch(t){case"compositionend":return F_(n);case"keypress":return n.which!==32?null:(j_=!0,z_);case"textInput":return t=n.data,t===z_&&j_?null:t;default:return null}}function wp(t,n){if(ds)return t==="compositionend"||!Tu&&G_(t,n)?(t=_s(),Zn=fn=Ce=null,ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return D_&&n.locale!=="ko"?null:n.data;default:return null}}var xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U_(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xp[t.type]:n==="textarea"}function V_(t,n,s,c){Sa(c),n=qa(n,"onChange"),0<n.length&&(s=new Ei("onChange","change",null,s,c),t.push({event:s,listeners:n}))}var po=null,go=null;function Ep(t){lf(t,0)}function Fa(t){var n=ys(t);if(tr(n))return t}function Sp(t,n){if(t==="change")return n}var $_=!1;if(y){var Ru;if(y){var Au="oninput"in document;if(!Au){var q_=document.createElement("div");q_.setAttribute("oninput","return;"),Au=typeof q_.oninput=="function"}Ru=Au}else Ru=!1;$_=Ru&&(!document.documentMode||9<document.documentMode)}function B_(){po&&(po.detachEvent("onpropertychange",W_),go=po=null)}function W_(t){if(t.propertyName==="value"&&Fa(go)){var n=[];V_(n,go,t,Qi(t)),Ct(Ep,n)}}function Op(t,n,s){t==="focusin"?(B_(),po=n,go=s,po.attachEvent("onpropertychange",W_)):t==="focusout"&&B_()}function Pp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fa(go)}function Tp(t,n){if(t==="click")return Fa(n)}function Rp(t,n){if(t==="input"||t==="change")return Fa(n)}function Ap(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var kr=typeof Object.is=="function"?Object.is:Ap;function yo(t,n){if(kr(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!_.call(n,d)||!kr(t[d],n[d]))return!1}return!0}function H_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X_(t,n){var s=H_(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=n&&c>=n)return{node:s,offset:n-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=H_(s)}}function Q_(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Q_(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Y_(){for(var t=window,n=an();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=an(t.document)}return n}function Iu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Ip(t){var n=Y_(),s=t.focusedElem,c=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&Q_(s.ownerDocument.documentElement,s)){if(c!==null&&Iu(s)){if(n=c.start,t=c.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var d=s.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!t.extend&&g>c&&(d=c,c=g,g=d),d=X_(s,g);var x=X_(s,c);d&&x&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),t.removeAllRanges(),g>c?(t.addRange(n),t.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kp=y&&"documentMode"in document&&11>=document.documentMode,ms=null,ku=null,bo=null,Nu=!1;function K_(t,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nu||ms==null||ms!==an(c)||(c=ms,"selectionStart"in c&&Iu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bo&&yo(bo,c)||(bo=c,c=qa(ku,"onSelect"),0<c.length&&(n=new Ei("onSelect","select",null,n,s),t.push({event:n,listeners:c}),n.target=ms)))}function Ua(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var hs={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},Cu={},J_={};y&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Va(t){if(Cu[t])return Cu[t];if(!hs[t])return t;var n=hs[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in J_)return Cu[t]=n[s];return t}var ef=Va("animationend"),tf=Va("animationiteration"),rf=Va("animationstart"),nf=Va("transitionend"),sf=new Map,of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,n){sf.set(t,n),l(n,[t])}for(var Lu=0;Lu<of.length;Lu++){var Mu=of[Lu],Np=Mu.toLowerCase(),Cp=Mu[0].toUpperCase()+Mu.slice(1);zn(Np,"on"+Cp)}zn(ef,"onAnimationEnd"),zn(tf,"onAnimationIteration"),zn(rf,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(nf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function af(t,n,s){var c=t.type||"unknown-event";t.currentTarget=s,ro(c,n,void 0,t),t.currentTarget=null}function lf(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],d=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var x=c.length-1;0<=x;x--){var O=c[x],T=O.instance,L=O.currentTarget;if(O=O.listener,T!==g&&d.isPropagationStopped())break e;af(d,O,L),g=T}else for(x=0;x<c.length;x++){if(O=c[x],T=O.instance,L=O.currentTarget,O=O.listener,T!==g&&d.isPropagationStopped())break e;af(d,O,L),g=T}}}if(ci)throw t=to,ci=!1,to=null,t}function We(t,n){var s=n[Vu];s===void 0&&(s=n[Vu]=new Set);var c=t+"__bubble";s.has(c)||(uf(n,t,2,!1),s.add(c))}function Zu(t,n,s){var c=0;n&&(c|=4),uf(s,t,c,n)}var $a="_reactListening"+Math.random().toString(36).slice(2);function wo(t){if(!t[$a]){t[$a]=!0,i.forEach(function(s){s!=="selectionchange"&&(Lp.has(s)||Zu(s,!1,t),Zu(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$a]||(n[$a]=!0,Zu("selectionchange",!1,n))}}function uf(t,n,s,c){switch(cs(n)){case 1:var d=_o;break;case 4:d=fo;break;default:d=bi}s=d.bind(null,n,s,t),d=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(n,s,{capture:!0,passive:d}):t.addEventListener(n,s,!0):d!==void 0?t.addEventListener(n,s,{passive:d}):t.addEventListener(n,s,!1)}function Du(t,n,s,c,d){var g=c;if(!(n&1)&&!(n&2)&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var O=c.stateNode.containerInfo;if(O===d||O.nodeType===8&&O.parentNode===d)break;if(x===4)for(x=c.return;x!==null;){var T=x.tag;if((T===3||T===4)&&(T=x.stateNode.containerInfo,T===d||T.nodeType===8&&T.parentNode===d))return;x=x.return}for(;O!==null;){if(x=Oi(O),x===null)return;if(T=x.tag,T===5||T===6){c=g=x;continue e}O=O.parentNode}}c=c.return}Ct(function(){var L=g,U=Qi(s),V=[];e:{var F=sf.get(t);if(F!==void 0){var ne=Ei,le=t;switch(t){case"keypress":if(ve(s)===0)break e;case"keydown":case"keyup":ne=cp;break;case"focusin":le="focus",ne=z;break;case"focusout":le="blur",ne=z;break;case"beforeblur":case"afterblur":ne=z;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=et;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=dp;break;case ef:case tf:case rf:ne=Se;break;case nf:ne=hp;break;case"scroll":ne=ja;break;case"wheel":ne=gp;break;case"copy":case"cut":case"paste":ne=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Z_}var ue=(n&4)!==0,at=!ue&&t==="scroll",N=ue?F!==null?F+"Capture":null:F;ue=[];for(var A=L,C;A!==null;){C=A;var H=C.stateNode;if(C.tag===5&&H!==null&&(C=H,N!==null&&(H=ct(A,N),H!=null&&ue.push(xo(A,H,C)))),at)break;A=A.return}0<ue.length&&(F=new ne(F,le,null,s,U),V.push({event:F,listeners:ue}))}}if(!(n&7)){e:{if(F=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",F&&s!==un&&(le=s.relatedTarget||s.fromElement)&&(Oi(le)||le[mn]))break e;if((ne||F)&&(F=U.window===U?U:(F=U.ownerDocument)?F.defaultView||F.parentWindow:window,ne?(le=s.relatedTarget||s.toElement,ne=L,le=le?Oi(le):null,le!==null&&(at=Rr(le),le!==at||le.tag!==5&&le.tag!==6)&&(le=null)):(ne=null,le=L),ne!==le)){if(ue=et,H="onMouseLeave",N="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(ue=Z_,H="onPointerLeave",N="onPointerEnter",A="pointer"),at=ne==null?F:ys(ne),C=le==null?F:ys(le),F=new ue(H,A+"leave",ne,s,U),F.target=at,F.relatedTarget=C,H=null,Oi(U)===L&&(ue=new ue(N,A+"enter",le,s,U),ue.target=C,ue.relatedTarget=at,H=ue),at=H,ne&&le)t:{for(ue=ne,N=le,A=0,C=ue;C;C=ps(C))A++;for(C=0,H=N;H;H=ps(H))C++;for(;0<A-C;)ue=ps(ue),A--;for(;0<C-A;)N=ps(N),C--;for(;A--;){if(ue===N||N!==null&&ue===N.alternate)break t;ue=ps(ue),N=ps(N)}ue=null}else ue=null;ne!==null&&cf(V,F,ne,ue,!1),le!==null&&at!==null&&cf(V,at,le,ue,!0)}}e:{if(F=L?ys(L):window,ne=F.nodeName&&F.nodeName.toLowerCase(),ne==="select"||ne==="input"&&F.type==="file")var ce=Sp;else if(U_(F))if($_)ce=Rp;else{ce=Pp;var de=Op}else(ne=F.nodeName)&&ne.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ce=Tp);if(ce&&(ce=ce(t,L))){V_(V,ce,s,U);break e}de&&de(t,F,L),t==="focusout"&&(de=F._wrapperState)&&de.controlled&&F.type==="number"&&Ys(F,"number",F.value)}switch(de=L?ys(L):window,t){case"focusin":(U_(de)||de.contentEditable==="true")&&(ms=de,ku=L,bo=null);break;case"focusout":bo=ku=ms=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,K_(V,s,U);break;case"selectionchange":if(kp)break;case"keydown":case"keyup":K_(V,s,U)}var me;if(Tu)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ds?G_(t,s)&&(ye="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ye="onCompositionStart");ye&&(D_&&s.locale!=="ko"&&(ds||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ds&&(me=_s()):(Ce=U,fn="value"in Ce?Ce.value:Ce.textContent,ds=!0)),de=qa(L,ye),0<de.length&&(ye=new Ga(ye,t,null,s,U),V.push({event:ye,listeners:de}),me?ye.data=me:(me=F_(s),me!==null&&(ye.data=me)))),(me=bp?vp(t,s):wp(t,s))&&(L=qa(L,"onBeforeInput"),0<L.length&&(U=new Ga("onBeforeInput","beforeinput",null,s,U),V.push({event:U,listeners:L}),U.data=me))}lf(V,n)})}function xo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function qa(t,n){for(var s=n+"Capture",c=[];t!==null;){var d=t,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=ct(t,s),g!=null&&c.unshift(xo(t,g,d)),g=ct(t,n),g!=null&&c.push(xo(t,g,d))),t=t.return}return c}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cf(t,n,s,c,d){for(var g=n._reactName,x=[];s!==null&&s!==c;){var O=s,T=O.alternate,L=O.stateNode;if(T!==null&&T===c)break;O.tag===5&&L!==null&&(O=L,d?(T=ct(s,g),T!=null&&x.unshift(xo(s,T,O))):d||(T=ct(s,g),T!=null&&x.push(xo(s,T,O)))),s=s.return}x.length!==0&&t.push({event:n,listeners:x})}var Mp=/\r\n?/g,Zp=/\u0000|\uFFFD/g;function _f(t){return(typeof t=="string"?t:""+t).replace(Mp,`
`).replace(Zp,"")}function Ba(t,n,s){if(n=_f(n),_f(t)!==n&&s)throw Error(e(425))}function Wa(){}var zu=null,ju=null;function Gu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,zp=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(t){return ff.resolve(null).then(t).catch(jp)}:Fu;function jp(t){setTimeout(function(){throw t})}function Uu(t,n){var s=n,c=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(c===0){t.removeChild(d),_n(n);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=d}while(s);_n(n)}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function df(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Qr="__reactFiber$"+gs,Eo="__reactProps$"+gs,mn="__reactContainer$"+gs,Vu="__reactEvents$"+gs,Gp="__reactListeners$"+gs,Fp="__reactHandles$"+gs;function Oi(t){var n=t[Qr];if(n)return n;for(var s=t.parentNode;s;){if(n=s[mn]||s[Qr]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=df(t);t!==null;){if(s=t[Qr])return s;t=df(t)}return n}t=s,s=t.parentNode}return null}function So(t){return t=t[Qr]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(e(33))}function Ha(t){return t[Eo]||null}var $u=[],bs=-1;function Gn(t){return{current:t}}function He(t){0>bs||(t.current=$u[bs],$u[bs]=null,bs--)}function qe(t,n){bs++,$u[bs]=t.current,t.current=n}var Fn={},Tt=Gn(Fn),Gt=Gn(!1),Pi=Fn;function vs(t,n){var s=t.type.contextTypes;if(!s)return Fn;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in s)d[g]=n[g];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=d),d}function Ft(t){return t=t.childContextTypes,t!=null}function Xa(){He(Gt),He(Tt)}function mf(t,n,s){if(Tt.current!==Fn)throw Error(e(168));qe(Tt,n),qe(Gt,s)}function hf(t,n,s){var c=t.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var d in c)if(!(d in n))throw Error(e(108,Ue(t)||"Unknown",d));return oe({},s,c)}function Qa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fn,Pi=Tt.current,qe(Tt,t),qe(Gt,Gt.current),!0}function pf(t,n,s){var c=t.stateNode;if(!c)throw Error(e(169));s?(t=hf(t,n,Pi),c.__reactInternalMemoizedMergedChildContext=t,He(Gt),He(Tt),qe(Tt,t)):He(Gt),qe(Gt,s)}var hn=null,Ya=!1,qu=!1;function gf(t){hn===null?hn=[t]:hn.push(t)}function Up(t){Ya=!0,gf(t)}function Un(){if(!qu&&hn!==null){qu=!0;var t=0,n=ze;try{var s=hn;for(ze=1;t<s.length;t++){var c=s[t];do c=c(!0);while(c!==null)}hn=null,Ya=!1}catch(d){throw hn!==null&&(hn=hn.slice(t+1)),Ia(_i,Un),d}finally{ze=n,qu=!1}}return null}var ws=[],xs=0,Ka=null,Ja=0,pr=[],gr=0,Ti=null,pn=1,gn="";function Ri(t,n){ws[xs++]=Ja,ws[xs++]=Ka,Ka=t,Ja=n}function yf(t,n,s){pr[gr++]=pn,pr[gr++]=gn,pr[gr++]=Ti,Ti=t;var c=pn;t=gn;var d=32-zt(c)-1;c&=~(1<<d),s+=1;var g=32-zt(n)+d;if(30<g){var x=d-d%5;g=(c&(1<<x)-1).toString(32),c>>=x,d-=x,pn=1<<32-zt(n)+d|s<<d|c,gn=g+t}else pn=1<<g|s<<d|c,gn=t}function Bu(t){t.return!==null&&(Ri(t,1),yf(t,1,0))}function Wu(t){for(;t===Ka;)Ka=ws[--xs],ws[xs]=null,Ja=ws[--xs],ws[xs]=null;for(;t===Ti;)Ti=pr[--gr],pr[gr]=null,gn=pr[--gr],pr[gr]=null,pn=pr[--gr],pr[gr]=null}var sr=null,or=null,Ke=!1,Nr=null;function bf(t,n){var s=wr(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function vf(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,sr=t,or=jn(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,sr=t,or=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Ti!==null?{id:pn,overflow:gn}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=wr(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,sr=t,or=null,!0):!1;default:return!1}}function Hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xu(t){if(Ke){var n=or;if(n){var s=n;if(!vf(t,n)){if(Hu(t))throw Error(e(418));n=jn(s.nextSibling);var c=sr;n&&vf(t,n)?bf(c,s):(t.flags=t.flags&-4097|2,Ke=!1,sr=t)}}else{if(Hu(t))throw Error(e(418));t.flags=t.flags&-4097|2,Ke=!1,sr=t}}}function wf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sr=t}function el(t){if(t!==sr)return!1;if(!Ke)return wf(t),Ke=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Gu(t.type,t.memoizedProps)),n&&(n=or)){if(Hu(t))throw xf(),Error(e(418));for(;n;)bf(t,n),n=jn(n.nextSibling)}if(wf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(e(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){or=jn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}or=null}}else or=sr?jn(t.stateNode.nextSibling):null;return!0}function xf(){for(var t=or;t;)t=jn(t.nextSibling)}function Es(){or=sr=null,Ke=!1}function Qu(t){Nr===null?Nr=[t]:Nr.push(t)}var Vp=ie.ReactCurrentBatchConfig;function Oo(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(e(309));var c=s.stateNode}if(!c)throw Error(e(147,t));var d=c,g=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(x){var O=d.refs;x===null?delete O[g]:O[g]=x},n._stringRef=g,n)}if(typeof t!="string")throw Error(e(284));if(!s._owner)throw Error(e(290,t))}return t}function tl(t,n){throw t=Object.prototype.toString.call(n),Error(e(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Ef(t){var n=t._init;return n(t._payload)}function Sf(t){function n(N,A){if(t){var C=N.deletions;C===null?(N.deletions=[A],N.flags|=16):C.push(A)}}function s(N,A){if(!t)return null;for(;A!==null;)n(N,A),A=A.sibling;return null}function c(N,A){for(N=new Map;A!==null;)A.key!==null?N.set(A.key,A):N.set(A.index,A),A=A.sibling;return N}function d(N,A){return N=Qn(N,A),N.index=0,N.sibling=null,N}function g(N,A,C){return N.index=C,t?(C=N.alternate,C!==null?(C=C.index,C<A?(N.flags|=2,A):C):(N.flags|=2,A)):(N.flags|=1048576,A)}function x(N){return t&&N.alternate===null&&(N.flags|=2),N}function O(N,A,C,H){return A===null||A.tag!==6?(A=Fc(C,N.mode,H),A.return=N,A):(A=d(A,C),A.return=N,A)}function T(N,A,C,H){var ce=C.type;return ce===$e?U(N,A,C.props.children,H,C.key):A!==null&&(A.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===mt&&Ef(ce)===A.type)?(H=d(A,C.props),H.ref=Oo(N,A,C),H.return=N,H):(H=Ol(C.type,C.key,C.props,null,N.mode,H),H.ref=Oo(N,A,C),H.return=N,H)}function L(N,A,C,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=Uc(C,N.mode,H),A.return=N,A):(A=d(A,C.children||[]),A.return=N,A)}function U(N,A,C,H,ce){return A===null||A.tag!==7?(A=Zi(C,N.mode,H,ce),A.return=N,A):(A=d(A,C),A.return=N,A)}function V(N,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Fc(""+A,N.mode,C),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case be:return C=Ol(A.type,A.key,A.props,null,N.mode,C),C.ref=Oo(N,null,A),C.return=N,C;case Ze:return A=Uc(A,N.mode,C),A.return=N,A;case mt:var H=A._init;return V(N,H(A._payload),C)}if(ui(A)||fe(A))return A=Zi(A,N.mode,C,null),A.return=N,A;tl(N,A)}return null}function F(N,A,C,H){var ce=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return ce!==null?null:O(N,A,""+C,H);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case be:return C.key===ce?T(N,A,C,H):null;case Ze:return C.key===ce?L(N,A,C,H):null;case mt:return ce=C._init,F(N,A,ce(C._payload),H)}if(ui(C)||fe(C))return ce!==null?null:U(N,A,C,H,null);tl(N,C)}return null}function ne(N,A,C,H,ce){if(typeof H=="string"&&H!==""||typeof H=="number")return N=N.get(C)||null,O(A,N,""+H,ce);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case be:return N=N.get(H.key===null?C:H.key)||null,T(A,N,H,ce);case Ze:return N=N.get(H.key===null?C:H.key)||null,L(A,N,H,ce);case mt:var de=H._init;return ne(N,A,C,de(H._payload),ce)}if(ui(H)||fe(H))return N=N.get(C)||null,U(A,N,H,ce,null);tl(A,H)}return null}function le(N,A,C,H){for(var ce=null,de=null,me=A,ye=A=0,yt=null;me!==null&&ye<C.length;ye++){me.index>ye?(yt=me,me=null):yt=me.sibling;var je=F(N,me,C[ye],H);if(je===null){me===null&&(me=yt);break}t&&me&&je.alternate===null&&n(N,me),A=g(je,A,ye),de===null?ce=je:de.sibling=je,de=je,me=yt}if(ye===C.length)return s(N,me),Ke&&Ri(N,ye),ce;if(me===null){for(;ye<C.length;ye++)me=V(N,C[ye],H),me!==null&&(A=g(me,A,ye),de===null?ce=me:de.sibling=me,de=me);return Ke&&Ri(N,ye),ce}for(me=c(N,me);ye<C.length;ye++)yt=ne(me,N,ye,C[ye],H),yt!==null&&(t&&yt.alternate!==null&&me.delete(yt.key===null?ye:yt.key),A=g(yt,A,ye),de===null?ce=yt:de.sibling=yt,de=yt);return t&&me.forEach(function(Yn){return n(N,Yn)}),Ke&&Ri(N,ye),ce}function ue(N,A,C,H){var ce=fe(C);if(typeof ce!="function")throw Error(e(150));if(C=ce.call(C),C==null)throw Error(e(151));for(var de=ce=null,me=A,ye=A=0,yt=null,je=C.next();me!==null&&!je.done;ye++,je=C.next()){me.index>ye?(yt=me,me=null):yt=me.sibling;var Yn=F(N,me,je.value,H);if(Yn===null){me===null&&(me=yt);break}t&&me&&Yn.alternate===null&&n(N,me),A=g(Yn,A,ye),de===null?ce=Yn:de.sibling=Yn,de=Yn,me=yt}if(je.done)return s(N,me),Ke&&Ri(N,ye),ce;if(me===null){for(;!je.done;ye++,je=C.next())je=V(N,je.value,H),je!==null&&(A=g(je,A,ye),de===null?ce=je:de.sibling=je,de=je);return Ke&&Ri(N,ye),ce}for(me=c(N,me);!je.done;ye++,je=C.next())je=ne(me,N,ye,je.value,H),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?ye:je.key),A=g(je,A,ye),de===null?ce=je:de.sibling=je,de=je);return t&&me.forEach(function(wg){return n(N,wg)}),Ke&&Ri(N,ye),ce}function at(N,A,C,H){if(typeof C=="object"&&C!==null&&C.type===$e&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case be:e:{for(var ce=C.key,de=A;de!==null;){if(de.key===ce){if(ce=C.type,ce===$e){if(de.tag===7){s(N,de.sibling),A=d(de,C.props.children),A.return=N,N=A;break e}}else if(de.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===mt&&Ef(ce)===de.type){s(N,de.sibling),A=d(de,C.props),A.ref=Oo(N,de,C),A.return=N,N=A;break e}s(N,de);break}else n(N,de);de=de.sibling}C.type===$e?(A=Zi(C.props.children,N.mode,H,C.key),A.return=N,N=A):(H=Ol(C.type,C.key,C.props,null,N.mode,H),H.ref=Oo(N,A,C),H.return=N,N=H)}return x(N);case Ze:e:{for(de=C.key;A!==null;){if(A.key===de)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){s(N,A.sibling),A=d(A,C.children||[]),A.return=N,N=A;break e}else{s(N,A);break}else n(N,A);A=A.sibling}A=Uc(C,N.mode,H),A.return=N,N=A}return x(N);case mt:return de=C._init,at(N,A,de(C._payload),H)}if(ui(C))return le(N,A,C,H);if(fe(C))return ue(N,A,C,H);tl(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,A!==null&&A.tag===6?(s(N,A.sibling),A=d(A,C),A.return=N,N=A):(s(N,A),A=Fc(C,N.mode,H),A.return=N,N=A),x(N)):s(N,A)}return at}var Ss=Sf(!0),Of=Sf(!1),rl=Gn(null),nl=null,Os=null,Yu=null;function Ku(){Yu=Os=nl=null}function Ju(t){var n=rl.current;He(rl),t._currentValue=n}function ec(t,n,s){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===s)break;t=t.return}}function Ps(t,n){nl=t,Yu=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(Ut=!0),t.firstContext=null)}function yr(t){var n=t._currentValue;if(Yu!==t)if(t={context:t,memoizedValue:n,next:null},Os===null){if(nl===null)throw Error(e(308));Os=t,nl.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return n}var Ai=null;function tc(t){Ai===null?Ai=[t]:Ai.push(t)}function Pf(t,n,s,c){var d=n.interleaved;return d===null?(s.next=s,tc(n)):(s.next=d.next,d.next=s),n.interleaved=s,yn(t,c)}function yn(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Vn=!1;function rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function $n(t,n,s){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,De&2){var d=c.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),c.pending=n,yn(t,s)}return d=c.interleaved,d===null?(n.next=n,tc(c)):(n.next=d.next,d.next=n),c.interleaved=n,yn(t,s)}function il(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var c=n.lanes;c&=t.pendingLanes,s|=c,n.lanes=s,hi(t,s)}}function Rf(t,n){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var x={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?d=g=x:g=g.next=x,s=s.next}while(s!==null);g===null?d=g=n:g=g.next=n}else d=g=n;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function sl(t,n,s,c){var d=t.updateQueue;Vn=!1;var g=d.firstBaseUpdate,x=d.lastBaseUpdate,O=d.shared.pending;if(O!==null){d.shared.pending=null;var T=O,L=T.next;T.next=null,x===null?g=L:x.next=L,x=T;var U=t.alternate;U!==null&&(U=U.updateQueue,O=U.lastBaseUpdate,O!==x&&(O===null?U.firstBaseUpdate=L:O.next=L,U.lastBaseUpdate=T))}if(g!==null){var V=d.baseState;x=0,U=L=T=null,O=g;do{var F=O.lane,ne=O.eventTime;if((c&F)===F){U!==null&&(U=U.next={eventTime:ne,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var le=t,ue=O;switch(F=n,ne=s,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){V=le.call(ne,V,F);break e}V=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,F=typeof le=="function"?le.call(ne,V,F):le,F==null)break e;V=oe({},V,F);break e;case 2:Vn=!0}}O.callback!==null&&O.lane!==0&&(t.flags|=64,F=d.effects,F===null?d.effects=[O]:F.push(O))}else ne={eventTime:ne,lane:F,tag:O.tag,payload:O.payload,callback:O.callback,next:null},U===null?(L=U=ne,T=V):U=U.next=ne,x|=F;if(O=O.next,O===null){if(O=d.shared.pending,O===null)break;F=O,O=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);if(U===null&&(T=V),d.baseState=T,d.firstBaseUpdate=L,d.lastBaseUpdate=U,n=d.shared.interleaved,n!==null){d=n;do x|=d.lane,d=d.next;while(d!==n)}else g===null&&(d.shared.lanes=0);Ni|=x,t.lanes=x,t.memoizedState=V}}function Af(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var c=t[n],d=c.callback;if(d!==null){if(c.callback=null,c=s,typeof d!="function")throw Error(e(191,d));d.call(c)}}}var Po={},Yr=Gn(Po),To=Gn(Po),Ro=Gn(Po);function Ii(t){if(t===Po)throw Error(e(174));return t}function nc(t,n){switch(qe(Ro,n),qe(To,t),qe(Yr,Po),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Wr(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Wr(n,t)}He(Yr),qe(Yr,n)}function Ts(){He(Yr),He(To),He(Ro)}function If(t){Ii(Ro.current);var n=Ii(Yr.current),s=Wr(n,t.type);n!==s&&(qe(To,t),qe(Yr,s))}function ic(t){To.current===t&&(He(Yr),He(To))}var tt=Gn(0);function ol(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var sc=[];function oc(){for(var t=0;t<sc.length;t++)sc[t]._workInProgressVersionPrimary=null;sc.length=0}var al=ie.ReactCurrentDispatcher,ac=ie.ReactCurrentBatchConfig,ki=0,rt=null,_t=null,pt=null,ll=!1,Ao=!1,Io=0,$p=0;function Rt(){throw Error(e(321))}function lc(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!kr(t[s],n[s]))return!1;return!0}function uc(t,n,s,c,d,g){if(ki=g,rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,al.current=t===null||t.memoizedState===null?Hp:Xp,t=s(c,d),Ao){g=0;do{if(Ao=!1,Io=0,25<=g)throw Error(e(301));g+=1,pt=_t=null,n.updateQueue=null,al.current=Qp,t=s(c,d)}while(Ao)}if(al.current=_l,n=_t!==null&&_t.next!==null,ki=0,pt=_t=rt=null,ll=!1,n)throw Error(e(300));return t}function cc(){var t=Io!==0;return Io=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?rt.memoizedState=pt=t:pt=pt.next=t,pt}function br(){if(_t===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var n=pt===null?rt.memoizedState:pt.next;if(n!==null)pt=n,_t=t;else{if(t===null)throw Error(e(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},pt===null?rt.memoizedState=pt=t:pt=pt.next=t}return pt}function ko(t,n){return typeof n=="function"?n(t):n}function _c(t){var n=br(),s=n.queue;if(s===null)throw Error(e(311));s.lastRenderedReducer=t;var c=_t,d=c.baseQueue,g=s.pending;if(g!==null){if(d!==null){var x=d.next;d.next=g.next,g.next=x}c.baseQueue=d=g,s.pending=null}if(d!==null){g=d.next,c=c.baseState;var O=x=null,T=null,L=g;do{var U=L.lane;if((ki&U)===U)T!==null&&(T=T.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),c=L.hasEagerState?L.eagerState:t(c,L.action);else{var V={lane:U,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};T===null?(O=T=V,x=c):T=T.next=V,rt.lanes|=U,Ni|=U}L=L.next}while(L!==null&&L!==g);T===null?x=c:T.next=O,kr(c,n.memoizedState)||(Ut=!0),n.memoizedState=c,n.baseState=x,n.baseQueue=T,s.lastRenderedState=c}if(t=s.interleaved,t!==null){d=t;do g=d.lane,rt.lanes|=g,Ni|=g,d=d.next;while(d!==t)}else d===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function fc(t){var n=br(),s=n.queue;if(s===null)throw Error(e(311));s.lastRenderedReducer=t;var c=s.dispatch,d=s.pending,g=n.memoizedState;if(d!==null){s.pending=null;var x=d=d.next;do g=t(g,x.action),x=x.next;while(x!==d);kr(g,n.memoizedState)||(Ut=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,c]}function kf(){}function Nf(t,n){var s=rt,c=br(),d=n(),g=!kr(c.memoizedState,d);if(g&&(c.memoizedState=d,Ut=!0),c=c.queue,dc(Mf.bind(null,s,c,t),[t]),c.getSnapshot!==n||g||pt!==null&&pt.memoizedState.tag&1){if(s.flags|=2048,No(9,Lf.bind(null,s,c,d,n),void 0,null),gt===null)throw Error(e(349));ki&30||Cf(s,n,d)}return d}function Cf(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=rt.updateQueue,n===null?(n={lastEffect:null,stores:null},rt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Lf(t,n,s,c){n.value=s,n.getSnapshot=c,Zf(n)&&Df(t)}function Mf(t,n,s){return s(function(){Zf(n)&&Df(t)})}function Zf(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!kr(t,s)}catch{return!0}}function Df(t){var n=yn(t,1);n!==null&&Zr(n,t,1,-1)}function zf(t){var n=Kr();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:t},n.queue=t,t=t.dispatch=Wp.bind(null,rt,t),[n.memoizedState,t]}function No(t,n,s,c){return t={tag:t,create:n,destroy:s,deps:c,next:null},n=rt.updateQueue,n===null?(n={lastEffect:null,stores:null},rt.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,n.lastEffect=t)),t}function jf(){return br().memoizedState}function ul(t,n,s,c){var d=Kr();rt.flags|=t,d.memoizedState=No(1|n,s,void 0,c===void 0?null:c)}function cl(t,n,s,c){var d=br();c=c===void 0?null:c;var g=void 0;if(_t!==null){var x=_t.memoizedState;if(g=x.destroy,c!==null&&lc(c,x.deps)){d.memoizedState=No(n,s,g,c);return}}rt.flags|=t,d.memoizedState=No(1|n,s,g,c)}function Gf(t,n){return ul(8390656,8,t,n)}function dc(t,n){return cl(2048,8,t,n)}function Ff(t,n){return cl(4,2,t,n)}function Uf(t,n){return cl(4,4,t,n)}function Vf(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $f(t,n,s){return s=s!=null?s.concat([t]):null,cl(4,4,Vf.bind(null,n,t),s)}function mc(){}function qf(t,n){var s=br();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&lc(n,c[1])?c[0]:(s.memoizedState=[t,n],t)}function Bf(t,n){var s=br();n=n===void 0?null:n;var c=s.memoizedState;return c!==null&&n!==null&&lc(n,c[1])?c[0]:(t=t(),s.memoizedState=[t,n],t)}function Wf(t,n,s){return ki&21?(kr(s,n)||(s=io(),rt.lanes|=s,Ni|=s,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=s)}function qp(t,n){var s=ze;ze=s!==0&&4>s?s:4,t(!0);var c=ac.transition;ac.transition={};try{t(!1),n()}finally{ze=s,ac.transition=c}}function Hf(){return br().memoizedState}function Bp(t,n,s){var c=Hn(t);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},Xf(t))Qf(n,s);else if(s=Pf(t,n,s,c),s!==null){var d=Mt();Zr(s,t,c,d),Yf(s,n,c)}}function Wp(t,n,s){var c=Hn(t),d={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xf(t))Qf(n,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var x=n.lastRenderedState,O=g(x,s);if(d.hasEagerState=!0,d.eagerState=O,kr(O,x)){var T=n.interleaved;T===null?(d.next=d,tc(n)):(d.next=T.next,T.next=d),n.interleaved=d;return}}catch{}finally{}s=Pf(t,n,d,c),s!==null&&(d=Mt(),Zr(s,t,c,d),Yf(s,n,c))}}function Xf(t){var n=t.alternate;return t===rt||n!==null&&n===rt}function Qf(t,n){Ao=ll=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Yf(t,n,s){if(s&4194240){var c=n.lanes;c&=t.pendingLanes,s|=c,n.lanes=s,hi(t,s)}}var _l={readContext:yr,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Hp={readContext:yr,useCallback:function(t,n){return Kr().memoizedState=[t,n===void 0?null:n],t},useContext:yr,useEffect:Gf,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,ul(4194308,4,Vf.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ul(4194308,4,t,n)},useInsertionEffect:function(t,n){return ul(4,2,t,n)},useMemo:function(t,n){var s=Kr();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var c=Kr();return n=s!==void 0?s(n):n,c.memoizedState=c.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},c.queue=t,t=t.dispatch=Bp.bind(null,rt,t),[c.memoizedState,t]},useRef:function(t){var n=Kr();return t={current:t},n.memoizedState=t},useState:zf,useDebugValue:mc,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=zf(!1),n=t[0];return t=qp.bind(null,t[1]),Kr().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var c=rt,d=Kr();if(Ke){if(s===void 0)throw Error(e(407));s=s()}else{if(s=n(),gt===null)throw Error(e(349));ki&30||Cf(c,n,s)}d.memoizedState=s;var g={value:s,getSnapshot:n};return d.queue=g,Gf(Mf.bind(null,c,g,t),[t]),c.flags|=2048,No(9,Lf.bind(null,c,g,s,n),void 0,null),s},useId:function(){var t=Kr(),n=gt.identifierPrefix;if(Ke){var s=gn,c=pn;s=(c&~(1<<32-zt(c)-1)).toString(32)+s,n=":"+n+"R"+s,s=Io++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=$p++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Xp={readContext:yr,useCallback:qf,useContext:yr,useEffect:dc,useImperativeHandle:$f,useInsertionEffect:Ff,useLayoutEffect:Uf,useMemo:Bf,useReducer:_c,useRef:jf,useState:function(){return _c(ko)},useDebugValue:mc,useDeferredValue:function(t){var n=br();return Wf(n,_t.memoizedState,t)},useTransition:function(){var t=_c(ko)[0],n=br().memoizedState;return[t,n]},useMutableSource:kf,useSyncExternalStore:Nf,useId:Hf,unstable_isNewReconciler:!1},Qp={readContext:yr,useCallback:qf,useContext:yr,useEffect:dc,useImperativeHandle:$f,useInsertionEffect:Ff,useLayoutEffect:Uf,useMemo:Bf,useReducer:fc,useRef:jf,useState:function(){return fc(ko)},useDebugValue:mc,useDeferredValue:function(t){var n=br();return _t===null?n.memoizedState=t:Wf(n,_t.memoizedState,t)},useTransition:function(){var t=fc(ko)[0],n=br().memoizedState;return[t,n]},useMutableSource:kf,useSyncExternalStore:Nf,useId:Hf,unstable_isNewReconciler:!1};function Cr(t,n){if(t&&t.defaultProps){n=oe({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function hc(t,n,s,c){n=t.memoizedState,s=s(c,n),s=s==null?n:oe({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var fl={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var c=Mt(),d=Hn(t),g=bn(c,d);g.payload=n,s!=null&&(g.callback=s),n=$n(t,g,d),n!==null&&(Zr(n,t,d,c),il(n,t,d))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var c=Mt(),d=Hn(t),g=bn(c,d);g.tag=1,g.payload=n,s!=null&&(g.callback=s),n=$n(t,g,d),n!==null&&(Zr(n,t,d,c),il(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Mt(),c=Hn(t),d=bn(s,c);d.tag=2,n!=null&&(d.callback=n),n=$n(t,d,c),n!==null&&(Zr(n,t,c,s),il(n,t,c))}};function Kf(t,n,s,c,d,g,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,x):n.prototype&&n.prototype.isPureReactComponent?!yo(s,c)||!yo(d,g):!0}function Jf(t,n,s){var c=!1,d=Fn,g=n.contextType;return typeof g=="object"&&g!==null?g=yr(g):(d=Ft(n)?Pi:Tt.current,c=n.contextTypes,g=(c=c!=null)?vs(t,d):Fn),n=new n(s,g),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=fl,t.stateNode=n,n._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=g),n}function ed(t,n,s,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==t&&fl.enqueueReplaceState(n,n.state,null)}function pc(t,n,s,c){var d=t.stateNode;d.props=s,d.state=t.memoizedState,d.refs={},rc(t);var g=n.contextType;typeof g=="object"&&g!==null?d.context=yr(g):(g=Ft(n)?Pi:Tt.current,d.context=vs(t,g)),d.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(hc(t,n,g,s),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&fl.enqueueReplaceState(d,d.state,null),sl(t,s,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Rs(t,n){try{var s="",c=n;do s+=Ie(c),c=c.return;while(c);var d=s}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:n,stack:d,digest:null}}function gc(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function yc(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Yp=typeof WeakMap=="function"?WeakMap:Map;function td(t,n,s){s=bn(-1,s),s.tag=3,s.payload={element:null};var c=n.value;return s.callback=function(){bl||(bl=!0,Cc=c),yc(t,n)},s}function rd(t,n,s){s=bn(-1,s),s.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=n.value;s.payload=function(){return c(d)},s.callback=function(){yc(t,n)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){yc(t,n),typeof c!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),s}function nd(t,n,s){var c=t.pingCache;if(c===null){c=t.pingCache=new Yp;var d=new Set;c.set(n,d)}else d=c.get(n),d===void 0&&(d=new Set,c.set(n,d));d.has(s)||(d.add(s),t=_g.bind(null,t,n,s),n.then(t,t))}function id(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function sd(t,n,s,c,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=bn(-1,1),n.tag=2,$n(s,n,1))),s.lanes|=1),t)}var Kp=ie.ReactCurrentOwner,Ut=!1;function Lt(t,n,s,c){n.child=t===null?Of(n,null,s,c):Ss(n,t.child,s,c)}function od(t,n,s,c,d){s=s.render;var g=n.ref;return Ps(n,d),c=uc(t,n,s,c,g,d),s=cc(),t!==null&&!Ut?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,vn(t,n,d)):(Ke&&s&&Bu(n),n.flags|=1,Lt(t,n,c,d),n.child)}function ad(t,n,s,c,d){if(t===null){var g=s.type;return typeof g=="function"&&!Gc(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=g,ld(t,n,g,c,d)):(t=Ol(s.type,null,c,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(g=t.child,!(t.lanes&d)){var x=g.memoizedProps;if(s=s.compare,s=s!==null?s:yo,s(x,c)&&t.ref===n.ref)return vn(t,n,d)}return n.flags|=1,t=Qn(g,c),t.ref=n.ref,t.return=n,n.child=t}function ld(t,n,s,c,d){if(t!==null){var g=t.memoizedProps;if(yo(g,c)&&t.ref===n.ref)if(Ut=!1,n.pendingProps=c=g,(t.lanes&d)!==0)t.flags&131072&&(Ut=!0);else return n.lanes=t.lanes,vn(t,n,d)}return bc(t,n,s,c,d)}function ud(t,n,s){var c=n.pendingProps,d=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Is,ar),ar|=s;else{if(!(s&1073741824))return t=g!==null?g.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,qe(Is,ar),ar|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:s,qe(Is,ar),ar|=c}else g!==null?(c=g.baseLanes|s,n.memoizedState=null):c=s,qe(Is,ar),ar|=c;return Lt(t,n,d,s),n.child}function cd(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function bc(t,n,s,c,d){var g=Ft(s)?Pi:Tt.current;return g=vs(n,g),Ps(n,d),s=uc(t,n,s,c,g,d),c=cc(),t!==null&&!Ut?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,vn(t,n,d)):(Ke&&c&&Bu(n),n.flags|=1,Lt(t,n,s,d),n.child)}function _d(t,n,s,c,d){if(Ft(s)){var g=!0;Qa(n)}else g=!1;if(Ps(n,d),n.stateNode===null)ml(t,n),Jf(n,s,c),pc(n,s,c,d),c=!0;else if(t===null){var x=n.stateNode,O=n.memoizedProps;x.props=O;var T=x.context,L=s.contextType;typeof L=="object"&&L!==null?L=yr(L):(L=Ft(s)?Pi:Tt.current,L=vs(n,L));var U=s.getDerivedStateFromProps,V=typeof U=="function"||typeof x.getSnapshotBeforeUpdate=="function";V||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==c||T!==L)&&ed(n,x,c,L),Vn=!1;var F=n.memoizedState;x.state=F,sl(n,c,x,d),T=n.memoizedState,O!==c||F!==T||Gt.current||Vn?(typeof U=="function"&&(hc(n,s,U,c),T=n.memoizedState),(O=Vn||Kf(n,s,O,c,F,T,L))?(V||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=T),x.props=c,x.state=T,x.context=L,c=O):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{x=n.stateNode,Tf(t,n),O=n.memoizedProps,L=n.type===n.elementType?O:Cr(n.type,O),x.props=L,V=n.pendingProps,F=x.context,T=s.contextType,typeof T=="object"&&T!==null?T=yr(T):(T=Ft(s)?Pi:Tt.current,T=vs(n,T));var ne=s.getDerivedStateFromProps;(U=typeof ne=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==V||F!==T)&&ed(n,x,c,T),Vn=!1,F=n.memoizedState,x.state=F,sl(n,c,x,d);var le=n.memoizedState;O!==V||F!==le||Gt.current||Vn?(typeof ne=="function"&&(hc(n,s,ne,c),le=n.memoizedState),(L=Vn||Kf(n,s,L,c,F,le,T)||!1)?(U||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,le,T),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,le,T)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=le),x.props=c,x.state=le,x.context=T,c=L):(typeof x.componentDidUpdate!="function"||O===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),c=!1)}return vc(t,n,s,c,g,d)}function vc(t,n,s,c,d,g){cd(t,n);var x=(n.flags&128)!==0;if(!c&&!x)return d&&pf(n,s,!1),vn(t,n,g);c=n.stateNode,Kp.current=n;var O=x&&typeof s.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,t!==null&&x?(n.child=Ss(n,t.child,null,g),n.child=Ss(n,null,O,g)):Lt(t,n,O,g),n.memoizedState=c.state,d&&pf(n,s,!0),n.child}function fd(t){var n=t.stateNode;n.pendingContext?mf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&mf(t,n.context,!1),nc(t,n.containerInfo)}function dd(t,n,s,c,d){return Es(),Qu(d),n.flags|=256,Lt(t,n,s,c),n.child}var wc={dehydrated:null,treeContext:null,retryLane:0};function xc(t){return{baseLanes:t,cachePool:null,transitions:null}}function md(t,n,s){var c=n.pendingProps,d=tt.current,g=!1,x=(n.flags&128)!==0,O;if((O=x)||(O=t!==null&&t.memoizedState===null?!1:(d&2)!==0),O?(g=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),qe(tt,d&1),t===null)return Xu(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(x=c.children,t=c.fallback,g?(c=n.mode,g=n.child,x={mode:"hidden",children:x},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=x):g=Pl(x,c,0,null),t=Zi(t,c,s,null),g.return=n,t.return=n,g.sibling=t,n.child=g,n.child.memoizedState=xc(s),n.memoizedState=wc,t):Ec(n,x));if(d=t.memoizedState,d!==null&&(O=d.dehydrated,O!==null))return Jp(t,n,x,c,O,d,s);if(g){g=c.fallback,x=n.mode,d=t.child,O=d.sibling;var T={mode:"hidden",children:c.children};return!(x&1)&&n.child!==d?(c=n.child,c.childLanes=0,c.pendingProps=T,n.deletions=null):(c=Qn(d,T),c.subtreeFlags=d.subtreeFlags&14680064),O!==null?g=Qn(O,g):(g=Zi(g,x,s,null),g.flags|=2),g.return=n,c.return=n,c.sibling=g,n.child=c,c=g,g=n.child,x=t.child.memoizedState,x=x===null?xc(s):{baseLanes:x.baseLanes|s,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=t.childLanes&~s,n.memoizedState=wc,c}return g=t.child,t=g.sibling,c=Qn(g,{mode:"visible",children:c.children}),!(n.mode&1)&&(c.lanes=s),c.return=n,c.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=c,n.memoizedState=null,c}function Ec(t,n){return n=Pl({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function dl(t,n,s,c){return c!==null&&Qu(c),Ss(n,t.child,null,s),t=Ec(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jp(t,n,s,c,d,g,x){if(s)return n.flags&256?(n.flags&=-257,c=gc(Error(e(422))),dl(t,n,x,c)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(g=c.fallback,d=n.mode,c=Pl({mode:"visible",children:c.children},d,0,null),g=Zi(g,d,x,null),g.flags|=2,c.return=n,g.return=n,c.sibling=g,n.child=c,n.mode&1&&Ss(n,t.child,null,x),n.child.memoizedState=xc(x),n.memoizedState=wc,g);if(!(n.mode&1))return dl(t,n,x,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var O=c.dgst;return c=O,g=Error(e(419)),c=gc(g,c,void 0),dl(t,n,x,c)}if(O=(x&t.childLanes)!==0,Ut||O){if(c=gt,c!==null){switch(x&-x){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|x)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,yn(t,d),Zr(c,t,d,-1))}return jc(),c=gc(Error(e(421))),dl(t,n,x,c)}return d.data==="$?"?(n.flags|=128,n.child=t.child,n=fg.bind(null,t),d._reactRetry=n,null):(t=g.treeContext,or=jn(d.nextSibling),sr=n,Ke=!0,Nr=null,t!==null&&(pr[gr++]=pn,pr[gr++]=gn,pr[gr++]=Ti,pn=t.id,gn=t.overflow,Ti=n),n=Ec(n,c.children),n.flags|=4096,n)}function hd(t,n,s){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),ec(t.return,n,s)}function Sc(t,n,s,c,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=s,g.tailMode=d)}function pd(t,n,s){var c=n.pendingProps,d=c.revealOrder,g=c.tail;if(Lt(t,n,c.children,s),c=tt.current,c&2)c=c&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hd(t,s,n);else if(t.tag===19)hd(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(qe(tt,c),!(n.mode&1))n.memoizedState=null;else switch(d){case"forwards":for(s=n.child,d=null;s!==null;)t=s.alternate,t!==null&&ol(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=n.child,n.child=null):(d=s.sibling,s.sibling=null),Sc(n,!1,d,s,g);break;case"backwards":for(s=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&ol(t)===null){n.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Sc(n,!0,s,null,g);break;case"together":Sc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ml(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function vn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ni|=n.lanes,!(s&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(e(153));if(n.child!==null){for(t=n.child,s=Qn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Qn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function eg(t,n,s){switch(n.tag){case 3:fd(n),Es();break;case 5:If(n);break;case 1:Ft(n.type)&&Qa(n);break;case 4:nc(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,d=n.memoizedProps.value;qe(rl,c._currentValue),c._currentValue=d;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(qe(tt,tt.current&1),n.flags|=128,null):s&n.child.childLanes?md(t,n,s):(qe(tt,tt.current&1),t=vn(t,n,s),t!==null?t.sibling:null);qe(tt,tt.current&1);break;case 19:if(c=(s&n.childLanes)!==0,t.flags&128){if(c)return pd(t,n,s);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(tt,tt.current),c)break;return null;case 22:case 23:return n.lanes=0,ud(t,n,s)}return vn(t,n,s)}var gd,Oc,yd,bd;gd=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Oc=function(){},yd=function(t,n,s,c){var d=t.memoizedProps;if(d!==c){t=n.stateNode,Ii(Yr.current);var g=null;switch(s){case"input":d=Xs(t,d),c=Xs(t,c),g=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),g=[];break;case"textarea":d=Ks(t,d),c=Ks(t,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Wa)}Js(s,c);var x;s=null;for(L in d)if(!c.hasOwnProperty(L)&&d.hasOwnProperty(L)&&d[L]!=null)if(L==="style"){var O=d[L];for(x in O)O.hasOwnProperty(x)&&(s||(s={}),s[x]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?g||(g=[]):(g=g||[]).push(L,null));for(L in c){var T=c[L];if(O=d!=null?d[L]:void 0,c.hasOwnProperty(L)&&T!==O&&(T!=null||O!=null))if(L==="style")if(O){for(x in O)!O.hasOwnProperty(x)||T&&T.hasOwnProperty(x)||(s||(s={}),s[x]="");for(x in T)T.hasOwnProperty(x)&&O[x]!==T[x]&&(s||(s={}),s[x]=T[x])}else s||(g||(g=[]),g.push(L,s)),s=T;else L==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,O=O?O.__html:void 0,T!=null&&O!==T&&(g=g||[]).push(L,T)):L==="children"?typeof T!="string"&&typeof T!="number"||(g=g||[]).push(L,""+T):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(o.hasOwnProperty(L)?(T!=null&&L==="onScroll"&&We("scroll",t),g||O===T||(g=[])):(g=g||[]).push(L,T))}s&&(g=g||[]).push("style",s);var L=g;(n.updateQueue=L)&&(n.flags|=4)}},bd=function(t,n,s,c){s!==c&&(n.flags|=4)};function Co(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function At(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,c=0;if(n)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=s,n}function tg(t,n,s){var c=n.pendingProps;switch(Wu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(n),null;case 1:return Ft(n.type)&&Xa(),At(n),null;case 3:return c=n.stateNode,Ts(),He(Gt),He(Tt),oc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(el(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Nr!==null&&(Zc(Nr),Nr=null))),Oc(t,n),At(n),null;case 5:ic(n);var d=Ii(Ro.current);if(s=n.type,t!==null&&n.stateNode!=null)yd(t,n,s,c,d),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(e(166));return At(n),null}if(t=Ii(Yr.current),el(n)){c=n.stateNode,s=n.type;var g=n.memoizedProps;switch(c[Qr]=n,c[Eo]=g,t=(n.mode&1)!==0,s){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(d=0;d<vo.length;d++)We(vo[d],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":ha(c,g),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},We("invalid",c);break;case"textarea":In(c,g),We("invalid",c)}Js(s,g),d=null;for(var x in g)if(g.hasOwnProperty(x)){var O=g[x];x==="children"?typeof O=="string"?c.textContent!==O&&(g.suppressHydrationWarning!==!0&&Ba(c.textContent,O,t),d=["children",O]):typeof O=="number"&&c.textContent!==""+O&&(g.suppressHydrationWarning!==!0&&Ba(c.textContent,O,t),d=["children",""+O]):o.hasOwnProperty(x)&&O!=null&&x==="onScroll"&&We("scroll",c)}switch(s){case"input":li(c),ga(c,g,!0);break;case"textarea":li(c),Xi(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Wa)}c=d,n.updateQueue=c,c!==null&&(n.flags|=4)}else{x=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ba(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=x.createElement(s,{is:c.is}):(t=x.createElement(s),s==="select"&&(x=t,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):t=x.createElementNS(t,s),t[Qr]=n,t[Eo]=c,gd(t,n,!1,!1),n.stateNode=t;e:{switch(x=Or(s,c),s){case"dialog":We("cancel",t),We("close",t),d=c;break;case"iframe":case"object":case"embed":We("load",t),d=c;break;case"video":case"audio":for(d=0;d<vo.length;d++)We(vo[d],t);d=c;break;case"source":We("error",t),d=c;break;case"img":case"image":case"link":We("error",t),We("load",t),d=c;break;case"details":We("toggle",t),d=c;break;case"input":ha(t,c),d=Xs(t,c),We("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),We("invalid",t);break;case"textarea":In(t,c),d=Ks(t,c),We("invalid",t);break;default:d=c}Js(s,d),O=d;for(g in O)if(O.hasOwnProperty(g)){var T=O[g];g==="style"?xa(t,T):g==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&va(t,T)):g==="children"?typeof T=="string"?(s!=="textarea"||T!=="")&&ln(t,T):typeof T=="number"&&ln(t,""+T):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?T!=null&&g==="onScroll"&&We("scroll",t):T!=null&&X(t,g,T,x))}switch(s){case"input":li(t),ga(t,c,!1);break;case"textarea":li(t),Xi(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ke(c.value));break;case"select":t.multiple=!!c.multiple,g=c.value,g!=null?An(t,!!c.multiple,g,!1):c.defaultValue!=null&&An(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=Wa)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return At(n),null;case 6:if(t&&n.stateNode!=null)bd(t,n,t.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(e(166));if(s=Ii(Ro.current),Ii(Yr.current),el(n)){if(c=n.stateNode,s=n.memoizedProps,c[Qr]=n,(g=c.nodeValue!==s)&&(t=sr,t!==null))switch(t.tag){case 3:Ba(c.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ba(c.nodeValue,s,(t.mode&1)!==0)}g&&(n.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[Qr]=n,n.stateNode=c}return At(n),null;case 13:if(He(tt),c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&or!==null&&n.mode&1&&!(n.flags&128))xf(),Es(),n.flags|=98560,g=!1;else if(g=el(n),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(e(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(e(317));g[Qr]=n}else Es(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;At(n),g=!1}else Nr!==null&&(Zc(Nr),Nr=null),g=!0;if(!g)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(n.child.flags|=8192,n.mode&1&&(t===null||tt.current&1?ft===0&&(ft=3):jc())),n.updateQueue!==null&&(n.flags|=4),At(n),null);case 4:return Ts(),Oc(t,n),t===null&&wo(n.stateNode.containerInfo),At(n),null;case 10:return Ju(n.type._context),At(n),null;case 17:return Ft(n.type)&&Xa(),At(n),null;case 19:if(He(tt),g=n.memoizedState,g===null)return At(n),null;if(c=(n.flags&128)!==0,x=g.rendering,x===null)if(c)Co(g,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(x=ol(t),x!==null){for(n.flags|=128,Co(g,!1),c=x.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=s,s=n.child;s!==null;)g=s,t=c,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,t=x.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return qe(tt,tt.current&1|2),n.child}t=t.sibling}g.tail!==null&&Je()>ks&&(n.flags|=128,c=!0,Co(g,!1),n.lanes=4194304)}else{if(!c)if(t=ol(x),t!==null){if(n.flags|=128,c=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Co(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!Ke)return At(n),null}else 2*Je()-g.renderingStartTime>ks&&s!==1073741824&&(n.flags|=128,c=!0,Co(g,!1),n.lanes=4194304);g.isBackwards?(x.sibling=n.child,n.child=x):(s=g.last,s!==null?s.sibling=x:n.child=x,g.last=x)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=Je(),n.sibling=null,s=tt.current,qe(tt,c?s&1|2:s&1),n):(At(n),null);case 22:case 23:return zc(),c=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(n.flags|=8192),c&&n.mode&1?ar&1073741824&&(At(n),n.subtreeFlags&6&&(n.flags|=8192)):At(n),null;case 24:return null;case 25:return null}throw Error(e(156,n.tag))}function rg(t,n){switch(Wu(n),n.tag){case 1:return Ft(n.type)&&Xa(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ts(),He(Gt),He(Tt),oc(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return ic(n),null;case 13:if(He(tt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(e(340));Es()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return He(tt),null;case 4:return Ts(),null;case 10:return Ju(n.type._context),null;case 22:case 23:return zc(),null;case 24:return null;default:return null}}var hl=!1,It=!1,ng=typeof WeakSet=="function"?WeakSet:Set,ae=null;function As(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){st(t,n,c)}else s.current=null}function Pc(t,n,s){try{s()}catch(c){st(t,n,c)}}var vd=!1;function ig(t,n){if(zu=Mn,t=Y_(),Iu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var x=0,O=-1,T=-1,L=0,U=0,V=t,F=null;t:for(;;){for(var ne;V!==s||d!==0&&V.nodeType!==3||(O=x+d),V!==g||c!==0&&V.nodeType!==3||(T=x+c),V.nodeType===3&&(x+=V.nodeValue.length),(ne=V.firstChild)!==null;)F=V,V=ne;for(;;){if(V===t)break t;if(F===s&&++L===d&&(O=x),F===g&&++U===c&&(T=x),(ne=V.nextSibling)!==null)break;V=F,F=V.parentNode}V=ne}s=O===-1||T===-1?null:{start:O,end:T}}else s=null}s=s||{start:0,end:0}}else s=null;for(ju={focusedElem:t,selectionRange:s},Mn=!1,ae=n;ae!==null;)if(n=ae,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ae=t;else for(;ae!==null;){n=ae;try{var le=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,at=le.memoizedState,N=n.stateNode,A=N.getSnapshotBeforeUpdate(n.elementType===n.type?ue:Cr(n.type,ue),at);N.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var C=n.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(H){st(n,n.return,H)}if(t=n.sibling,t!==null){t.return=n.return,ae=t;break}ae=n.return}return le=vd,vd=!1,le}function Lo(t,n,s){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var g=d.destroy;d.destroy=void 0,g!==void 0&&Pc(n,s,g)}d=d.next}while(d!==c)}}function pl(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var c=s.create;s.destroy=c()}s=s.next}while(s!==n)}}function Tc(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function wd(t){var n=t.alternate;n!==null&&(t.alternate=null,wd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Qr],delete n[Eo],delete n[Vu],delete n[Gp],delete n[Fp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xd(t){return t.tag===5||t.tag===3||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rc(t,n,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Wa));else if(c!==4&&(t=t.child,t!==null))for(Rc(t,n,s),t=t.sibling;t!==null;)Rc(t,n,s),t=t.sibling}function Ac(t,n,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Ac(t,n,s),t=t.sibling;t!==null;)Ac(t,n,s),t=t.sibling}var vt=null,Lr=!1;function qn(t,n,s){for(s=s.child;s!==null;)Sd(t,n,s),s=s.sibling}function Sd(t,n,s){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(rs,s)}catch{}switch(s.tag){case 5:It||As(s,n);case 6:var c=vt,d=Lr;vt=null,qn(t,n,s),vt=c,Lr=d,vt!==null&&(Lr?(t=vt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):vt.removeChild(s.stateNode));break;case 18:vt!==null&&(Lr?(t=vt,s=s.stateNode,t.nodeType===8?Uu(t.parentNode,s):t.nodeType===1&&Uu(t,s),_n(t)):Uu(vt,s.stateNode));break;case 4:c=vt,d=Lr,vt=s.stateNode.containerInfo,Lr=!0,qn(t,n,s),vt=c,Lr=d;break;case 0:case 11:case 14:case 15:if(!It&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,x=g.destroy;g=g.tag,x!==void 0&&(g&2||g&4)&&Pc(s,n,x),d=d.next}while(d!==c)}qn(t,n,s);break;case 1:if(!It&&(As(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(O){st(s,n,O)}qn(t,n,s);break;case 21:qn(t,n,s);break;case 22:s.mode&1?(It=(c=It)||s.memoizedState!==null,qn(t,n,s),It=c):qn(t,n,s);break;default:qn(t,n,s)}}function Od(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new ng),n.forEach(function(c){var d=dg.bind(null,t,c);s.has(c)||(s.add(c),c.then(d,d))})}}function Mr(t,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];try{var g=t,x=n,O=x;e:for(;O!==null;){switch(O.tag){case 5:vt=O.stateNode,Lr=!1;break e;case 3:vt=O.stateNode.containerInfo,Lr=!0;break e;case 4:vt=O.stateNode.containerInfo,Lr=!0;break e}O=O.return}if(vt===null)throw Error(e(160));Sd(g,x,d),vt=null,Lr=!1;var T=d.alternate;T!==null&&(T.return=null),d.return=null}catch(L){st(d,n,L)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Pd(n,t),n=n.sibling}function Pd(t,n){var s=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mr(n,t),Jr(t),c&4){try{Lo(3,t,t.return),pl(3,t)}catch(ue){st(t,t.return,ue)}try{Lo(5,t,t.return)}catch(ue){st(t,t.return,ue)}}break;case 1:Mr(n,t),Jr(t),c&512&&s!==null&&As(s,s.return);break;case 5:if(Mr(n,t),Jr(t),c&512&&s!==null&&As(s,s.return),t.flags&32){var d=t.stateNode;try{ln(d,"")}catch(ue){st(t,t.return,ue)}}if(c&4&&(d=t.stateNode,d!=null)){var g=t.memoizedProps,x=s!==null?s.memoizedProps:g,O=t.type,T=t.updateQueue;if(t.updateQueue=null,T!==null)try{O==="input"&&g.type==="radio"&&g.name!=null&&pa(d,g),Or(O,x);var L=Or(O,g);for(x=0;x<T.length;x+=2){var U=T[x],V=T[x+1];U==="style"?xa(d,V):U==="dangerouslySetInnerHTML"?va(d,V):U==="children"?ln(d,V):X(d,U,V,L)}switch(O){case"input":Qs(d,g);break;case"textarea":ya(d,g);break;case"select":var F=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ne=g.value;ne!=null?An(d,!!g.multiple,ne,!1):F!==!!g.multiple&&(g.defaultValue!=null?An(d,!!g.multiple,g.defaultValue,!0):An(d,!!g.multiple,g.multiple?[]:"",!1))}d[Eo]=g}catch(ue){st(t,t.return,ue)}}break;case 6:if(Mr(n,t),Jr(t),c&4){if(t.stateNode===null)throw Error(e(162));d=t.stateNode,g=t.memoizedProps;try{d.nodeValue=g}catch(ue){st(t,t.return,ue)}}break;case 3:if(Mr(n,t),Jr(t),c&4&&s!==null&&s.memoizedState.isDehydrated)try{_n(n.containerInfo)}catch(ue){st(t,t.return,ue)}break;case 4:Mr(n,t),Jr(t);break;case 13:Mr(n,t),Jr(t),d=t.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Nc=Je())),c&4&&Od(t);break;case 22:if(U=s!==null&&s.memoizedState!==null,t.mode&1?(It=(L=It)||U,Mr(n,t),It=L):Mr(n,t),Jr(t),c&8192){if(L=t.memoizedState!==null,(t.stateNode.isHidden=L)&&!U&&t.mode&1)for(ae=t,U=t.child;U!==null;){for(V=ae=U;ae!==null;){switch(F=ae,ne=F.child,F.tag){case 0:case 11:case 14:case 15:Lo(4,F,F.return);break;case 1:As(F,F.return);var le=F.stateNode;if(typeof le.componentWillUnmount=="function"){c=F,s=F.return;try{n=c,le.props=n.memoizedProps,le.state=n.memoizedState,le.componentWillUnmount()}catch(ue){st(c,s,ue)}}break;case 5:As(F,F.return);break;case 22:if(F.memoizedState!==null){Ad(V);continue}}ne!==null?(ne.return=F,ae=ne):Ad(V)}U=U.sibling}e:for(U=null,V=t;;){if(V.tag===5){if(U===null){U=V;try{d=V.stateNode,L?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(O=V.stateNode,T=V.memoizedProps.style,x=T!=null&&T.hasOwnProperty("display")?T.display:null,O.style.display=wa("display",x))}catch(ue){st(t,t.return,ue)}}}else if(V.tag===6){if(U===null)try{V.stateNode.nodeValue=L?"":V.memoizedProps}catch(ue){st(t,t.return,ue)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===t)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===t)break e;for(;V.sibling===null;){if(V.return===null||V.return===t)break e;U===V&&(U=null),V=V.return}U===V&&(U=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Mr(n,t),Jr(t),c&4&&Od(t);break;case 21:break;default:Mr(n,t),Jr(t)}}function Jr(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(xd(s)){var c=s;break e}s=s.return}throw Error(e(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(ln(d,""),c.flags&=-33);var g=Ed(t);Ac(t,g,d);break;case 3:case 4:var x=c.stateNode.containerInfo,O=Ed(t);Rc(t,O,x);break;default:throw Error(e(161))}}catch(T){st(t,t.return,T)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function sg(t,n,s){ae=t,Td(t)}function Td(t,n,s){for(var c=(t.mode&1)!==0;ae!==null;){var d=ae,g=d.child;if(d.tag===22&&c){var x=d.memoizedState!==null||hl;if(!x){var O=d.alternate,T=O!==null&&O.memoizedState!==null||It;O=hl;var L=It;if(hl=x,(It=T)&&!L)for(ae=d;ae!==null;)x=ae,T=x.child,x.tag===22&&x.memoizedState!==null?Id(d):T!==null?(T.return=x,ae=T):Id(d);for(;g!==null;)ae=g,Td(g),g=g.sibling;ae=d,hl=O,It=L}Rd(t)}else d.subtreeFlags&8772&&g!==null?(g.return=d,ae=g):Rd(t)}}function Rd(t){for(;ae!==null;){var n=ae;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:It||pl(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!It)if(s===null)c.componentDidMount();else{var d=n.elementType===n.type?s.memoizedProps:Cr(n.type,s.memoizedProps);c.componentDidUpdate(d,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&Af(n,g,c);break;case 3:var x=n.updateQueue;if(x!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Af(n,x,s)}break;case 5:var O=n.stateNode;if(s===null&&n.flags&4){s=O;var T=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&s.focus();break;case"img":T.src&&(s.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var L=n.alternate;if(L!==null){var U=L.memoizedState;if(U!==null){var V=U.dehydrated;V!==null&&_n(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}It||n.flags&512&&Tc(n)}catch(F){st(n,n.return,F)}}if(n===t){ae=null;break}if(s=n.sibling,s!==null){s.return=n.return,ae=s;break}ae=n.return}}function Ad(t){for(;ae!==null;){var n=ae;if(n===t){ae=null;break}var s=n.sibling;if(s!==null){s.return=n.return,ae=s;break}ae=n.return}}function Id(t){for(;ae!==null;){var n=ae;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{pl(4,n)}catch(T){st(n,s,T)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var d=n.return;try{c.componentDidMount()}catch(T){st(n,d,T)}}var g=n.return;try{Tc(n)}catch(T){st(n,g,T)}break;case 5:var x=n.return;try{Tc(n)}catch(T){st(n,x,T)}}}catch(T){st(n,n.return,T)}if(n===t){ae=null;break}var O=n.sibling;if(O!==null){O.return=n.return,ae=O;break}ae=n.return}}var og=Math.ceil,gl=ie.ReactCurrentDispatcher,Ic=ie.ReactCurrentOwner,vr=ie.ReactCurrentBatchConfig,De=0,gt=null,ut=null,wt=0,ar=0,Is=Gn(0),ft=0,Mo=null,Ni=0,yl=0,kc=0,Zo=null,Vt=null,Nc=0,ks=1/0,wn=null,bl=!1,Cc=null,Bn=null,vl=!1,Wn=null,wl=0,Do=0,Lc=null,xl=-1,El=0;function Mt(){return De&6?Je():xl!==-1?xl:xl=Je()}function Hn(t){return t.mode&1?De&2&&wt!==0?wt&-wt:Vp.transition!==null?(El===0&&(El=io()),El):(t=ze,t!==0||(t=window.event,t=t===void 0?16:cs(t.type)),t):1}function Zr(t,n,s,c){if(50<Do)throw Do=0,Lc=null,Error(e(185));Ln(t,s,c),(!(De&2)||t!==gt)&&(t===gt&&(!(De&2)&&(yl|=s),ft===4&&Xn(t,wt)),$t(t,c),s===1&&De===0&&!(n.mode&1)&&(ks=Je()+500,Ya&&Un()))}function $t(t,n){var s=t.callbackNode;za(t,n);var c=mi(t,t===gt?wt:0);if(c===0)s!==null&&ka(s),t.callbackNode=null,t.callbackPriority=0;else if(n=c&-c,t.callbackPriority!==n){if(s!=null&&ka(s),n===1)t.tag===0?Up(Nd.bind(null,t)):gf(Nd.bind(null,t)),zp(function(){!(De&6)&&Un()}),s=null;else{switch(oo(c)){case 1:s=_i;break;case 4:s=Na;break;case 16:s=ts;break;case 536870912:s=Ca;break;default:s=ts}s=Gd(s,kd.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function kd(t,n){if(xl=-1,El=0,De&6)throw Error(e(327));var s=t.callbackNode;if(Ns()&&t.callbackNode!==s)return null;var c=mi(t,t===gt?wt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||n)n=Sl(t,c);else{n=c;var d=De;De|=2;var g=Ld();(gt!==t||wt!==n)&&(wn=null,ks=Je()+500,Li(t,n));do try{ug();break}catch(O){Cd(t,O)}while(!0);Ku(),gl.current=g,De=d,ut!==null?n=0:(gt=null,wt=0,n=ft)}if(n!==0){if(n===2&&(d=ns(t),d!==0&&(c=d,n=Mc(t,d))),n===1)throw s=Mo,Li(t,0),Xn(t,c),$t(t,Je()),s;if(n===6)Xn(t,c);else{if(d=t.current.alternate,!(c&30)&&!ag(d)&&(n=Sl(t,c),n===2&&(g=ns(t),g!==0&&(c=g,n=Mc(t,g))),n===1))throw s=Mo,Li(t,0),Xn(t,c),$t(t,Je()),s;switch(t.finishedWork=d,t.finishedLanes=c,n){case 0:case 1:throw Error(e(345));case 2:Mi(t,Vt,wn);break;case 3:if(Xn(t,c),(c&130023424)===c&&(n=Nc+500-Je(),10<n)){if(mi(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){Mt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Fu(Mi.bind(null,t,Vt,wn),n);break}Mi(t,Vt,wn);break;case 4:if(Xn(t,c),(c&4194240)===c)break;for(n=t.eventTimes,d=-1;0<c;){var x=31-zt(c);g=1<<x,x=n[x],x>d&&(d=x),c&=~g}if(c=d,c=Je()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*og(c/1960))-c,10<c){t.timeoutHandle=Fu(Mi.bind(null,t,Vt,wn),c);break}Mi(t,Vt,wn);break;case 5:Mi(t,Vt,wn);break;default:throw Error(e(329))}}}return $t(t,Je()),t.callbackNode===s?kd.bind(null,t):null}function Mc(t,n){var s=Zo;return t.current.memoizedState.isDehydrated&&(Li(t,n).flags|=256),t=Sl(t,n),t!==2&&(n=Vt,Vt=s,n!==null&&Zc(n)),t}function Zc(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function ag(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var d=s[c],g=d.getSnapshot;d=d.value;try{if(!kr(g(),d))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xn(t,n){for(n&=~kc,n&=~yl,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-zt(n),c=1<<s;t[s]=-1,n&=~c}}function Nd(t){if(De&6)throw Error(e(327));Ns();var n=mi(t,0);if(!(n&1))return $t(t,Je()),null;var s=Sl(t,n);if(t.tag!==0&&s===2){var c=ns(t);c!==0&&(n=c,s=Mc(t,c))}if(s===1)throw s=Mo,Li(t,0),Xn(t,n),$t(t,Je()),s;if(s===6)throw Error(e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Mi(t,Vt,wn),$t(t,Je()),null}function Dc(t,n){var s=De;De|=1;try{return t(n)}finally{De=s,De===0&&(ks=Je()+500,Ya&&Un())}}function Ci(t){Wn!==null&&Wn.tag===0&&!(De&6)&&Ns();var n=De;De|=1;var s=vr.transition,c=ze;try{if(vr.transition=null,ze=1,t)return t()}finally{ze=c,vr.transition=s,De=n,!(De&6)&&Un()}}function zc(){ar=Is.current,He(Is)}function Li(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,Dp(s)),ut!==null)for(s=ut.return;s!==null;){var c=s;switch(Wu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Xa();break;case 3:Ts(),He(Gt),He(Tt),oc();break;case 5:ic(c);break;case 4:Ts();break;case 13:He(tt);break;case 19:He(tt);break;case 10:Ju(c.type._context);break;case 22:case 23:zc()}s=s.return}if(gt=t,ut=t=Qn(t.current,null),wt=ar=n,ft=0,Mo=null,kc=yl=Ni=0,Vt=Zo=null,Ai!==null){for(n=0;n<Ai.length;n++)if(s=Ai[n],c=s.interleaved,c!==null){s.interleaved=null;var d=c.next,g=s.pending;if(g!==null){var x=g.next;g.next=d,c.next=x}s.pending=c}Ai=null}return t}function Cd(t,n){do{var s=ut;try{if(Ku(),al.current=_l,ll){for(var c=rt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}ll=!1}if(ki=0,pt=_t=rt=null,Ao=!1,Io=0,Ic.current=null,s===null||s.return===null){ft=1,Mo=n,ut=null;break}e:{var g=t,x=s.return,O=s,T=n;if(n=wt,O.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var L=T,U=O,V=U.tag;if(!(U.mode&1)&&(V===0||V===11||V===15)){var F=U.alternate;F?(U.updateQueue=F.updateQueue,U.memoizedState=F.memoizedState,U.lanes=F.lanes):(U.updateQueue=null,U.memoizedState=null)}var ne=id(x);if(ne!==null){ne.flags&=-257,sd(ne,x,O,g,n),ne.mode&1&&nd(g,L,n),n=ne,T=L;var le=n.updateQueue;if(le===null){var ue=new Set;ue.add(T),n.updateQueue=ue}else le.add(T);break e}else{if(!(n&1)){nd(g,L,n),jc();break e}T=Error(e(426))}}else if(Ke&&O.mode&1){var at=id(x);if(at!==null){!(at.flags&65536)&&(at.flags|=256),sd(at,x,O,g,n),Qu(Rs(T,O));break e}}g=T=Rs(T,O),ft!==4&&(ft=2),Zo===null?Zo=[g]:Zo.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,n&=-n,g.lanes|=n;var N=td(g,T,n);Rf(g,N);break e;case 1:O=T;var A=g.type,C=g.stateNode;if(!(g.flags&128)&&(typeof A.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Bn===null||!Bn.has(C)))){g.flags|=65536,n&=-n,g.lanes|=n;var H=rd(g,O,n);Rf(g,H);break e}}g=g.return}while(g!==null)}Zd(s)}catch(ce){n=ce,ut===s&&s!==null&&(ut=s=s.return);continue}break}while(!0)}function Ld(){var t=gl.current;return gl.current=_l,t===null?_l:t}function jc(){(ft===0||ft===3||ft===2)&&(ft=4),gt===null||!(Ni&268435455)&&!(yl&268435455)||Xn(gt,wt)}function Sl(t,n){var s=De;De|=2;var c=Ld();(gt!==t||wt!==n)&&(wn=null,Li(t,n));do try{lg();break}catch(d){Cd(t,d)}while(!0);if(Ku(),De=s,gl.current=c,ut!==null)throw Error(e(261));return gt=null,wt=0,ft}function lg(){for(;ut!==null;)Md(ut)}function ug(){for(;ut!==null&&!yu();)Md(ut)}function Md(t){var n=jd(t.alternate,t,ar);t.memoizedProps=t.pendingProps,n===null?Zd(t):ut=n,Ic.current=null}function Zd(t){var n=t;do{var s=n.alternate;if(t=n.return,n.flags&32768){if(s=rg(s,n),s!==null){s.flags&=32767,ut=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ut=null;return}}else if(s=tg(s,n,ar),s!==null){ut=s;return}if(n=n.sibling,n!==null){ut=n;return}ut=n=t}while(n!==null);ft===0&&(ft=5)}function Mi(t,n,s){var c=ze,d=vr.transition;try{vr.transition=null,ze=1,cg(t,n,s,c)}finally{vr.transition=d,ze=c}return null}function cg(t,n,s,c){do Ns();while(Wn!==null);if(De&6)throw Error(e(327));s=t.finishedWork;var d=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(e(177));t.callbackNode=null,t.callbackPriority=0;var g=s.lanes|s.childLanes;if(so(t,g),t===gt&&(ut=gt=null,wt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vl||(vl=!0,Gd(ts,function(){return Ns(),null})),g=(s.flags&15990)!==0,s.subtreeFlags&15990||g){g=vr.transition,vr.transition=null;var x=ze;ze=1;var O=De;De|=4,Ic.current=null,ig(t,s),Pd(s,t),Ip(ju),Mn=!!zu,ju=zu=null,t.current=s,sg(s),bu(),De=O,ze=x,vr.transition=g}else t.current=s;if(vl&&(vl=!1,Wn=t,wl=d),g=t.pendingLanes,g===0&&(Bn=null),xu(s.stateNode),$t(t,Je()),n!==null)for(c=t.onRecoverableError,s=0;s<n.length;s++)d=n[s],c(d.value,{componentStack:d.stack,digest:d.digest});if(bl)throw bl=!1,t=Cc,Cc=null,t;return wl&1&&t.tag!==0&&Ns(),g=t.pendingLanes,g&1?t===Lc?Do++:(Do=0,Lc=t):Do=0,Un(),null}function Ns(){if(Wn!==null){var t=oo(wl),n=vr.transition,s=ze;try{if(vr.transition=null,ze=16>t?16:t,Wn===null)var c=!1;else{if(t=Wn,Wn=null,wl=0,De&6)throw Error(e(331));var d=De;for(De|=4,ae=t.current;ae!==null;){var g=ae,x=g.child;if(ae.flags&16){var O=g.deletions;if(O!==null){for(var T=0;T<O.length;T++){var L=O[T];for(ae=L;ae!==null;){var U=ae;switch(U.tag){case 0:case 11:case 15:Lo(8,U,g)}var V=U.child;if(V!==null)V.return=U,ae=V;else for(;ae!==null;){U=ae;var F=U.sibling,ne=U.return;if(wd(U),U===L){ae=null;break}if(F!==null){F.return=ne,ae=F;break}ae=ne}}}var le=g.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var at=ue.sibling;ue.sibling=null,ue=at}while(ue!==null)}}ae=g}}if(g.subtreeFlags&2064&&x!==null)x.return=g,ae=x;else e:for(;ae!==null;){if(g=ae,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Lo(9,g,g.return)}var N=g.sibling;if(N!==null){N.return=g.return,ae=N;break e}ae=g.return}}var A=t.current;for(ae=A;ae!==null;){x=ae;var C=x.child;if(x.subtreeFlags&2064&&C!==null)C.return=x,ae=C;else e:for(x=A;ae!==null;){if(O=ae,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:pl(9,O)}}catch(ce){st(O,O.return,ce)}if(O===x){ae=null;break e}var H=O.sibling;if(H!==null){H.return=O.return,ae=H;break e}ae=O.return}}if(De=d,Un(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(rs,t)}catch{}c=!0}return c}finally{ze=s,vr.transition=n}}return!1}function Dd(t,n,s){n=Rs(s,n),n=td(t,n,1),t=$n(t,n,1),n=Mt(),t!==null&&(Ln(t,1,n),$t(t,n))}function st(t,n,s){if(t.tag===3)Dd(t,t,s);else for(;n!==null;){if(n.tag===3){Dd(n,t,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bn===null||!Bn.has(c))){t=Rs(s,t),t=rd(n,t,1),n=$n(n,t,1),t=Mt(),n!==null&&(Ln(n,1,t),$t(n,t));break}}n=n.return}}function _g(t,n,s){var c=t.pingCache;c!==null&&c.delete(n),n=Mt(),t.pingedLanes|=t.suspendedLanes&s,gt===t&&(wt&s)===s&&(ft===4||ft===3&&(wt&130023424)===wt&&500>Je()-Nc?Li(t,0):kc|=s),$t(t,n)}function zd(t,n){n===0&&(t.mode&1?(n=di,di<<=1,!(di&130023424)&&(di=4194304)):n=1);var s=Mt();t=yn(t,n),t!==null&&(Ln(t,n,s),$t(t,s))}function fg(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),zd(t,s)}function dg(t,n){var s=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(e(314))}c!==null&&c.delete(n),zd(t,s)}var jd;jd=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||Gt.current)Ut=!0;else{if(!(t.lanes&s)&&!(n.flags&128))return Ut=!1,eg(t,n,s);Ut=!!(t.flags&131072)}else Ut=!1,Ke&&n.flags&1048576&&yf(n,Ja,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;ml(t,n),t=n.pendingProps;var d=vs(n,Tt.current);Ps(n,s),d=uc(null,n,c,t,d,s);var g=cc();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ft(c)?(g=!0,Qa(n)):g=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,rc(n),d.updater=fl,n.stateNode=d,d._reactInternals=n,pc(n,c,t,s),n=vc(null,n,c,!0,g,s)):(n.tag=0,Ke&&g&&Bu(n),Lt(null,n,d,s),n=n.child),n;case 16:c=n.elementType;e:{switch(ml(t,n),t=n.pendingProps,d=c._init,c=d(c._payload),n.type=c,d=n.tag=hg(c),t=Cr(c,t),d){case 0:n=bc(null,n,c,t,s);break e;case 1:n=_d(null,n,c,t,s);break e;case 11:n=od(null,n,c,t,s);break e;case 14:n=ad(null,n,c,Cr(c.type,t),s);break e}throw Error(e(306,c,""))}return n;case 0:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Cr(c,d),bc(t,n,c,d,s);case 1:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Cr(c,d),_d(t,n,c,d,s);case 3:e:{if(fd(n),t===null)throw Error(e(387));c=n.pendingProps,g=n.memoizedState,d=g.element,Tf(t,n),sl(n,c,null,s);var x=n.memoizedState;if(c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){d=Rs(Error(e(423)),n),n=dd(t,n,c,s,d);break e}else if(c!==d){d=Rs(Error(e(424)),n),n=dd(t,n,c,s,d);break e}else for(or=jn(n.stateNode.containerInfo.firstChild),sr=n,Ke=!0,Nr=null,s=Of(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Es(),c===d){n=vn(t,n,s);break e}Lt(t,n,c,s)}n=n.child}return n;case 5:return If(n),t===null&&Xu(n),c=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,x=d.children,Gu(c,d)?x=null:g!==null&&Gu(c,g)&&(n.flags|=32),cd(t,n),Lt(t,n,x,s),n.child;case 6:return t===null&&Xu(n),null;case 13:return md(t,n,s);case 4:return nc(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=Ss(n,null,c,s):Lt(t,n,c,s),n.child;case 11:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Cr(c,d),od(t,n,c,d,s);case 7:return Lt(t,n,n.pendingProps,s),n.child;case 8:return Lt(t,n,n.pendingProps.children,s),n.child;case 12:return Lt(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(c=n.type._context,d=n.pendingProps,g=n.memoizedProps,x=d.value,qe(rl,c._currentValue),c._currentValue=x,g!==null)if(kr(g.value,x)){if(g.children===d.children&&!Gt.current){n=vn(t,n,s);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var O=g.dependencies;if(O!==null){x=g.child;for(var T=O.firstContext;T!==null;){if(T.context===c){if(g.tag===1){T=bn(-1,s&-s),T.tag=2;var L=g.updateQueue;if(L!==null){L=L.shared;var U=L.pending;U===null?T.next=T:(T.next=U.next,U.next=T),L.pending=T}}g.lanes|=s,T=g.alternate,T!==null&&(T.lanes|=s),ec(g.return,s,n),O.lanes|=s;break}T=T.next}}else if(g.tag===10)x=g.type===n.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(e(341));x.lanes|=s,O=x.alternate,O!==null&&(O.lanes|=s),ec(x,s,n),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===n){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}Lt(t,n,d.children,s),n=n.child}return n;case 9:return d=n.type,c=n.pendingProps.children,Ps(n,s),d=yr(d),c=c(d),n.flags|=1,Lt(t,n,c,s),n.child;case 14:return c=n.type,d=Cr(c,n.pendingProps),d=Cr(c.type,d),ad(t,n,c,d,s);case 15:return ld(t,n,n.type,n.pendingProps,s);case 17:return c=n.type,d=n.pendingProps,d=n.elementType===c?d:Cr(c,d),ml(t,n),n.tag=1,Ft(c)?(t=!0,Qa(n)):t=!1,Ps(n,s),Jf(n,c,d),pc(n,c,d,s),vc(null,n,c,!0,t,s);case 19:return pd(t,n,s);case 22:return ud(t,n,s)}throw Error(e(156,n.tag))};function Gd(t,n){return Ia(t,n)}function mg(t,n,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,n,s,c){return new mg(t,n,s,c)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hg(t){if(typeof t=="function")return Gc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R)return 11;if(t===er)return 14}return 2}function Qn(t,n){var s=t.alternate;return s===null?(s=wr(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Ol(t,n,s,c,d,g){var x=2;if(c=t,typeof t=="function")Gc(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case $e:return Zi(s.children,d,g,n);case E:x=8,d|=8;break;case Y:return t=wr(12,s,n,d|2),t.elementType=Y,t.lanes=g,t;case Ne:return t=wr(13,s,n,d),t.elementType=Ne,t.lanes=g,t;case St:return t=wr(19,s,n,d),t.elementType=St,t.lanes=g,t;case Ge:return Pl(s,d,g,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jt:x=10;break e;case Sr:x=9;break e;case R:x=11;break e;case er:x=14;break e;case mt:x=16,c=null;break e}throw Error(e(130,t==null?t:typeof t,""))}return n=wr(x,s,n,d),n.elementType=t,n.type=c,n.lanes=g,n}function Zi(t,n,s,c){return t=wr(7,t,c,n),t.lanes=s,t}function Pl(t,n,s,c){return t=wr(22,t,c,n),t.elementType=Ge,t.lanes=s,t.stateNode={isHidden:!1},t}function Fc(t,n,s){return t=wr(6,t,null,n),t.lanes=s,t}function Uc(t,n,s){return n=wr(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function pg(t,n,s,c,d){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=is(0),this.expirationTimes=is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Vc(t,n,s,c,d,g,x,O,T){return t=new pg(t,n,s,O,T),n===1?(n=1,g===!0&&(n|=8)):n=0,g=wr(3,null,null,n),t.current=g,g.stateNode=t,g.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(g),t}function gg(t,n,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ze,key:c==null?null:""+c,children:t,containerInfo:n,implementation:s}}function Fd(t){if(!t)return Fn;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(e(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ft(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(e(171))}if(t.tag===1){var s=t.type;if(Ft(s))return hf(t,s,n)}return n}function Ud(t,n,s,c,d,g,x,O,T){return t=Vc(s,c,!0,t,d,g,x,O,T),t.context=Fd(null),s=t.current,c=Mt(),d=Hn(s),g=bn(c,d),g.callback=n??null,$n(s,g,d),t.current.lanes=d,Ln(t,d,c),$t(t,c),t}function Tl(t,n,s,c){var d=n.current,g=Mt(),x=Hn(d);return s=Fd(s),n.context===null?n.context=s:n.pendingContext=s,n=bn(g,x),n.payload={element:t},c=c===void 0?null:c,c!==null&&(n.callback=c),t=$n(d,n,x),t!==null&&(Zr(t,d,x,g),il(t,d,x)),x}function Rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vd(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function $c(t,n){Vd(t,n),(t=t.alternate)&&Vd(t,n)}var $d=typeof reportError=="function"?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}Al.prototype.render=qc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(e(409));Tl(t,n,null,null)},Al.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ci(function(){Tl(null,t,null,null)}),n[mn]=null}};function Al(t){this._internalRoot=t}Al.prototype.unstable_scheduleHydration=function(t){if(t){var n=lo();t={blockedOn:null,target:t,priority:n};for(var s=0;s<nr.length&&n!==0&&n<nr[s].priority;s++);nr.splice(s,0,t),s===0&&ir(t)}};function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Il(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qd(){}function yg(t,n,s,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var L=Rl(x);g.call(L)}}var x=Ud(n,c,t,0,null,!1,!1,"",qd);return t._reactRootContainer=x,t[mn]=x.current,wo(t.nodeType===8?t.parentNode:t),Ci(),x}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var O=c;c=function(){var L=Rl(T);O.call(L)}}var T=Vc(t,0,!1,null,null,!1,!1,"",qd);return t._reactRootContainer=T,t[mn]=T.current,wo(t.nodeType===8?t.parentNode:t),Ci(function(){Tl(n,T,s,c)}),T}function kl(t,n,s,c,d){var g=s._reactRootContainer;if(g){var x=g;if(typeof d=="function"){var O=d;d=function(){var T=Rl(x);O.call(T)}}Tl(n,x,t,d)}else x=yg(s,n,t,d,c);return Rl(x)}ao=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=Cn(n.pendingLanes);s!==0&&(hi(n,s|1),$t(n,Je()),!(De&6)&&(ks=Je()+500,Un()))}break;case 13:Ci(function(){var c=yn(t,1);if(c!==null){var d=Mt();Zr(c,t,1,d)}}),$c(t,1)}},ss=function(t){if(t.tag===13){var n=yn(t,134217728);if(n!==null){var s=Mt();Zr(n,t,134217728,s)}$c(t,134217728)}},os=function(t){if(t.tag===13){var n=Hn(t),s=yn(t,n);if(s!==null){var c=Mt();Zr(s,t,n,c)}$c(t,n)}},lo=function(){return ze},uo=function(t,n){var s=ze;try{return ze=t,n()}finally{ze=s}},eo=function(t,n,s){switch(n){case"input":if(Qs(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==t&&c.form===t.form){var d=Ha(c);if(!d)throw Error(e(90));tr(c),Qs(c,d)}}}break;case"textarea":ya(t,s);break;case"select":n=s.value,n!=null&&An(t,!!s.multiple,n,!1)}},Pa=Dc,Ta=Ci;var bg={usingClientEntryPoint:!1,Events:[So,ys,Ha,Sa,Oa,Dc]},zo={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vg={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ji(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{rs=Nl.inject(vg),fr=Nl}catch{}}return qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bg,qt.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bc(n))throw Error(e(200));return gg(t,n,null,s)},qt.createRoot=function(t,n){if(!Bc(t))throw Error(e(299));var s=!1,c="",d=$d;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Vc(t,1,!1,null,null,s,!1,c,d),t[mn]=n.current,wo(t.nodeType===8?t.parentNode:t),new qc(n)},qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(e(188)):(t=Object.keys(t).join(","),Error(e(268,t)));return t=Ji(n),t=t===null?null:t.stateNode,t},qt.flushSync=function(t){return Ci(t)},qt.hydrate=function(t,n,s){if(!Il(n))throw Error(e(200));return kl(null,t,n,!0,s)},qt.hydrateRoot=function(t,n,s){if(!Bc(t))throw Error(e(405));var c=s!=null&&s.hydratedSources||null,d=!1,g="",x=$d;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),n=Ud(n,null,t,1,s??null,d,!1,g,x),t[mn]=n.current,wo(t),c)for(t=0;t<c.length;t++)s=c[t],d=s._getVersion,d=d(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,d]:n.mutableSourceEagerHydrationData.push(s,d);return new Al(n)},qt.render=function(t,n,s){if(!Il(n))throw Error(e(200));return kl(null,t,n,!1,s)},qt.unmountComponentAtNode=function(t){if(!Il(t))throw Error(e(40));return t._reactRootContainer?(Ci(function(){kl(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1},qt.unstable_batchedUpdates=Dc,qt.unstable_renderSubtreeIntoContainer=function(t,n,s,c){if(!Il(s))throw Error(e(200));if(t==null||t._reactInternals===void 0)throw Error(e(38));return kl(t,n,s,!1,c)},qt.version="18.3.1-next-f1338f8080-20240426",qt}var Jd;function Ag(){if(Jd)return Xc.exports;Jd=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),Xc.exports=Rg(),Xc.exports}var em;function Ig(){if(em)return Cl;em=1;var a=Ag();return Cl.createRoot=a.createRoot,Cl.hydrateRoot=a.hydrateRoot,Cl}var kg=Ig();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Am=Symbol("Comlink.proxy"),Ng=Symbol("Comlink.endpoint"),Cg=Symbol("Comlink.releaseProxy"),Kc=Symbol("Comlink.finalizer"),Vl=Symbol("Comlink.thrown"),Im=a=>typeof a=="object"&&a!==null||typeof a=="function",Lg={canHandle:a=>Im(a)&&a[Am],serialize(a){const{port1:r,port2:e}=new MessageChannel;return Nm(a,r),[e,[e]]},deserialize(a){return a.start(),Lm(a)}},Mg={canHandle:a=>Im(a)&&Vl in a,serialize({value:a}){let r;return a instanceof Error?r={isError:!0,value:{message:a.message,name:a.name,stack:a.stack}}:r={isError:!1,value:a},[r,[]]},deserialize(a){throw a.isError?Object.assign(new Error(a.value.message),a.value):a.value}},km=new Map([["proxy",Lg],["throw",Mg]]);function Zg(a,r){for(const e of a)if(r===e||e==="*"||e instanceof RegExp&&e.test(r))return!0;return!1}function Nm(a,r=globalThis,e=["*"]){r.addEventListener("message",function i(o){if(!o||!o.data)return;if(!Zg(e,o.origin)){console.warn(`Invalid origin '${o.origin}' for comlink proxy`);return}const{id:l,type:f,path:y}=Object.assign({path:[]},o.data),_=(o.data.argumentList||[]).map(Gi);let w;try{const u=y.slice(0,-1).reduce((Z,$)=>Z[$],a),P=y.reduce((Z,$)=>Z[$],a);switch(f){case"GET":w=P;break;case"SET":u[y.slice(-1)[0]]=Gi(o.data.value),w=!0;break;case"APPLY":w=P.apply(u,_);break;case"CONSTRUCT":{const Z=new P(..._);w=Ug(Z)}break;case"ENDPOINT":{const{port1:Z,port2:$}=new MessageChannel;Nm(a,$),w=Fg(Z,[Z])}break;case"RELEASE":w=void 0;break;default:return}}catch(u){w={value:u,[Vl]:0}}Promise.resolve(w).catch(u=>({value:u,[Vl]:0})).then(u=>{const[P,Z]=Hl(u);r.postMessage(Object.assign(Object.assign({},P),{id:l}),Z),f==="RELEASE"&&(r.removeEventListener("message",i),Cm(r),Kc in a&&typeof a[Kc]=="function"&&a[Kc]())}).catch(u=>{const[P,Z]=Hl({value:new TypeError("Unserializable return value"),[Vl]:0});r.postMessage(Object.assign(Object.assign({},P),{id:l}),Z)})}),r.start&&r.start()}function Dg(a){return a.constructor.name==="MessagePort"}function Cm(a){Dg(a)&&a.close()}function Lm(a,r){const e=new Map;return a.addEventListener("message",function(o){const{data:l}=o;if(!l||!l.id)return;const f=e.get(l.id);if(f)try{f(l)}finally{e.delete(l.id)}}),n_(a,e,[],r)}function Ll(a){if(a)throw new Error("Proxy has been released and is not useable")}function Mm(a){return Zs(a,new Map,{type:"RELEASE"}).then(()=>{Cm(a)})}const Bl=new WeakMap,Wl="FinalizationRegistry"in globalThis&&new FinalizationRegistry(a=>{const r=(Bl.get(a)||0)-1;Bl.set(a,r),r===0&&Mm(a)});function zg(a,r){const e=(Bl.get(r)||0)+1;Bl.set(r,e),Wl&&Wl.register(a,r,a)}function jg(a){Wl&&Wl.unregister(a)}function n_(a,r,e=[],i=function(){}){let o=!1;const l=new Proxy(i,{get(f,y){if(Ll(o),y===Cg)return()=>{jg(l),Mm(a),r.clear(),o=!0};if(y==="then"){if(e.length===0)return{then:()=>l};const _=Zs(a,r,{type:"GET",path:e.map(w=>w.toString())}).then(Gi);return _.then.bind(_)}return n_(a,r,[...e,y])},set(f,y,_){Ll(o);const[w,u]=Hl(_);return Zs(a,r,{type:"SET",path:[...e,y].map(P=>P.toString()),value:w},u).then(Gi)},apply(f,y,_){Ll(o);const w=e[e.length-1];if(w===Ng)return Zs(a,r,{type:"ENDPOINT"}).then(Gi);if(w==="bind")return n_(a,r,e.slice(0,-1));const[u,P]=tm(_);return Zs(a,r,{type:"APPLY",path:e.map(Z=>Z.toString()),argumentList:u},P).then(Gi)},construct(f,y){Ll(o);const[_,w]=tm(y);return Zs(a,r,{type:"CONSTRUCT",path:e.map(u=>u.toString()),argumentList:_},w).then(Gi)}});return zg(l,a),l}function Gg(a){return Array.prototype.concat.apply([],a)}function tm(a){const r=a.map(Hl);return[r.map(e=>e[0]),Gg(r.map(e=>e[1]))]}const Zm=new WeakMap;function Fg(a,r){return Zm.set(a,r),a}function Ug(a){return Object.assign(a,{[Am]:!0})}function Hl(a){for(const[r,e]of km)if(e.canHandle(a)){const[i,o]=e.serialize(a);return[{type:"HANDLER",name:r,value:i},o]}return[{type:"RAW",value:a},Zm.get(a)||[]]}function Gi(a){switch(a.type){case"HANDLER":return km.get(a.name).deserialize(a.value);case"RAW":return a.value}}function Zs(a,r,e,i){return new Promise(o=>{const l=Vg();r.set(l,o),a.start&&a.start(),a.postMessage(Object.assign({id:l},e),i)})}function Vg(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var $g=Symbol("getEndpoint"),qg=a=>{const r=Lm(a);return new Proxy(r,{get(e,i,o){return i===$g?a:Reflect.get(e,i,o)}})},Jn;(function(a){a.MusicGrid="music",a.CompletePattern="complete_pattern",a.Underclued="underclued"})(Jn||(Jn={}));var J;(function(a){a.Error="error",a.Satisfied="satisfied",a.Incomplete="incomplete"})(J||(J={}));var M;(function(a){a.Dark="dark",a.Light="light",a.Gray="gray"})(M||(M={}));var lt;(function(a){a.Equal="eq",a.AtLeast="ge",a.AtMost="le"})(lt||(lt={}));lt.Equal,lt.AtLeast,lt.AtMost;var D;(function(a){a.Up="up",a.Down="down",a.Left="left",a.Right="right"})(D||(D={}));const Vs=[D.Up,D.Down,D.Left,D.Right];function Bg(...a){const r={up:!1,down:!1,left:!1,right:!1};for(const e of a)r[e]=!0;return r}var te;(function(a){a.Up="up",a.UpRight="up-right",a.Right="right",a.DownRight="down-right",a.Down="down",a.DownLeft="down-left",a.Left="left",a.UpLeft="up-left"})(te||(te={}));const $s=[te.Up,te.UpRight,te.Right,te.DownRight,te.Down,te.DownLeft,te.Left,te.UpLeft];function $i(...a){const r={up:!1,"up-right":!1,right:!1,"down-right":!1,down:!1,"down-left":!1,left:!1,"up-left":!1};for(const e of a)r[e]=!0;return r}var rm;(function(a){a.Create="create",a.Solve="solve"})(rm||(rm={}));var j;(function(a){a.Boolean="boolean",a.NullableBoolean="nullableBoolean",a.Number="number",a.NullableNumber="nullableNumber",a.String="string",a.Color="color",a.Comparison="comparison",a.Direction="direction",a.DirectionToggle="directionToggle",a.Orientation="orientation",a.OrientationToggle="orientationToggle",a.Tile="tile",a.Grid="grid",a.NullableGrid="nullableGrid",a.Icon="icon",a.ControlLines="controlLines",a.NullableNote="nullableNote",a.SolvePath="solvePath"})(j||(j={}));function Wg(a,r,e){if(a===j.ControlLines){const i=r,o=e;return i.length!==o.length?!1:i.every((l,f)=>l.equals(o[f]))}if(a===j.Tile||a===j.Grid)return r.equals(e);if(a===j.NullableGrid)return r===null&&e===null?!0:r===null||e===null?!1:r.equals(e);if(a===j.DirectionToggle)return Vs.every(i=>r[i]===e[i]);if(a===j.OrientationToggle)return $s.every(i=>r[i]===e[i]);if(a===j.SolvePath){const i=r,o=e;return i.length!==o.length?!1:i.every((l,f)=>l.x===o[f].x&&l.y===o[f].y)}return r===e}class d_{get configs(){return null}equals(r){const e=this.configs;if(e===null)return!0;if(e===void 0)return this===r;for(const i of this.configs)if(!Wg(i.type,this[i.field],r[i.field]))return!1;return!0}}function qi(a,r,e=1){switch(r){case D.Up:case te.Up:return{x:a.x,y:a.y-e};case D.Down:case te.Down:return{x:a.x,y:a.y+e};case D.Left:case te.Left:return{x:a.x-e,y:a.y};case D.Right:case te.Right:return{x:a.x+e,y:a.y};case te.UpLeft:return{x:a.x-e,y:a.y-e};case te.UpRight:return{x:a.x+e,y:a.y-e};case te.DownLeft:return{x:a.x-e,y:a.y+e};case te.DownRight:return{x:a.x+e,y:a.y+e}}}function Kn(a,r){return a.x1===r.x1&&a.y1===r.y1&&a.x2===r.x2&&a.y2===r.y2||a.x1===r.x2&&a.y1===r.y2&&a.x2===r.x1&&a.y2===r.y1}function Qe(a,r,e){const i=[];for(let o=0;o<r;o++){i[o]=[];for(let l=0;l<a;l++)i[o][l]=e(l,o)}return i}function Hg(a,r,e){return a.length<r?[...a,...Array.from({length:r-a.length},e)]:a.length>r?a.slice(0,r):a}function m_(a,r){let e=Number.POSITIVE_INFINITY,i;for(const o of a){const l=r(o);l<e&&(e=l,i=o)}return i}function Di(a,r="=,:|"){let e="";for(const i of a)r.includes(i)||i==="&"?e+=`&#${i.charCodeAt(0)};`:e+=i;return e}function Go(a,r="=,:|"){let e="";const i=a.matchAll(/&#([0-9]+);/g);let o=0;for(const l of i){e+=a.substring(o,l.index);const f=String.fromCharCode(parseInt(l[1],10));r.includes(f)||f==="&"?e+=f:e+=l[0],o=l.index+l[0].length}return e+a.substring(o)}class ei{constructor(r){Object.defineProperty(this,"getter",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:ei.UNCACHED})}static of(r){return new ei(r)}get value(){return this.cache===ei.UNCACHED&&(this.cache=this.getter()),this.cache}}Object.defineProperty(ei,"UNCACHED",{enumerable:!0,configurable:!0,writable:!0,value:Symbol("uncached")});function h_(a,r){return typeof a!="object"||a===null||a===void 0?!1:r in a&&typeof a[r]=="function"}function nm(a){return h_(a,"onGridChange")}function Ml(a){return h_(a,"onGridResize")}function im(a){return h_(a,"onSetGrid")}class Wt{constructor(r){Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.edges=Wt.deduplicateEdges(r??[])}addEdge(r){return this.edges.some(e=>Kn(e,r))?this:new Wt([...this.edges,r])}removeEdge(r){return new Wt(this.edges.filter(e=>!Kn(e,r)))}hasEdge(r){return r.x1===r.x2&&r.y1===r.y2?!0:this.edges.some(e=>Kn(e,r))}getEdgesAt({x:r,y:e}){return this.edges.filter(i=>i.x1===r&&i.y1===e||i.x2===r&&i.y2===e)}equals(r){if(this.edges.length!==r.edges.length)return!1;for(const e of this.edges)if(!r.hasEdge(e))return!1;return!0}static deduplicateEdges(r){return r.filter((e,i)=>r.findIndex(o=>Kn(o,e))===i)}insertColumn(r){return new Wt(this.edges.map(e=>e.x1<r||e.x2<r?e:{x1:e.x1+1,y1:e.y1,x2:e.x2+1,y2:e.y2}))}insertRow(r){return new Wt(this.edges.map(e=>e.y1<r||e.y2<r?e:{x1:e.x1,y1:e.y1+1,x2:e.x2,y2:e.y2+1}))}removeColumn(r){return new Wt(this.edges.map(e=>e.x1>r||e.x2>r?{x1:e.x1-1,y1:e.y1,x2:e.x2-1,y2:e.y2}:e))}removeRow(r){return new Wt(this.edges.map(e=>e.y1>r||e.y2>r?{x1:e.x1,y1:e.y1-1,x2:e.x2,y2:e.y2-1}:e))}}class Xg{constructor(){for(let r=-1;r<=1;r++){this[r]={};for(let e=-1;e<=1;e++)this[r][e]=!1}}get topLeft(){return this[-1][-1]}set topLeft(r){this[-1][-1]=r}get top(){return this[-1][0]}set top(r){this[-1][0]=r}get topRight(){return this[-1][1]}set topRight(r){this[-1][1]=r}get left(){return this[0][-1]}set left(r){this[0][-1]=r}get center(){return this[0][0]}set center(r){this[0][0]=r}get right(){return this[0][1]}set right(r){this[0][1]=r}get bottomLeft(){return this[1][-1]}set bottomLeft(r){this[1][-1]=r}get bottom(){return this[1][0]}set bottom(r){this[1][0]=r}get bottomRight(){return this[1][1]}set bottomRight(r){this[1][1]=r}equals(r){for(let e=-1;e<=1;e++)for(let i=-1;i<=1;i++)if(this[e][i]!==r[e][i])return!1;return!0}}class lr extends Wt{constructor(r){super(r)}addEdge(r){return this.edges.some(e=>Kn(e,r))?this:new lr([...this.edges,r])}removeEdge(r){return new lr(this.edges.filter(e=>!Kn(e,r)))}getForTile({x:r,y:e}){const i=new Xg,o=this.getEdgesAt({x:r,y:e}),l=[...o,...o.flatMap(f=>f.x1===r&&f.y1===e?this.getEdgesAt({x:f.x2,y:f.y2}):this.getEdgesAt({x:f.x1,y:f.y1}))];for(const f of l){if(f.x1!==r||f.y1!==e){const y=f.x1-r,_=f.y1-e;y>=-1&&y<=1&&_>=-1&&_<=1&&(i[_][y]=!0)}if(f.x2!==r||f.y2!==e){const y=f.x2-r,_=f.y2-e;y>=-1&&y<=1&&_>=-1&&_<=1&&(i[_][y]=!0)}}return i.center=!0,(!i.top||!i.left)&&(i.topLeft=!1),(!i.top||!i.right)&&(i.topRight=!1),(!i.bottom||!i.left)&&(i.bottomLeft=!1),(!i.bottom||!i.right)&&(i.bottomRight=!1),i}getConnectedTiles({x:r,y:e}){const i=[],o=new Set,l=[{x:r,y:e}];for(;l.length>0;){const f=l.pop();if(o.has(`${f.x},${f.y}`))continue;o.add(`${f.x},${f.y}`),i.push(f);const y=this.getEdgesAt(f);for(const _ of y)_.x1===f.x&&_.y1===f.y?l.push({x:_.x2,y:_.y2}):l.push({x:_.x1,y:_.y1})}return i}static create(r){const e=[];for(let i=0;i<r.length;i++)for(let o=0;o<r[i].length;o++)r[i][o]!=="."&&(o>0&&r[i][o-1]===r[i][o]&&e.push({x1:o-1,y1:i,x2:o,y2:i}),i>0&&r[i-1][o]===r[i][o]&&e.push({x1:o,y1:i-1,x2:o,y2:i}));return new lr(e)}insertColumn(r){return new lr(this.edges.flatMap(e=>e.x1<r&&e.x2<r||e.x1>=r&&e.x2>=r?e.x1<r?[e]:[{x1:e.x1+1,y1:e.y1,x2:e.x2+1,y2:e.y2}]:[{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},{x1:e.x1+1,y1:e.y1,x2:e.x2+1,y2:e.y2}]))}insertRow(r){return new lr(this.edges.flatMap(e=>e.y1<r&&e.y2<r||e.y1>=r&&e.y2>=r?e.y1<r?[e]:[{x1:e.x1,y1:e.y1+1,x2:e.x2,y2:e.y2+1}]:[{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},{x1:e.x1,y1:e.y1+1,x2:e.x2,y2:e.y2+1}]))}removeColumn(r){const e=new Map,i=[];this.edges.forEach(o=>{o.x1<r&&o.x2<r||o.x1>r&&o.x2>r?o.x1<r?i.push(o):i.push({x1:o.x1-1,y1:o.y1,x2:o.x2-1,y2:o.y2}):o.x1!==r&&o.x2!==r?i.push({x1:o.x1>r?o.x1-1:o.x1,y1:o.y1,x2:o.x2>r?o.x2-1:o.x2,y2:o.y2}):o.x1===r?e.has(o.y1)?e.get(o.y1).push(o):e.set(o.y1,[o]):o.x2===r&&(e.has(o.y2)?e.get(o.y2).push(o):e.set(o.y2,[o]))});for(const[o,l]of e.entries())for(let f=1;f<l.length;f++)if(!Kn(l[f],l[f-1])){let y,_,w,u;l[f].x1===r&&l[f].y1===o?(y=l[f].x2>r?l[f].x2-1:l[f].x2,_=l[f].y2):(y=l[f].x1>r?l[f].x1-1:l[f].x1,_=l[f].y1),l[f-1].x1===r&&l[f-1].y1===o?(w=l[f-1].x2>r?l[f-1].x2-1:l[f-1].x2,u=l[f-1].y2):(w=l[f-1].x1>r?l[f-1].x1-1:l[f-1].x1,u=l[f-1].y1),i.push({x1:y,y1:_,x2:w,y2:u})}return new lr(i)}removeRow(r){const e=new Map,i=[];this.edges.forEach(o=>{o.y1<r&&o.y2<r||o.y1>r&&o.y2>r?o.y1<r?i.push(o):i.push({x1:o.x1,y1:o.y1-1,x2:o.x2,y2:o.y2-1}):o.y1!==r&&o.y2!==r?i.push({x1:o.x1,y1:o.y1>r?o.y1-1:o.y1,x2:o.x2,y2:o.y2>r?o.y2-1:o.y2}):o.y1===r?e.has(o.x1)?e.get(o.x1).push(o):e.set(o.x1,[o]):o.y2===r&&(e.has(o.x2)?e.get(o.x2).push(o):e.set(o.x2,[o]))});for(const[o,l]of e.entries())for(let f=1;f<l.length;f++)if(!Kn(l[f],l[f-1])){let y,_,w,u;l[f].y1===r&&l[f].x1===o?(y=l[f].x2,_=l[f].y2>r?l[f].y2-1:l[f].y2):(y=l[f].x1,_=l[f].y1>r?l[f].y1-1:l[f].y1),l[f-1].y1===r&&l[f-1].x1===o?(w=l[f-1].x2,u=l[f-1].y2>r?l[f-1].y2-1:l[f-1].y2):(w=l[f-1].x1,u=l[f-1].y1>r?l[f-1].y1-1:l[f-1].y1),i.push({x1:y,y1:_,x2:w,y2:u})}return new lr(i)}}class ur{constructor(r,e,i){Object.defineProperty(this,"exists",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"fixed",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:i}),this.exists=r,this.fixed=e,this.color=i}static empty(){return new ur(!0,!1,M.Gray)}static doesNotExist(){return new ur(!1,!1,M.Gray)}copyWith({exists:r,fixed:e,color:i}){return new ur(r??this.exists,e??this.fixed,i??this.color)}withExists(r){return this.copyWith({exists:r})}withFixed(r){return this.copyWith({fixed:r})}withColor(r){return this.copyWith({color:r})}get isFixed(){return this.fixed}equals(r){return this.exists===r.exists&&this.fixed===r.fixed&&this.color===r.color}static create(r){const e=r!==".",i=r.toUpperCase()===r,o=r.toLowerCase()==="n"?M.Gray:r.toLowerCase()==="b"?M.Dark:M.Light;return new ur(e,i,o)}}const Dm=[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}];class B{constructor(r,e,i,o,l,f,y){Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"tiles",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"connections",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"zones",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"symbols",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rules",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"musicGrid",{enumerable:!0,configurable:!0,writable:!0,value:ei.of(()=>this.findRule(u=>u.id===Jn.MusicGrid))}),Object.defineProperty(this,"completePattern",{enumerable:!0,configurable:!0,writable:!0,value:ei.of(()=>this.findRule(u=>u.id===Jn.CompletePattern))}),Object.defineProperty(this,"underclued",{enumerable:!0,configurable:!0,writable:!0,value:ei.of(()=>this.findRule(u=>u.id===Jn.Underclued))}),this.width=r,this.height=e,this.tiles=i??Qe(r,e,()=>ur.empty()),this.connections=o??new lr,this.zones=l??new Wt;const _=f?B.deduplicateSymbols(f):new Map,w=y?B.deduplicateSingletonRules(y):[];this.symbols=_,this.rules=w,_.forEach(u=>{u.forEach((P,Z)=>{nm(P)&&(u[Z]=P.onGridChange(this))})}),w.forEach((u,P)=>{nm(u)&&(w[P]=u.onGridChange(this))})}copyWith({width:r,height:e,tiles:i,connections:o,zones:l,symbols:f,rules:y}){return new B(r??this.width,e??this.height,i??this.tiles,o??this.connections,l??this.zones,f??this.symbols,y??this.rules)}isPositionValid(r,e){return r>=0&&r<this.width&&e>=0&&e<this.height}getTile(r,e){return this.isPositionValid(r,e)?this.tiles[e][r]:ur.doesNotExist()}setTile(r,e,i){if(r<0||r>=this.width||e<0||e>=this.height)return this;const o=this.connections.getConnectedTiles({x:r,y:e}),l=this.tiles.map(y=>[...y]),f=typeof i=="function"?i(l[e][r]):i;return o.forEach(({x:y,y:_})=>{l[_][y]=l[_][y].withColor(f.color)}),l[e][r]=f,this.copyWith({tiles:l})}withTiles(r){return this.copyWith({tiles:typeof r=="function"?r(this.tiles.map(e=>e.slice())):r})}withConnections(r){return this.copyWith({connections:typeof r=="function"?r(this.connections):r})}withZones(r){return this.copyWith({zones:typeof r=="function"?r(this.zones):r})}withSymbols(r){if(r instanceof Array){const e=new Map;for(const i of r)e.has(i.id)?e.set(i.id,[...e.get(i.id),i]):e.set(i.id,[i]);return this.copyWith({symbols:e})}return this.copyWith({symbols:typeof r=="function"?r(new Map(this.symbols)):r})}addSymbol(r){return this.withSymbols(e=>e.has(r.id)?e.set(r.id,[...e.get(r.id),r]):e.set(r.id,[r]))}removeSymbol(r){return this.withSymbols(e=>{if(e.has(r.id)){const i=e.get(r.id).filter(o=>o!==r);i.length===0?e.delete(r.id):e.set(r.id,i)}return e})}removeSymbolIf(r){return this.withSymbols(e=>{for(const[i,o]of e){const l=o.filter(f=>!r(f));l.length===0?e.delete(i):e.set(i,l)}return e})}findSymbol(r){for(const e of this.symbols.values()){const i=e.find(r);if(i)return i}}replaceSymbol(r,e){return this.withSymbols(i=>{if(i.has(r.id)){const o=i.get(r.id).map(l=>l===r?e:l);i.set(r.id,o)}return i})}withRules(r){return this.copyWith({rules:typeof r=="function"?r(this.rules):r})}addRule(r){return this.withRules(e=>[...e,r])}removeRule(r){return this.withRules(e=>e.filter(i=>i!==r))}removeRuleIf(r){return this.withRules(e=>e.filter(i=>!r(i)))}findRule(r){return this.rules.find(r)}replaceRule(r,e){return this.withRules(i=>i.map(o=>o===r?e:o))}insertColumn(r){if(r<0||r>this.width)return this;const e=Qe(this.width+1,this.height,(y,_)=>y<r?this.getTile(y,_):y===r?ur.empty():this.getTile(y-1,_)),i=this.connections.insertColumn(r),o=this.zones.insertColumn(r),l=this.rules.map(y=>Ml(y)?y.onGridResize(this,"insert","column",r):y).filter(y=>y!==null),f=new Map;for(const[y,_]of this.symbols){const w=_.map(u=>u.onGridResize(this,"insert","column",r)).filter(u=>u!==null);w.length>0&&f.set(y,w)}return this.copyWith({width:this.width+1,tiles:e,connections:i,zones:o,rules:l,symbols:f})}insertRow(r){if(r<0||r>this.height)return this;const e=Qe(this.width,this.height+1,(y,_)=>_<r?this.getTile(y,_):_===r?ur.empty():this.getTile(y,_-1)),i=this.connections.insertRow(r),o=this.zones.insertRow(r),l=this.rules.map(y=>Ml(y)?y.onGridResize(this,"insert","row",r):y).filter(y=>y!==null),f=new Map;for(const[y,_]of this.symbols){const w=_.map(u=>u.onGridResize(this,"insert","row",r)).filter(u=>u!==null);w.length>0&&f.set(y,w)}return this.copyWith({height:this.height+1,tiles:e,connections:i,zones:o,rules:l,symbols:f})}removeColumn(r){if(r<0||r>=this.width)return this;const e=Qe(this.width-1,this.height,(y,_)=>y<r?this.getTile(y,_):this.getTile(y+1,_)),i=this.connections.removeColumn(r),o=this.zones.removeColumn(r),l=this.rules.map(y=>Ml(y)?y.onGridResize(this,"remove","column",r):y).filter(y=>y!==null),f=new Map;for(const[y,_]of this.symbols){const w=_.map(u=>u.onGridResize(this,"remove","column",r)).filter(u=>u!==null);w.length>0&&f.set(y,w)}return this.copyWith({width:this.width-1,tiles:e,connections:i,zones:o,rules:l,symbols:f})}removeRow(r){if(r<0||r>=this.height)return this;const e=Qe(this.width,this.height-1,(y,_)=>_<r?this.getTile(y,_):this.getTile(y,_+1)),i=this.connections.removeRow(r),o=this.zones.removeRow(r),l=this.rules.map(y=>Ml(y)?y.onGridResize(this,"remove","row",r):y).filter(y=>y!==null),f=new Map;for(const[y,_]of this.symbols){const w=_.map(u=>u.onGridResize(this,"remove","row",r)).filter(u=>u!==null);w.length>0&&f.set(y,w)}return this.copyWith({height:this.height-1,tiles:e,connections:i,zones:o,rules:l,symbols:f})}resize(r,e){if(r<0||e<0)throw new Error(`Invalid grid size: ${r}x${e}`);let i=this;for(;i.width<r;)i=i.insertColumn(i.width);for(;i.width>r;)i=i.removeColumn(i.width-1);for(;i.height<e;)i=i.insertRow(i.height);for(;i.height>e;)i=i.removeRow(i.height-1);return i}static createTiles(r){const e=r.reduce((i,o)=>Math.max(i,o.length),0);return r.map(i=>Array.from({length:e},(o,l)=>ur.create(i.charAt(l))))}static create(r){var i;const e=B.createTiles(r);return new B(((i=e[0])==null?void 0:i.length)??0,e.length,e)}find(r){for(let e=0;e<this.height;e++)for(let i=0;i<this.width;i++)if(r(this.getTile(i,e),i,e))return{x:i,y:e}}iterateArea(r,e,i){const o=this.getTile(r.x,r.y);if(!o.exists||!e(o))return;const l=Qe(this.width,this.height,()=>!1),f=[r];for(;f.length>0;){const{x:y,y:_}=f.pop();if(l[_][y])continue;l[_][y]=!0;const w=i(this.getTile(y,_),y,_);if(w!==void 0)return w;for(const u of Dm){const P={x:y+u.x,y:_+u.y};if(this.isPositionValid(P.x,P.y)){const Z=this.getTile(P.x,P.y);Z.exists&&e(Z)&&f.push(P)}}}}iterateDirection(r,e,i,o){return this.iterateDirectionAll(r,e,l=>l.exists&&i(l),o)}iterateDirectionAll(r,e,i,o){let l=r;for(;this.isPositionValid(l.x,l.y);){const f=this.getTile(l.x,l.y);if(!i(f))break;const y=o(f,l.x,l.y);if(y!==void 0)return y;l=qi(l,e)}}isComplete(){return this.tiles.every(r=>r.every(e=>!e.exists||e.color!==M.Gray))}forEach(r){for(let e=0;e<this.height;e++)for(let i=0;i<this.width;i++){const o=r(this.getTile(i,e),i,e);if(o!==void 0)return o}}floodFill(r,e,i,o){const l=Qe(this.width,this.height,(f,y)=>this.getTile(f,y));return this.iterateArea(r,f=>f.color===e&&(o||!f.fixed),(f,y,_)=>{l[_][y]=f.withColor(i)}),this.copyWith({tiles:l})}floodFillAll(r,e,i){return this.copyWith({tiles:this.tiles.map(o=>o.map(l=>l.color===r&&(i||!l.fixed)?l.withColor(e):l))})}requireSolution(){return!!(this.rules.some(r=>r.validateWithSolution)||[...this.symbols.values()].some(r=>r.some(e=>e.validateWithSolution)))}resetTiles(){let r=!1;const e=Qe(this.width,this.height,(o,l)=>{const f=this.getTile(o,l);return f.exists&&!f.fixed&&f.color!==M.Gray?(r=!0,f.withColor(M.Gray)):f});if(!r)return this;let i=this.copyWith({tiles:e});return this.symbols.forEach(o=>{o.forEach(l=>{im(l)&&(i=l.onSetGrid(this,i,null))})}),this.rules.forEach(o=>{im(o)&&(i=o.onSetGrid(this,i,null))}),i}copyTiles(r,e,i){const o=Qe(e,i,(_,w)=>this.getTile(r.x+_,r.y+w)),l=new lr(this.connections.edges.filter(_=>_.x1>=r.x&&_.y1>=r.y&&_.x2>=r.x&&_.y2>=r.y&&_.x1<r.x+e&&_.y1<r.y+i&&_.x2<r.x+e&&_.y2<r.y+i).map(_=>({x1:_.x1-r.x,y1:_.y1-r.y,x2:_.x2-r.x,y2:_.y2-r.y}))),f=new Wt(this.zones.edges.filter(_=>_.x1>=r.x&&_.y1>=r.y&&_.x2>=r.x&&_.y2>=r.y&&_.x1<r.x+e&&_.y1<r.y+i&&_.x2<r.x+e&&_.y2<r.y+i).map(_=>({x1:_.x1-r.x,y1:_.y1-r.y,x2:_.x2-r.x,y2:_.y2-r.y}))),y=new Map;for(const[_,w]of this.symbols){const u=w.filter(P=>P.x>=r.x&&P.y>=r.y&&P.x<r.x+e&&P.y<r.y+i);u.length>0&&y.set(_,u)}return new B(e,i,o,l,f,y,this.rules)}pasteTiles(r,e){if(!(e instanceof B))return this.pasteTiles(r,new B(e[0].length,e.length,e));const i=this.tiles.map(_=>[..._]);e.forEach((_,w,u)=>{this.isPositionValid(r.x+w,r.y+u)&&(i[r.y+u][r.x+w]=_)});const o=new lr([...this.connections.edges,...e.connections.edges.map(_=>({x1:_.x1+r.x,y1:_.y1+r.y,x2:_.x2+r.x,y2:_.y2+r.y}))]),l=new Wt([...this.zones.edges,...e.zones.edges.map(_=>({x1:_.x1+r.x,y1:_.y1+r.y,x2:_.x2+r.x,y2:_.y2+r.y}))]),f=new Map(this.symbols);for(const[_,w]of e.symbols){const u=w.map(P=>P.copyWith({x:P.x+r.x,y:P.y+r.y}));f.has(_)?f.set(_,[...f.get(_),...u]):f.set(_,u)}const y=[...this.rules,...e.rules];return this.copyWith({tiles:i,connections:o,zones:l,symbols:f,rules:y})}colorEquals(r){return this.width===r.width&&this.height===r.height&&this.tiles.every((e,i)=>e.every((o,l)=>!o.exists&&!r.getTile(l,i).exists||o.color===r.getTile(l,i).color))}solutionMatches(r){return this.width!==r.width||this.height!==r.height?!1:this.tiles.every((e,i)=>e.every((o,l)=>{const f=r.getTile(l,i);return!f.exists||o.color===M.Gray?!0:f.color===o.color}))}equals(r){if(this.width!==r.width||this.height!==r.height||this.tiles.some((e,i)=>e.some((o,l)=>!o.equals(r.getTile(l,i))))||!this.connections.equals(r.connections)||!this.zones.equals(r.zones)||this.symbols.size!==r.symbols.size)return!1;for(const[e,i]of this.symbols){const o=r.symbols.get(e);if(!o||i.length!==o.length)return!1;for(const l of i)if(!o.some(f=>l.equals(f)))return!1}if(this.rules.length!==r.rules.length)return!1;for(const e of this.rules)if(!r.rules.some(i=>e.equals(i)))return!1;return!0}getTileCount(r,e,i){let o=0;return this.forEach(l=>{l.exists===r&&(e!==void 0&&l.fixed!==e||i!==void 0&&l.color!==i||o++)}),o}getColorCount(r){let e=0,i=this.width*this.height;return this.forEach(o=>{(!o.exists||o.fixed&&o.color!==r)&&i--,o.exists&&o.fixed&&o.color===r&&e++}),{min:e,max:i}}static deduplicateRules(r){return r.filter((e,i,o)=>o.findIndex(l=>l.equals(e))===i)}static deduplicateSingletonRules(r){return r.filter((e,i,o)=>!e.isSingleton||o.findIndex(l=>l.id===e.id)===i)}static deduplicateSymbols(r){const e=new Map;for(const[i,o]of r)e.set(i,o.filter((l,f,y)=>y.findIndex(_=>l.equals(_))===f));return e}}class zm extends d_{get validateWithSolution(){return!1}get necessaryForCompletion(){return!0}get visibleWhenSolving(){return!0}equals(r){return this.id!==r.id?!1:super.equals(r)}}var Me;(function(a){a.assertEqual=o=>o;function r(o){}a.assertIs=r;function e(o){throw new Error}a.assertNever=e,a.arrayToEnum=o=>{const l={};for(const f of o)l[f]=f;return l},a.getValidEnumValues=o=>{const l=a.objectKeys(o).filter(y=>typeof o[o[y]]!="number"),f={};for(const y of l)f[y]=o[y];return a.objectValues(f)},a.objectValues=o=>a.objectKeys(o).map(function(l){return o[l]}),a.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const f in o)Object.prototype.hasOwnProperty.call(o,f)&&l.push(f);return l},a.find=(o,l)=>{for(const f of o)if(l(f))return f},a.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function i(o,l=" | "){return o.map(f=>typeof f=="string"?`'${f}'`:f).join(l)}a.joinValues=i,a.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(Me||(Me={}));var i_;(function(a){a.mergeShapes=(r,e)=>({...r,...e})})(i_||(i_={}));const se=Me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Pn=a=>{switch(typeof a){case"undefined":return se.undefined;case"string":return se.string;case"number":return isNaN(a)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(a)?se.array:a===null?se.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?se.promise:typeof Map<"u"&&a instanceof Map?se.map:typeof Set<"u"&&a instanceof Set?se.set:typeof Date<"u"&&a instanceof Date?se.date:se.object;default:return se.unknown}},q=Me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Qg=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class _r extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=r}format(r){const e=r||function(l){return l.message},i={_errors:[]},o=l=>{for(const f of l.issues)if(f.code==="invalid_union")f.unionErrors.map(o);else if(f.code==="invalid_return_type")o(f.returnTypeError);else if(f.code==="invalid_arguments")o(f.argumentsError);else if(f.path.length===0)i._errors.push(e(f));else{let y=i,_=0;for(;_<f.path.length;){const w=f.path[_];_===f.path.length-1?(y[w]=y[w]||{_errors:[]},y[w]._errors.push(e(f))):y[w]=y[w]||{_errors:[]},y=y[w],_++}}};return o(this),i}static assert(r){if(!(r instanceof _r))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=e=>e.message){const e={},i=[];for(const o of this.issues)o.path.length>0?(e[o.path[0]]=e[o.path[0]]||[],e[o.path[0]].push(r(o))):i.push(r(o));return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}}_r.create=a=>new _r(a);const qs=(a,r)=>{let e;switch(a.code){case q.invalid_type:a.received===se.undefined?e="Required":e=`Expected ${a.expected}, received ${a.received}`;break;case q.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(a.expected,Me.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:e=`Unrecognized key(s) in object: ${Me.joinValues(a.keys,", ")}`;break;case q.invalid_union:e="Invalid input";break;case q.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${Me.joinValues(a.options)}`;break;case q.invalid_enum_value:e=`Invalid enum value. Expected ${Me.joinValues(a.options)}, received '${a.received}'`;break;case q.invalid_arguments:e="Invalid function arguments";break;case q.invalid_return_type:e="Invalid function return type";break;case q.invalid_date:e="Invalid date";break;case q.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(e=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?e=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?e=`Invalid input: must end with "${a.validation.endsWith}"`:Me.assertNever(a.validation):a.validation!=="regex"?e=`Invalid ${a.validation}`:e="Invalid";break;case q.too_small:a.type==="array"?e=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?e=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?e=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?e=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:e="Invalid input";break;case q.too_big:a.type==="array"?e=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?e=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?e=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?e=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?e=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:e="Invalid input";break;case q.custom:e="Invalid input";break;case q.invalid_intersection_types:e="Intersection results could not be merged";break;case q.not_multiple_of:e=`Number must be a multiple of ${a.multipleOf}`;break;case q.not_finite:e="Number must be finite";break;default:e=r.defaultError,Me.assertNever(a)}return{message:e}};let jm=qs;function Yg(a){jm=a}function Xl(){return jm}const Ql=a=>{const{data:r,path:e,errorMaps:i,issueData:o}=a,l=[...e,...o.path||[]],f={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let y="";const _=i.filter(w=>!!w).slice().reverse();for(const w of _)y=w(f,{data:r,defaultError:y}).message;return{...o,path:l,message:y}},Kg=[];function ee(a,r){const e=Xl(),i=Ql({issueData:r,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,e,e===qs?void 0:qs].filter(o=>!!o)});a.common.issues.push(i)}class Nt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,e){const i=[];for(const o of e){if(o.status==="aborted")return ge;o.status==="dirty"&&r.dirty(),i.push(o.value)}return{status:r.value,value:i}}static async mergeObjectAsync(r,e){const i=[];for(const o of e){const l=await o.key,f=await o.value;i.push({key:l,value:f})}return Nt.mergeObjectSync(r,i)}static mergeObjectSync(r,e){const i={};for(const o of e){const{key:l,value:f}=o;if(l.status==="aborted"||f.status==="aborted")return ge;l.status==="dirty"&&r.dirty(),f.status==="dirty"&&r.dirty(),l.value!=="__proto__"&&(typeof f.value<"u"||o.alwaysSet)&&(i[l.value]=f.value)}return{status:r.value,value:i}}}const ge=Object.freeze({status:"aborted"}),js=a=>({status:"dirty",value:a}),Zt=a=>({status:"valid",value:a}),s_=a=>a.status==="aborted",o_=a=>a.status==="dirty",Bi=a=>a.status==="valid",Yo=a=>typeof Promise<"u"&&a instanceof Promise;function Yl(a,r,e,i){if(typeof r=="function"?a!==r||!i:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r.get(a)}function Gm(a,r,e,i,o){if(typeof r=="function"?a!==r||!o:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r.set(a,e),e}var _e;(function(a){a.errToObj=r=>typeof r=="string"?{message:r}:r||{},a.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(_e||(_e={}));var Wo,Ho;class nn{constructor(r,e,i,o){this._cachedPath=[],this.parent=r,this.data=e,this._path=i,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sm=(a,r)=>{if(Bi(r))return{success:!0,data:r.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new _r(a.common.issues);return this._error=e,this._error}}};function xe(a){if(!a)return{};const{errorMap:r,invalid_type_error:e,required_error:i,description:o}=a;if(r&&(e||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:o}:{errorMap:(f,y)=>{var _,w;const{message:u}=a;return f.code==="invalid_enum_value"?{message:u??y.defaultError}:typeof y.data>"u"?{message:(_=u??i)!==null&&_!==void 0?_:y.defaultError}:f.code!=="invalid_type"?{message:y.defaultError}:{message:(w=u??e)!==null&&w!==void 0?w:y.defaultError}},description:o}}class Pe{get description(){return this._def.description}_getType(r){return Pn(r.data)}_getOrReturnCtx(r,e){return e||{common:r.parent.common,data:r.data,parsedType:Pn(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new Nt,ctx:{common:r.parent.common,data:r.data,parsedType:Pn(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const e=this._parse(r);if(Yo(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(r){const e=this._parse(r);return Promise.resolve(e)}parse(r,e){const i=this.safeParse(r,e);if(i.success)return i.data;throw i.error}safeParse(r,e){var i;const o={common:{issues:[],async:(i=e==null?void 0:e.async)!==null&&i!==void 0?i:!1,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Pn(r)},l=this._parseSync({data:r,path:o.path,parent:o});return sm(o,l)}"~validate"(r){var e,i;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Pn(r)};if(!this["~standard"].async)try{const l=this._parseSync({data:r,path:[],parent:o});return Bi(l)?{value:l.value}:{issues:o.common.issues}}catch(l){!((i=(e=l==null?void 0:l.message)===null||e===void 0?void 0:e.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:o}).then(l=>Bi(l)?{value:l.value}:{issues:o.common.issues})}async parseAsync(r,e){const i=await this.safeParseAsync(r,e);if(i.success)return i.data;throw i.error}async safeParseAsync(r,e){const i={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Pn(r)},o=this._parse({data:r,path:i.path,parent:i}),l=await(Yo(o)?o:Promise.resolve(o));return sm(i,l)}refine(r,e){const i=o=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(o):e;return this._refinement((o,l)=>{const f=r(o),y=()=>l.addIssue({code:q.custom,...i(o)});return typeof Promise<"u"&&f instanceof Promise?f.then(_=>_?!0:(y(),!1)):f?!0:(y(),!1)})}refinement(r,e){return this._refinement((i,o)=>r(i)?!0:(o.addIssue(typeof e=="function"?e(i,o):e),!1))}_refinement(r){return new qr({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return rn.create(this,this._def)}nullable(){return oi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ur.create(this)}promise(){return Ws.create(this,this._def)}or(r){return ta.create([this,r],this._def)}and(r){return ra.create(this,r,this._def)}transform(r){return new qr({...xe(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const e=typeof r=="function"?r:()=>r;return new aa({...xe(this._def),innerType:this,defaultValue:e,typeName:pe.ZodDefault})}brand(){return new p_({typeName:pe.ZodBranded,type:this,...xe(this._def)})}catch(r){const e=typeof r=="function"?r:()=>r;return new la({...xe(this._def),innerType:this,catchValue:e,typeName:pe.ZodCatch})}describe(r){const e=this.constructor;return new e({...this._def,description:r})}pipe(r){return fa.create(this,r)}readonly(){return ua.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Jg=/^c[^\s-]{8,}$/i,ey=/^[0-9a-z]+$/,ty=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ry=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ny=/^[a-z0-9_-]{21}$/i,iy=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,sy=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,oy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ay="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jc;const ly=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_y=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fy=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Fm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",my=new RegExp(`^${Fm}$`);function Um(a){let r="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return a.precision?r=`${r}\\.\\d{${a.precision}}`:a.precision==null&&(r=`${r}(\\.\\d+)?`),r}function hy(a){return new RegExp(`^${Um(a)}$`)}function Vm(a){let r=`${Fm}T${Um(a)}`;const e=[];return e.push(a.local?"Z?":"Z"),a.offset&&e.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${e.join("|")})`,new RegExp(`^${r}$`)}function py(a,r){return!!((r==="v4"||!r)&&ly.test(a)||(r==="v6"||!r)&&cy.test(a))}function gy(a,r){if(!iy.test(a))return!1;try{const[e]=a.split("."),i=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||!o.typ||!o.alg||r&&o.alg!==r)}catch{return!1}}function yy(a,r){return!!((r==="v4"||!r)&&uy.test(a)||(r==="v6"||!r)&&_y.test(a))}class Gr extends Pe{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==se.string){const l=this._getOrReturnCtx(r);return ee(l,{code:q.invalid_type,expected:se.string,received:l.parsedType}),ge}const i=new Nt;let o;for(const l of this._def.checks)if(l.kind==="min")r.data.length<l.value&&(o=this._getOrReturnCtx(r,o),ee(o,{code:q.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")r.data.length>l.value&&(o=this._getOrReturnCtx(r,o),ee(o,{code:q.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const f=r.data.length>l.value,y=r.data.length<l.value;(f||y)&&(o=this._getOrReturnCtx(r,o),f?ee(o,{code:q.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):y&&ee(o,{code:q.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")oy.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"email",code:q.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")Jc||(Jc=new RegExp(ay,"u")),Jc.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"emoji",code:q.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")ry.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"uuid",code:q.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")ny.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"nanoid",code:q.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")Jg.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"cuid",code:q.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")ey.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"cuid2",code:q.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")ty.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"ulid",code:q.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),ee(o,{validation:"url",code:q.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"regex",code:q.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?r.data=r.data.trim():l.kind==="includes"?r.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(r,o),ee(o,{code:q.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?r.data=r.data.toLowerCase():l.kind==="toUpperCase"?r.data=r.data.toUpperCase():l.kind==="startsWith"?r.data.startsWith(l.value)||(o=this._getOrReturnCtx(r,o),ee(o,{code:q.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?r.data.endsWith(l.value)||(o=this._getOrReturnCtx(r,o),ee(o,{code:q.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?Vm(l).test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{code:q.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?my.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{code:q.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?hy(l).test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{code:q.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?sy.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"duration",code:q.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?py(r.data,l.version)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"ip",code:q.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?gy(r.data,l.alg)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"jwt",code:q.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?yy(r.data,l.version)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"cidr",code:q.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?fy.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"base64",code:q.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?dy.test(r.data)||(o=this._getOrReturnCtx(r,o),ee(o,{validation:"base64url",code:q.invalid_string,message:l.message}),i.dirty()):Me.assertNever(l);return{status:i.value,value:r.data}}_regex(r,e,i){return this.refinement(o=>r.test(o),{validation:e,code:q.invalid_string,..._e.errToObj(i)})}_addCheck(r){return new Gr({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",..._e.errToObj(r)})}url(r){return this._addCheck({kind:"url",..._e.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",..._e.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",..._e.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",..._e.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",..._e.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",..._e.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",..._e.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",..._e.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",..._e.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",..._e.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",..._e.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",..._e.errToObj(r)})}datetime(r){var e,i;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(e=r==null?void 0:r.offset)!==null&&e!==void 0?e:!1,local:(i=r==null?void 0:r.local)!==null&&i!==void 0?i:!1,..._e.errToObj(r==null?void 0:r.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,..._e.errToObj(r==null?void 0:r.message)})}duration(r){return this._addCheck({kind:"duration",..._e.errToObj(r)})}regex(r,e){return this._addCheck({kind:"regex",regex:r,..._e.errToObj(e)})}includes(r,e){return this._addCheck({kind:"includes",value:r,position:e==null?void 0:e.position,..._e.errToObj(e==null?void 0:e.message)})}startsWith(r,e){return this._addCheck({kind:"startsWith",value:r,..._e.errToObj(e)})}endsWith(r,e){return this._addCheck({kind:"endsWith",value:r,..._e.errToObj(e)})}min(r,e){return this._addCheck({kind:"min",value:r,..._e.errToObj(e)})}max(r,e){return this._addCheck({kind:"max",value:r,..._e.errToObj(e)})}length(r,e){return this._addCheck({kind:"length",value:r,..._e.errToObj(e)})}nonempty(r){return this.min(1,_e.errToObj(r))}trim(){return new Gr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Gr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Gr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxLength(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}Gr.create=a=>{var r;return new Gr({checks:[],typeName:pe.ZodString,coerce:(r=a==null?void 0:a.coerce)!==null&&r!==void 0?r:!1,...xe(a)})};function by(a,r){const e=(a.toString().split(".")[1]||"").length,i=(r.toString().split(".")[1]||"").length,o=e>i?e:i,l=parseInt(a.toFixed(o).replace(".","")),f=parseInt(r.toFixed(o).replace(".",""));return l%f/Math.pow(10,o)}class ni extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==se.number){const l=this._getOrReturnCtx(r);return ee(l,{code:q.invalid_type,expected:se.number,received:l.parsedType}),ge}let i;const o=new Nt;for(const l of this._def.checks)l.kind==="int"?Me.isInteger(r.data)||(i=this._getOrReturnCtx(r,i),ee(i,{code:q.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(i=this._getOrReturnCtx(r,i),ee(i,{code:q.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(i=this._getOrReturnCtx(r,i),ee(i,{code:q.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?by(r.data,l.value)!==0&&(i=this._getOrReturnCtx(r,i),ee(i,{code:q.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(r.data)||(i=this._getOrReturnCtx(r,i),ee(i,{code:q.not_finite,message:l.message}),o.dirty()):Me.assertNever(l);return{status:o.value,value:r.data}}gte(r,e){return this.setLimit("min",r,!0,_e.toString(e))}gt(r,e){return this.setLimit("min",r,!1,_e.toString(e))}lte(r,e){return this.setLimit("max",r,!0,_e.toString(e))}lt(r,e){return this.setLimit("max",r,!1,_e.toString(e))}setLimit(r,e,i,o){return new ni({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:i,message:_e.toString(o)}]})}_addCheck(r){return new ni({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:_e.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:_e.toString(e)})}finite(r){return this._addCheck({kind:"finite",message:_e.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(r)})}get minValue(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&Me.isInteger(r.value))}get isFinite(){let r=null,e=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(e===null||i.value>e)&&(e=i.value):i.kind==="max"&&(r===null||i.value<r)&&(r=i.value)}return Number.isFinite(e)&&Number.isFinite(r)}}ni.create=a=>new ni({checks:[],typeName:pe.ZodNumber,coerce:(a==null?void 0:a.coerce)||!1,...xe(a)});class ii extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==se.bigint)return this._getInvalidInput(r);let i;const o=new Nt;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(i=this._getOrReturnCtx(r,i),ee(i,{code:q.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(i=this._getOrReturnCtx(r,i),ee(i,{code:q.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?r.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(r,i),ee(i,{code:q.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):Me.assertNever(l);return{status:o.value,value:r.data}}_getInvalidInput(r){const e=this._getOrReturnCtx(r);return ee(e,{code:q.invalid_type,expected:se.bigint,received:e.parsedType}),ge}gte(r,e){return this.setLimit("min",r,!0,_e.toString(e))}gt(r,e){return this.setLimit("min",r,!1,_e.toString(e))}lte(r,e){return this.setLimit("max",r,!0,_e.toString(e))}lt(r,e){return this.setLimit("max",r,!1,_e.toString(e))}setLimit(r,e,i,o){return new ii({...this._def,checks:[...this._def.checks,{kind:r,value:e,inclusive:i,message:_e.toString(o)}]})}_addCheck(r){return new ii({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:_e.toString(e)})}get minValue(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}}ii.create=a=>{var r;return new ii({checks:[],typeName:pe.ZodBigInt,coerce:(r=a==null?void 0:a.coerce)!==null&&r!==void 0?r:!1,...xe(a)})};class Ko extends Pe{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==se.boolean){const i=this._getOrReturnCtx(r);return ee(i,{code:q.invalid_type,expected:se.boolean,received:i.parsedType}),ge}return Zt(r.data)}}Ko.create=a=>new Ko({typeName:pe.ZodBoolean,coerce:(a==null?void 0:a.coerce)||!1,...xe(a)});class Wi extends Pe{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==se.date){const l=this._getOrReturnCtx(r);return ee(l,{code:q.invalid_type,expected:se.date,received:l.parsedType}),ge}if(isNaN(r.data.getTime())){const l=this._getOrReturnCtx(r);return ee(l,{code:q.invalid_date}),ge}const i=new Nt;let o;for(const l of this._def.checks)l.kind==="min"?r.data.getTime()<l.value&&(o=this._getOrReturnCtx(r,o),ee(o,{code:q.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?r.data.getTime()>l.value&&(o=this._getOrReturnCtx(r,o),ee(o,{code:q.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):Me.assertNever(l);return{status:i.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Wi({...this._def,checks:[...this._def.checks,r]})}min(r,e){return this._addCheck({kind:"min",value:r.getTime(),message:_e.toString(e)})}max(r,e){return this._addCheck({kind:"max",value:r.getTime(),message:_e.toString(e)})}get minDate(){let r=null;for(const e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r!=null?new Date(r):null}}Wi.create=a=>new Wi({checks:[],coerce:(a==null?void 0:a.coerce)||!1,typeName:pe.ZodDate,...xe(a)});class Kl extends Pe{_parse(r){if(this._getType(r)!==se.symbol){const i=this._getOrReturnCtx(r);return ee(i,{code:q.invalid_type,expected:se.symbol,received:i.parsedType}),ge}return Zt(r.data)}}Kl.create=a=>new Kl({typeName:pe.ZodSymbol,...xe(a)});class Jo extends Pe{_parse(r){if(this._getType(r)!==se.undefined){const i=this._getOrReturnCtx(r);return ee(i,{code:q.invalid_type,expected:se.undefined,received:i.parsedType}),ge}return Zt(r.data)}}Jo.create=a=>new Jo({typeName:pe.ZodUndefined,...xe(a)});class ea extends Pe{_parse(r){if(this._getType(r)!==se.null){const i=this._getOrReturnCtx(r);return ee(i,{code:q.invalid_type,expected:se.null,received:i.parsedType}),ge}return Zt(r.data)}}ea.create=a=>new ea({typeName:pe.ZodNull,...xe(a)});class Bs extends Pe{constructor(){super(...arguments),this._any=!0}_parse(r){return Zt(r.data)}}Bs.create=a=>new Bs({typeName:pe.ZodAny,...xe(a)});class Fi extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Zt(r.data)}}Fi.create=a=>new Fi({typeName:pe.ZodUnknown,...xe(a)});class Rn extends Pe{_parse(r){const e=this._getOrReturnCtx(r);return ee(e,{code:q.invalid_type,expected:se.never,received:e.parsedType}),ge}}Rn.create=a=>new Rn({typeName:pe.ZodNever,...xe(a)});class Jl extends Pe{_parse(r){if(this._getType(r)!==se.undefined){const i=this._getOrReturnCtx(r);return ee(i,{code:q.invalid_type,expected:se.void,received:i.parsedType}),ge}return Zt(r.data)}}Jl.create=a=>new Jl({typeName:pe.ZodVoid,...xe(a)});class Ur extends Pe{_parse(r){const{ctx:e,status:i}=this._processInputParams(r),o=this._def;if(e.parsedType!==se.array)return ee(e,{code:q.invalid_type,expected:se.array,received:e.parsedType}),ge;if(o.exactLength!==null){const f=e.data.length>o.exactLength.value,y=e.data.length<o.exactLength.value;(f||y)&&(ee(e,{code:f?q.too_big:q.too_small,minimum:y?o.exactLength.value:void 0,maximum:f?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&e.data.length<o.minLength.value&&(ee(e,{code:q.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&e.data.length>o.maxLength.value&&(ee(e,{code:q.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),e.common.async)return Promise.all([...e.data].map((f,y)=>o.type._parseAsync(new nn(e,f,e.path,y)))).then(f=>Nt.mergeArray(i,f));const l=[...e.data].map((f,y)=>o.type._parseSync(new nn(e,f,e.path,y)));return Nt.mergeArray(i,l)}get element(){return this._def.type}min(r,e){return new Ur({...this._def,minLength:{value:r,message:_e.toString(e)}})}max(r,e){return new Ur({...this._def,maxLength:{value:r,message:_e.toString(e)}})}length(r,e){return new Ur({...this._def,exactLength:{value:r,message:_e.toString(e)}})}nonempty(r){return this.min(1,r)}}Ur.create=(a,r)=>new Ur({type:a,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...xe(r)});function Ds(a){if(a instanceof it){const r={};for(const e in a.shape){const i=a.shape[e];r[e]=rn.create(Ds(i))}return new it({...a._def,shape:()=>r})}else return a instanceof Ur?new Ur({...a._def,type:Ds(a.element)}):a instanceof rn?rn.create(Ds(a.unwrap())):a instanceof oi?oi.create(Ds(a.unwrap())):a instanceof sn?sn.create(a.items.map(r=>Ds(r))):a}class it extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),e=Me.objectKeys(r);return this._cached={shape:r,keys:e}}_parse(r){if(this._getType(r)!==se.object){const w=this._getOrReturnCtx(r);return ee(w,{code:q.invalid_type,expected:se.object,received:w.parsedType}),ge}const{status:i,ctx:o}=this._processInputParams(r),{shape:l,keys:f}=this._getCached(),y=[];if(!(this._def.catchall instanceof Rn&&this._def.unknownKeys==="strip"))for(const w in o.data)f.includes(w)||y.push(w);const _=[];for(const w of f){const u=l[w],P=o.data[w];_.push({key:{status:"valid",value:w},value:u._parse(new nn(o,P,o.path,w)),alwaysSet:w in o.data})}if(this._def.catchall instanceof Rn){const w=this._def.unknownKeys;if(w==="passthrough")for(const u of y)_.push({key:{status:"valid",value:u},value:{status:"valid",value:o.data[u]}});else if(w==="strict")y.length>0&&(ee(o,{code:q.unrecognized_keys,keys:y}),i.dirty());else if(w!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const w=this._def.catchall;for(const u of y){const P=o.data[u];_.push({key:{status:"valid",value:u},value:w._parse(new nn(o,P,o.path,u)),alwaysSet:u in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const w=[];for(const u of _){const P=await u.key,Z=await u.value;w.push({key:P,value:Z,alwaysSet:u.alwaysSet})}return w}).then(w=>Nt.mergeObjectSync(i,w)):Nt.mergeObjectSync(i,_)}get shape(){return this._def.shape()}strict(r){return _e.errToObj,new it({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(e,i)=>{var o,l,f,y;const _=(f=(l=(o=this._def).errorMap)===null||l===void 0?void 0:l.call(o,e,i).message)!==null&&f!==void 0?f:i.defaultError;return e.code==="unrecognized_keys"?{message:(y=_e.errToObj(r).message)!==null&&y!==void 0?y:_}:{message:_}}}:{}})}strip(){return new it({...this._def,unknownKeys:"strip"})}passthrough(){return new it({...this._def,unknownKeys:"passthrough"})}extend(r){return new it({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new it({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:pe.ZodObject})}setKey(r,e){return this.augment({[r]:e})}catchall(r){return new it({...this._def,catchall:r})}pick(r){const e={};return Me.objectKeys(r).forEach(i=>{r[i]&&this.shape[i]&&(e[i]=this.shape[i])}),new it({...this._def,shape:()=>e})}omit(r){const e={};return Me.objectKeys(this.shape).forEach(i=>{r[i]||(e[i]=this.shape[i])}),new it({...this._def,shape:()=>e})}deepPartial(){return Ds(this)}partial(r){const e={};return Me.objectKeys(this.shape).forEach(i=>{const o=this.shape[i];r&&!r[i]?e[i]=o:e[i]=o.optional()}),new it({...this._def,shape:()=>e})}required(r){const e={};return Me.objectKeys(this.shape).forEach(i=>{if(r&&!r[i])e[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof rn;)l=l._def.innerType;e[i]=l}}),new it({...this._def,shape:()=>e})}keyof(){return $m(Me.objectKeys(this.shape))}}it.create=(a,r)=>new it({shape:()=>a,unknownKeys:"strip",catchall:Rn.create(),typeName:pe.ZodObject,...xe(r)});it.strictCreate=(a,r)=>new it({shape:()=>a,unknownKeys:"strict",catchall:Rn.create(),typeName:pe.ZodObject,...xe(r)});it.lazycreate=(a,r)=>new it({shape:a,unknownKeys:"strip",catchall:Rn.create(),typeName:pe.ZodObject,...xe(r)});class ta extends Pe{_parse(r){const{ctx:e}=this._processInputParams(r),i=this._def.options;function o(l){for(const y of l)if(y.result.status==="valid")return y.result;for(const y of l)if(y.result.status==="dirty")return e.common.issues.push(...y.ctx.common.issues),y.result;const f=l.map(y=>new _r(y.ctx.common.issues));return ee(e,{code:q.invalid_union,unionErrors:f}),ge}if(e.common.async)return Promise.all(i.map(async l=>{const f={...e,common:{...e.common,issues:[]},parent:null};return{result:await l._parseAsync({data:e.data,path:e.path,parent:f}),ctx:f}})).then(o);{let l;const f=[];for(const _ of i){const w={...e,common:{...e.common,issues:[]},parent:null},u=_._parseSync({data:e.data,path:e.path,parent:w});if(u.status==="valid")return u;u.status==="dirty"&&!l&&(l={result:u,ctx:w}),w.common.issues.length&&f.push(w.common.issues)}if(l)return e.common.issues.push(...l.ctx.common.issues),l.result;const y=f.map(_=>new _r(_));return ee(e,{code:q.invalid_union,unionErrors:y}),ge}}get options(){return this._def.options}}ta.create=(a,r)=>new ta({options:a,typeName:pe.ZodUnion,...xe(r)});const En=a=>a instanceof ia?En(a.schema):a instanceof qr?En(a.innerType()):a instanceof sa?[a.value]:a instanceof si?a.options:a instanceof oa?Me.objectValues(a.enum):a instanceof aa?En(a._def.innerType):a instanceof Jo?[void 0]:a instanceof ea?[null]:a instanceof rn?[void 0,...En(a.unwrap())]:a instanceof oi?[null,...En(a.unwrap())]:a instanceof p_||a instanceof ua?En(a.unwrap()):a instanceof la?En(a._def.innerType):[];class lu extends Pe{_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==se.object)return ee(e,{code:q.invalid_type,expected:se.object,received:e.parsedType}),ge;const i=this.discriminator,o=e.data[i],l=this.optionsMap.get(o);return l?e.common.async?l._parseAsync({data:e.data,path:e.path,parent:e}):l._parseSync({data:e.data,path:e.path,parent:e}):(ee(e,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,e,i){const o=new Map;for(const l of e){const f=En(l.shape[r]);if(!f.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const y of f){if(o.has(y))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(y)}`);o.set(y,l)}}return new lu({typeName:pe.ZodDiscriminatedUnion,discriminator:r,options:e,optionsMap:o,...xe(i)})}}function a_(a,r){const e=Pn(a),i=Pn(r);if(a===r)return{valid:!0,data:a};if(e===se.object&&i===se.object){const o=Me.objectKeys(r),l=Me.objectKeys(a).filter(y=>o.indexOf(y)!==-1),f={...a,...r};for(const y of l){const _=a_(a[y],r[y]);if(!_.valid)return{valid:!1};f[y]=_.data}return{valid:!0,data:f}}else if(e===se.array&&i===se.array){if(a.length!==r.length)return{valid:!1};const o=[];for(let l=0;l<a.length;l++){const f=a[l],y=r[l],_=a_(f,y);if(!_.valid)return{valid:!1};o.push(_.data)}return{valid:!0,data:o}}else return e===se.date&&i===se.date&&+a==+r?{valid:!0,data:a}:{valid:!1}}class ra extends Pe{_parse(r){const{status:e,ctx:i}=this._processInputParams(r),o=(l,f)=>{if(s_(l)||s_(f))return ge;const y=a_(l.value,f.value);return y.valid?((o_(l)||o_(f))&&e.dirty(),{status:e.value,value:y.data}):(ee(i,{code:q.invalid_intersection_types}),ge)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,f])=>o(l,f)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}ra.create=(a,r,e)=>new ra({left:a,right:r,typeName:pe.ZodIntersection,...xe(e)});class sn extends Pe{_parse(r){const{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==se.array)return ee(i,{code:q.invalid_type,expected:se.array,received:i.parsedType}),ge;if(i.data.length<this._def.items.length)return ee(i,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&i.data.length>this._def.items.length&&(ee(i,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const l=[...i.data].map((f,y)=>{const _=this._def.items[y]||this._def.rest;return _?_._parse(new nn(i,f,i.path,y)):null}).filter(f=>!!f);return i.common.async?Promise.all(l).then(f=>Nt.mergeArray(e,f)):Nt.mergeArray(e,l)}get items(){return this._def.items}rest(r){return new sn({...this._def,rest:r})}}sn.create=(a,r)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sn({items:a,typeName:pe.ZodTuple,rest:null,...xe(r)})};class na extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==se.object)return ee(i,{code:q.invalid_type,expected:se.object,received:i.parsedType}),ge;const o=[],l=this._def.keyType,f=this._def.valueType;for(const y in i.data)o.push({key:l._parse(new nn(i,y,i.path,y)),value:f._parse(new nn(i,i.data[y],i.path,y)),alwaysSet:y in i.data});return i.common.async?Nt.mergeObjectAsync(e,o):Nt.mergeObjectSync(e,o)}get element(){return this._def.valueType}static create(r,e,i){return e instanceof Pe?new na({keyType:r,valueType:e,typeName:pe.ZodRecord,...xe(i)}):new na({keyType:Gr.create(),valueType:r,typeName:pe.ZodRecord,...xe(e)})}}class eu extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==se.map)return ee(i,{code:q.invalid_type,expected:se.map,received:i.parsedType}),ge;const o=this._def.keyType,l=this._def.valueType,f=[...i.data.entries()].map(([y,_],w)=>({key:o._parse(new nn(i,y,i.path,[w,"key"])),value:l._parse(new nn(i,_,i.path,[w,"value"]))}));if(i.common.async){const y=new Map;return Promise.resolve().then(async()=>{for(const _ of f){const w=await _.key,u=await _.value;if(w.status==="aborted"||u.status==="aborted")return ge;(w.status==="dirty"||u.status==="dirty")&&e.dirty(),y.set(w.value,u.value)}return{status:e.value,value:y}})}else{const y=new Map;for(const _ of f){const w=_.key,u=_.value;if(w.status==="aborted"||u.status==="aborted")return ge;(w.status==="dirty"||u.status==="dirty")&&e.dirty(),y.set(w.value,u.value)}return{status:e.value,value:y}}}}eu.create=(a,r,e)=>new eu({valueType:r,keyType:a,typeName:pe.ZodMap,...xe(e)});class Hi extends Pe{_parse(r){const{status:e,ctx:i}=this._processInputParams(r);if(i.parsedType!==se.set)return ee(i,{code:q.invalid_type,expected:se.set,received:i.parsedType}),ge;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ee(i,{code:q.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),e.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ee(i,{code:q.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),e.dirty());const l=this._def.valueType;function f(_){const w=new Set;for(const u of _){if(u.status==="aborted")return ge;u.status==="dirty"&&e.dirty(),w.add(u.value)}return{status:e.value,value:w}}const y=[...i.data.values()].map((_,w)=>l._parse(new nn(i,_,i.path,w)));return i.common.async?Promise.all(y).then(_=>f(_)):f(y)}min(r,e){return new Hi({...this._def,minSize:{value:r,message:_e.toString(e)}})}max(r,e){return new Hi({...this._def,maxSize:{value:r,message:_e.toString(e)}})}size(r,e){return this.min(r,e).max(r,e)}nonempty(r){return this.min(1,r)}}Hi.create=(a,r)=>new Hi({valueType:a,minSize:null,maxSize:null,typeName:pe.ZodSet,...xe(r)});class Gs extends Pe{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==se.function)return ee(e,{code:q.invalid_type,expected:se.function,received:e.parsedType}),ge;function i(y,_){return Ql({data:y,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Xl(),qs].filter(w=>!!w),issueData:{code:q.invalid_arguments,argumentsError:_}})}function o(y,_){return Ql({data:y,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Xl(),qs].filter(w=>!!w),issueData:{code:q.invalid_return_type,returnTypeError:_}})}const l={errorMap:e.common.contextualErrorMap},f=e.data;if(this._def.returns instanceof Ws){const y=this;return Zt(async function(..._){const w=new _r([]),u=await y._def.args.parseAsync(_,l).catch($=>{throw w.addIssue(i(_,$)),w}),P=await Reflect.apply(f,this,u);return await y._def.returns._def.type.parseAsync(P,l).catch($=>{throw w.addIssue(o(P,$)),w})})}else{const y=this;return Zt(function(..._){const w=y._def.args.safeParse(_,l);if(!w.success)throw new _r([i(_,w.error)]);const u=Reflect.apply(f,this,w.data),P=y._def.returns.safeParse(u,l);if(!P.success)throw new _r([o(u,P.error)]);return P.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new Gs({...this._def,args:sn.create(r).rest(Fi.create())})}returns(r){return new Gs({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,e,i){return new Gs({args:r||sn.create([]).rest(Fi.create()),returns:e||Fi.create(),typeName:pe.ZodFunction,...xe(i)})}}class ia extends Pe{get schema(){return this._def.getter()}_parse(r){const{ctx:e}=this._processInputParams(r);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}ia.create=(a,r)=>new ia({getter:a,typeName:pe.ZodLazy,...xe(r)});class sa extends Pe{_parse(r){if(r.data!==this._def.value){const e=this._getOrReturnCtx(r);return ee(e,{received:e.data,code:q.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:r.data}}get value(){return this._def.value}}sa.create=(a,r)=>new sa({value:a,typeName:pe.ZodLiteral,...xe(r)});function $m(a,r){return new si({values:a,typeName:pe.ZodEnum,...xe(r)})}class si extends Pe{constructor(){super(...arguments),Wo.set(this,void 0)}_parse(r){if(typeof r.data!="string"){const e=this._getOrReturnCtx(r),i=this._def.values;return ee(e,{expected:Me.joinValues(i),received:e.parsedType,code:q.invalid_type}),ge}if(Yl(this,Wo)||Gm(this,Wo,new Set(this._def.values)),!Yl(this,Wo).has(r.data)){const e=this._getOrReturnCtx(r),i=this._def.values;return ee(e,{received:e.data,code:q.invalid_enum_value,options:i}),ge}return Zt(r.data)}get options(){return this._def.values}get enum(){const r={};for(const e of this._def.values)r[e]=e;return r}get Values(){const r={};for(const e of this._def.values)r[e]=e;return r}get Enum(){const r={};for(const e of this._def.values)r[e]=e;return r}extract(r,e=this._def){return si.create(r,{...this._def,...e})}exclude(r,e=this._def){return si.create(this.options.filter(i=>!r.includes(i)),{...this._def,...e})}}Wo=new WeakMap;si.create=$m;class oa extends Pe{constructor(){super(...arguments),Ho.set(this,void 0)}_parse(r){const e=Me.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(r);if(i.parsedType!==se.string&&i.parsedType!==se.number){const o=Me.objectValues(e);return ee(i,{expected:Me.joinValues(o),received:i.parsedType,code:q.invalid_type}),ge}if(Yl(this,Ho)||Gm(this,Ho,new Set(Me.getValidEnumValues(this._def.values))),!Yl(this,Ho).has(r.data)){const o=Me.objectValues(e);return ee(i,{received:i.data,code:q.invalid_enum_value,options:o}),ge}return Zt(r.data)}get enum(){return this._def.values}}Ho=new WeakMap;oa.create=(a,r)=>new oa({values:a,typeName:pe.ZodNativeEnum,...xe(r)});class Ws extends Pe{unwrap(){return this._def.type}_parse(r){const{ctx:e}=this._processInputParams(r);if(e.parsedType!==se.promise&&e.common.async===!1)return ee(e,{code:q.invalid_type,expected:se.promise,received:e.parsedType}),ge;const i=e.parsedType===se.promise?e.data:Promise.resolve(e.data);return Zt(i.then(o=>this._def.type.parseAsync(o,{path:e.path,errorMap:e.common.contextualErrorMap})))}}Ws.create=(a,r)=>new Ws({type:a,typeName:pe.ZodPromise,...xe(r)});class qr extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:e,ctx:i}=this._processInputParams(r),o=this._def.effect||null,l={addIssue:f=>{ee(i,f),f.fatal?e.abort():e.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const f=o.transform(i.data,l);if(i.common.async)return Promise.resolve(f).then(async y=>{if(e.value==="aborted")return ge;const _=await this._def.schema._parseAsync({data:y,path:i.path,parent:i});return _.status==="aborted"?ge:_.status==="dirty"||e.value==="dirty"?js(_.value):_});{if(e.value==="aborted")return ge;const y=this._def.schema._parseSync({data:f,path:i.path,parent:i});return y.status==="aborted"?ge:y.status==="dirty"||e.value==="dirty"?js(y.value):y}}if(o.type==="refinement"){const f=y=>{const _=o.refinement(y,l);if(i.common.async)return Promise.resolve(_);if(_ instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return y};if(i.common.async===!1){const y=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return y.status==="aborted"?ge:(y.status==="dirty"&&e.dirty(),f(y.value),{status:e.value,value:y.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(y=>y.status==="aborted"?ge:(y.status==="dirty"&&e.dirty(),f(y.value).then(()=>({status:e.value,value:y.value}))))}if(o.type==="transform")if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Bi(f))return f;const y=o.transform(f.value,l);if(y instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:y}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>Bi(f)?Promise.resolve(o.transform(f.value,l)).then(y=>({status:e.value,value:y})):f);Me.assertNever(o)}}qr.create=(a,r,e)=>new qr({schema:a,typeName:pe.ZodEffects,effect:r,...xe(e)});qr.createWithPreprocess=(a,r,e)=>new qr({schema:r,effect:{type:"preprocess",transform:a},typeName:pe.ZodEffects,...xe(e)});class rn extends Pe{_parse(r){return this._getType(r)===se.undefined?Zt(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}rn.create=(a,r)=>new rn({innerType:a,typeName:pe.ZodOptional,...xe(r)});class oi extends Pe{_parse(r){return this._getType(r)===se.null?Zt(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}oi.create=(a,r)=>new oi({innerType:a,typeName:pe.ZodNullable,...xe(r)});class aa extends Pe{_parse(r){const{ctx:e}=this._processInputParams(r);let i=e.data;return e.parsedType===se.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}aa.create=(a,r)=>new aa({innerType:a,typeName:pe.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...xe(r)});class la extends Pe{_parse(r){const{ctx:e}=this._processInputParams(r),i={...e,common:{...e.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Yo(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new _r(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new _r(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}la.create=(a,r)=>new la({innerType:a,typeName:pe.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...xe(r)});class tu extends Pe{_parse(r){if(this._getType(r)!==se.nan){const i=this._getOrReturnCtx(r);return ee(i,{code:q.invalid_type,expected:se.nan,received:i.parsedType}),ge}return{status:"valid",value:r.data}}}tu.create=a=>new tu({typeName:pe.ZodNaN,...xe(a)});const vy=Symbol("zod_brand");class p_ extends Pe{_parse(r){const{ctx:e}=this._processInputParams(r),i=e.data;return this._def.type._parse({data:i,path:e.path,parent:e})}unwrap(){return this._def.type}}class fa extends Pe{_parse(r){const{status:e,ctx:i}=this._processInputParams(r);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?ge:l.status==="dirty"?(e.dirty(),js(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?ge:o.status==="dirty"?(e.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(r,e){return new fa({in:r,out:e,typeName:pe.ZodPipeline})}}class ua extends Pe{_parse(r){const e=this._def.innerType._parse(r),i=o=>(Bi(o)&&(o.value=Object.freeze(o.value)),o);return Yo(e)?e.then(o=>i(o)):i(e)}unwrap(){return this._def.innerType}}ua.create=(a,r)=>new ua({innerType:a,typeName:pe.ZodReadonly,...xe(r)});function qm(a,r={},e){return a?Bs.create().superRefine((i,o)=>{var l,f;if(!a(i)){const y=typeof r=="function"?r(i):typeof r=="string"?{message:r}:r,_=(f=(l=y.fatal)!==null&&l!==void 0?l:e)!==null&&f!==void 0?f:!0,w=typeof y=="string"?{message:y}:y;o.addIssue({code:"custom",...w,fatal:_})}}):Bs.create()}const wy={object:it.lazycreate};var pe;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(pe||(pe={}));const xy=(a,r={message:`Input not instance of ${a.name}`})=>qm(e=>e instanceof a,r),Bm=Gr.create,Wm=ni.create,Ey=tu.create,Sy=ii.create,Hm=Ko.create,Oy=Wi.create,Py=Kl.create,Ty=Jo.create,Ry=ea.create,Ay=Bs.create,Iy=Fi.create,ky=Rn.create,Ny=Jl.create,Cy=Ur.create,Ly=it.create,My=it.strictCreate,Zy=ta.create,Dy=lu.create,zy=ra.create,jy=sn.create,Gy=na.create,Fy=eu.create,Uy=Hi.create,Vy=Gs.create,$y=ia.create,qy=sa.create,By=si.create,Wy=oa.create,Hy=Ws.create,om=qr.create,Xy=rn.create,Qy=oi.create,Yy=qr.createWithPreprocess,Ky=fa.create,Jy=()=>Bm().optional(),eb=()=>Wm().optional(),tb=()=>Hm().optional(),rb={string:a=>Gr.create({...a,coerce:!0}),number:a=>ni.create({...a,coerce:!0}),boolean:a=>Ko.create({...a,coerce:!0}),bigint:a=>ii.create({...a,coerce:!0}),date:a=>Wi.create({...a,coerce:!0})},nb=ge;var Bt=Object.freeze({__proto__:null,defaultErrorMap:qs,setErrorMap:Yg,getErrorMap:Xl,makeIssue:Ql,EMPTY_PATH:Kg,addIssueToContext:ee,ParseStatus:Nt,INVALID:ge,DIRTY:js,OK:Zt,isAborted:s_,isDirty:o_,isValid:Bi,isAsync:Yo,get util(){return Me},get objectUtil(){return i_},ZodParsedType:se,getParsedType:Pn,ZodType:Pe,datetimeRegex:Vm,ZodString:Gr,ZodNumber:ni,ZodBigInt:ii,ZodBoolean:Ko,ZodDate:Wi,ZodSymbol:Kl,ZodUndefined:Jo,ZodNull:ea,ZodAny:Bs,ZodUnknown:Fi,ZodNever:Rn,ZodVoid:Jl,ZodArray:Ur,ZodObject:it,ZodUnion:ta,ZodDiscriminatedUnion:lu,ZodIntersection:ra,ZodTuple:sn,ZodRecord:na,ZodMap:eu,ZodSet:Hi,ZodFunction:Gs,ZodLazy:ia,ZodLiteral:sa,ZodEnum:si,ZodNativeEnum:oa,ZodPromise:Ws,ZodEffects:qr,ZodTransformer:qr,ZodOptional:rn,ZodNullable:oi,ZodDefault:aa,ZodCatch:la,ZodNaN:tu,BRAND:vy,ZodBranded:p_,ZodPipeline:fa,ZodReadonly:ua,custom:qm,Schema:Pe,ZodSchema:Pe,late:wy,get ZodFirstPartyTypeKind(){return pe},coerce:rb,any:Ay,array:Cy,bigint:Sy,boolean:Hm,date:Oy,discriminatedUnion:Dy,effect:om,enum:By,function:Vy,instanceof:xy,intersection:zy,lazy:$y,literal:qy,map:Fy,nan:Ey,nativeEnum:Wy,never:ky,null:Ry,nullable:Qy,number:Wm,object:Ly,oboolean:tb,onumber:eb,optional:Xy,ostring:Jy,pipeline:Ky,preprocess:Yy,promise:Hy,record:Gy,set:Uy,strictObject:My,string:Bm,symbol:Py,transformer:om,tuple:jy,undefined:Ty,union:Zy,unknown:Iy,void:Ny,NEVER:nb,ZodIssueCode:q,quotelessJson:Qg,ZodError:_r});Bt.object({title:Bt.string().min(1),author:Bt.string().min(1),description:Bt.string(),link:Bt.string(),difficulty:Bt.number().int().min(0).max(10)}).strict();Bt.object({title:Bt.string().min(1),author:Bt.string().min(1),description:Bt.string(),link:Bt.string(),difficulty:Bt.number().int().min(0).max(10),grid:Bt.instanceof(B),solution:Bt.instanceof(B).nullable()}).strict();const am={[M.Dark]:2,[M.Light]:1,[M.Gray]:0};function ib(a,r){return am[a]-am[r]}function Xm(a,r){return!a&&!r?0:a?r?a.y-r.y||a.x-r.x||ib(a.color,r.color):1:-1}function Qm(a,r){for(let e=0;e<Math.max(a.elements.length,r.elements.length);e++){const i=Xm(a.elements[e],r.elements[e]);if(i!==0)return i}return 0}function Ym(a,r){return Qm(a,r)===0}function Km(a){let r=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(const l of a.elements)r=Math.min(r,l.x),e=Math.min(e,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y);for(const l of a.elements)l.x-=r,l.y-=e;return a.width=i-r+1,a.height=o-e+1,a}function sb(a){const r={width:Math.max(...a.map(e=>e.length)),height:a.length,elements:[]};for(let e=0;e<a.length;e++)for(let i=0;i<a[e].length;i++){const o=a[e][i];o.exists&&o.color!==M.Gray&&r.elements.push({x:i,y:e,color:o.color})}return Km(r)}function ob(a,r){return Km({width:0,height:0,elements:a.map(e=>({x:e.x,y:e.y,color:r}))})}const ab=[{x:"x",y:"y"},{x:"-y",y:"x"},{x:"-x",y:"-y"},{x:"y",y:"-x"},{x:"-x",y:"y"},{x:"x",y:"-y"},{x:"y",y:"x"},{x:"-y",y:"-x"}];function lm(a,r,e,i,o){switch(a){case"x":return r;case"y":return e;case"-x":return i-1-r;case"-y":return o-1-e}}function Jm(a){const r=ab.map(({x:i,y:o})=>({width:i.endsWith("x")?a.width:a.height,height:o.endsWith("y")?a.height:a.width,elements:a.elements.map(l=>({x:lm(i,l.x,l.y,a.width,a.height),y:lm(o,l.x,l.y,a.width,a.height),color:l.color})).sort(Xm)})),e=[];for(const i of r)e.some(o=>Ym(o,i))||e.push(i);return e}function lb(a){const r=Jm(a);return r.reduce((e,i)=>Qm(i,e)<0?i:e,r[0])}class Dt extends zm{searchVariant(){return{description:this.explanation,rule:this}}get isSingleton(){return!1}}class Er extends Dt{constructor(r){super(),Object.defineProperty(this,"pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pattern=r.withTiles(e=>e.map(i=>i.map(o=>o.withFixed(!1)))).withRules([]).withSymbols(new Map),this.cache=Jm(sb(this.pattern.tiles))}get id(){return"ban_pattern"}get explanation(){return"Don't make this pattern"}get configs(){return Er.CONFIGS}createExampleGrid(){let r=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;this.pattern.forEach((_,w,u)=>{_.color!==M.Gray&&_.exists&&(r=Math.min(r,w),e=Math.min(e,u),i=Math.max(i,w),o=Math.max(o,u))});const l=i-r+1,f=o-e+1,y=Qe(l,f,(_,w)=>{const u=this.pattern.getTile(_+r,w+e);return!u.exists||u.color!==M.Gray?u:u.withExists(!1)});return new B(l,f,y)}get searchVariants(){return Er.SEARCH_VARIANTS}validateGrid(r){for(const e of this.cache)for(let i=0;i<=r.height-e.height;i++)for(let o=0;o<=r.width-e.width;o++){let l=!0;for(const f of e.elements){const y=r.getTile(o+f.x,i+f.y);if(!y.exists||y.color!==f.color){l=!1;break}}if(l)return{state:J.Error,positions:e.elements.map(f=>({x:o+f.x,y:i+f.y}))}}return{state:r.isComplete()?J.Satisfied:J.Incomplete}}copyWith({pattern:r}){return new Er(r??this.pattern)}withPattern(r){return this.copyWith({pattern:r})}}Object.defineProperty(Er,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["nnnnn","nnnnn","wwwwn","nnnnn","nnnnn"]))});Object.defineProperty(Er,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Tile,default:Er.EXAMPLE_GRID,resizable:!0,field:"pattern",description:"Pattern",configurable:!0}])});Object.defineProperty(Er,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new Er(Er.EXAMPLE_GRID).searchVariant()]});const eh=new Er(B.create([]));class bt extends Dt{constructor(r){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:r}),this.color=r}get id(){return"zone_cell_count"}get explanation(){return`Every zone has the same number of ${this.color} cells`}get configs(){return bt.CONFIGS}createExampleGrid(){return this.color===M.Light?bt.EXAMPLE_GRID_LIGHT:this.color===M.Dark?bt.EXAMPLE_GRID_DARK:bt.EXAMPLE_GRID_GRAY}get searchVariants(){return bt.SEARCH_VARIANTS}validateGrid(r){let e=!0;const i=Qe(r.width,r.height,(l,f)=>!r.getTile(l,f).exists),o=[];for(;;){const l=r.find((_,w,u)=>!i[u][w]);if(!l)break;const f={positions:[],completed:0,possible:0},y=[l];for(;y.length>0;){const{x:_,y:w}=y.pop();if(!i[w][_]){i[w][_]=!0,f.positions.push({x:_,y:w}),r.getTile(_,w).color===this.color?f.completed++:r.getTile(_,w).color===M.Gray&&(f.possible++,e=!1);for(const u of Dm){const P={x:_+u.x,y:w+u.y};r.zones.edges.some(Z=>Z.x1===_&&Z.y1===w&&Z.x2===P.x&&Z.y2===P.y||Z.x1===P.x&&Z.y1===P.y&&Z.x2===_&&Z.y2===w)||r.getTile(P.x,P.y).exists&&y.push(P)}}}o.push(f)}if(o.length<=1)return{state:e?J.Satisfied:J.Incomplete};{const l=o.find(f=>o.some(y=>y!==f&&(y.completed>f.completed+f.possible||y.completed+y.possible<f.completed)));return l?{state:J.Error,positions:l.positions}:{state:e?J.Satisfied:J.Incomplete}}}copyWith({color:r}){return new bt(r??this.color)}withColor(r){return this.copyWith({color:r})}}Object.defineProperty(bt,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Color,default:M.Light,allowGray:!0,field:"color",description:"Color",configurable:!0}])});Object.defineProperty(bt,"EXAMPLE_GRID_LIGHT",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["bwbbb","wbbwb","bbbwb","bwbwb"]).withZones(new Wt([{x1:0,y1:1,x2:0,y2:2},{x1:1,y1:1,x2:1,y2:2},{x1:2,y1:1,x2:2,y2:2},{x1:3,y1:1,x2:3,y2:2},{x1:4,y1:1,x2:4,y2:2}])).addRule(new bt(M.Light)))});Object.defineProperty(bt,"EXAMPLE_GRID_DARK",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(bt.EXAMPLE_GRID_LIGHT.withTiles(a=>a.map(r=>r.map(e=>e.withColor(e.color===M.Dark?M.Light:M.Dark)))))});Object.defineProperty(bt,"EXAMPLE_GRID_GRAY",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(bt.EXAMPLE_GRID_LIGHT.withTiles(a=>a.map(r=>r.map(e=>e.withColor(e.color===M.Light?M.Gray:e.color)))))});Object.defineProperty(bt,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new bt(M.Light).searchVariant(),new bt(M.Dark).searchVariant()]});const ub=new bt(M.Light);let da=class extends zm{constructor(r,e){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.x=r,this.y=e}onGridResize(r,e,i,o){return e==="insert"?this.copyWith({x:i==="column"&&this.x>=o?this.x+1:this.x,y:i==="row"&&this.y>=o?this.y+1:this.y}):i==="column"&&this.x===o||i==="row"&&this.y===o?null:this.copyWith({x:i==="column"&&this.x>o?this.x-1:this.x,y:i==="row"&&this.y>o?this.y-1:this.y})}get placementStep(){return .5}get sortOrder(){return this.id.charCodeAt(0)}withX(r){return this.copyWith({x:r})}withY(r){return this.copyWith({y:r})}withPosition(r,e){return this.copyWith({x:r,y:e})}};class ma extends da{constructor(r,e,i){super(r,e),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"number",{enumerable:!0,configurable:!0,writable:!0,value:i}),this.number=i}validateSymbol(r){const{completed:e,possible:i}=this.countTiles(r);return e>this.number||i<this.number?J.Error:e===this.number&&i===this.number?J.Satisfied:J.Incomplete}withNumber(r){return this.copyWith({number:r})}}class Re extends ma{constructor(r,e,i){super(r,e,i)}get id(){return"number"}get explanation(){return"*Area Numbers* must equal region sizes"}get configs(){return Re.CONFIGS}createExampleGrid(){return Re.EXAMPLE_GRID}countTiles(r){const e=Math.floor(this.x),i=Math.floor(this.y),o=r.getTile(e,i).color;if(o===M.Gray)return{completed:0,possible:Number.MAX_SAFE_INTEGER};let l=0,f=0;return r.iterateArea({x:e,y:i},y=>y.color===M.Gray||y.color===o,()=>{f++}),r.iterateArea({x:e,y:i},y=>y.color===o,()=>{l++}),{completed:l,possible:f}}copyWith({x:r,y:e,number:i}){return new Re(r??this.x,e??this.y,i??this.number)}withNumber(r){return this.copyWith({number:r})}}Object.defineProperty(Re,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.Number,default:1,field:"number",description:"Number",configurable:!0}])});Object.defineProperty(Re,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wbbbb","wbbwb","bbwwb","bbbbb"]).addSymbol(new Re(2,2,3)).addSymbol(new Re(0,1,2)))});const g_=new Re(0,0,1);class kt extends Dt{constructor(r,e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"count",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.color=r,this.count=e}get id(){return"cell_count"}get explanation(){return`There ${this.count===1?"is":"are"} ${this.count} ${this.color} cell${this.count===1?"":"s"} *in total*`}get configs(){return kt.CONFIGS}createExampleGrid(){return this.count<kt.EXAMPLE_GRID_LIGHT.length?this.color===M.Light?kt.EXAMPLE_GRID_LIGHT[this.count]:kt.EXAMPLE_GRID_DARK[this.count]:(this.color===M.Light?B.create(["wbbbb","wwbbb","wwwbb","wwwwb"]):B.create(["bwwww","bbwww","bbbww","bbbbw"])).addSymbol(new Re(1,2,this.count))}get searchVariants(){return kt.SEARCH_VARIANTS}validateGrid(r){let e=0,i=0;return r.forEach(o=>{o.exists&&(o.color===this.color&&e++,o.color===M.Gray&&i++)}),e>this.count||e+i<this.count?{state:J.Error,positions:[]}:e===this.count&&i===0?{state:J.Satisfied}:{state:J.Incomplete}}copyWith({color:r,count:e}){return new kt(r??this.color,e??this.count)}withColor(r){return this.copyWith({color:r})}withCount(r){return this.copyWith({count:r})}}Object.defineProperty(kt,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Color,default:M.Light,allowGray:!1,field:"color",description:"Color",configurable:!0},{type:j.Number,default:10,min:0,field:"count",description:"Count",configurable:!0}])});Object.defineProperty(kt,"EXAMPLE_GRID_LIGHT",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([B.create(["bbbbb","bbbbb","bbbbb","bbbbb"]),B.create(["bbbbb","bbbbb","bwbbb","bbbbb"]).withSymbols([new Re(1,2,1)]),B.create(["bbbbb","bbbbb","bwwbb","bbbbb"]).withSymbols([new Re(1,2,2)]),B.create(["bbbbb","bwbbb","bwwbb","bbbbb"]).withSymbols([new Re(1,2,3)]),B.create(["bbbbb","bwwbb","bwwbb","bbbbb"]).withSymbols([new Re(1,2,4)]),B.create(["bbbbb","bwwbb","bwwwb","bbbbb"]).withSymbols([new Re(1,2,5)]),B.create(["bbbbb","bwwwb","bwwwb","bbbbb"]).withSymbols([new Re(1,2,6)]),B.create(["bbbbb","bbbbb","wwwbb","wwwwb"]).withSymbols([new Re(1,2,7)]),B.create(["bbbbb","wbbbb","wwwbb","wwwwb"]).withSymbols([new Re(1,2,8)]),B.create(["bbbbb","wwbbb","wwwbb","wwwwb"]).withSymbols([new Re(1,2,9)]),B.create(["wbbbb","wwbbb","wwwbb","wwwwb"]).withSymbols([new Re(1,2,10)])])});Object.defineProperty(kt,"EXAMPLE_GRID_DARK",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(kt.EXAMPLE_GRID_LIGHT.map(a=>a.withTiles(r=>r.map(e=>e.map(i=>i.withColor(i.color===M.Dark?M.Light:M.Dark))))))});Object.defineProperty(kt,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new kt(M.Light,10).searchVariant(),new kt(M.Dark,10).searchVariant()]});const y_=new kt(M.Dark,10);class ti extends Dt{constructor(){super()}get id(){return Jn.CompletePattern}get explanation(){return"Complete the pattern"}createExampleGrid(){return ti.EXAMPLE_GRID}get searchVariants(){return ti.SEARCH_VARIANTS}validateGrid(r){return{state:J.Incomplete}}copyWith(r){return new ti}get validateWithSolution(){return!0}get isSingleton(){return!0}}Object.defineProperty(ti,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wbwbw","bwbwb","wbwbw","bwbwb"]))});Object.defineProperty(ti,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new ti().searchVariant()]});const cb=new ti;class Qt extends Dt{constructor(r){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:r}),this.color=r}get id(){return"connect_all"}get explanation(){return`Connect all ${this.color} cells`}get configs(){return Qt.CONFIGS}createExampleGrid(){return this.color===M.Light?Qt.EXAMPLE_GRID_LIGHT:Qt.EXAMPLE_GRID_DARK}get searchVariants(){return Qt.SEARCH_VARIANTS}validateGrid(r){let e=!0;const i=Qe(r.width,r.height,(l,f)=>!(r.getTile(l,f).exists&&r.getTile(l,f).color===this.color)),o=[];for(;;){const l=r.find((y,_,w)=>!i[w][_]);if(!l)break;const f=[];r.iterateArea(l,y=>y.color===this.color||y.color===M.Gray,(y,_,w)=>{i[w][_]=!0,y.color===M.Gray&&(e=!1),f.push({x:_,y:w})}),o.push(f)}return o.length>1?{state:J.Error,positions:m_(o,l=>l.length)}:o.length<=1?{state:e?J.Satisfied:J.Incomplete}:{state:J.Incomplete}}copyWith({color:r}){return new Qt(r??this.color)}withColor(r){return this.copyWith({color:r})}}Object.defineProperty(Qt,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Color,default:M.Light,allowGray:!1,field:"color",description:"Color",configurable:!0}])});Object.defineProperty(Qt,"EXAMPLE_GRID_LIGHT",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["bwwwb","bwbww","wwwbb","wbwww"]))});Object.defineProperty(Qt,"EXAMPLE_GRID_DARK",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wbbbw","wbwbb","bbbww","bwbbb"]))});Object.defineProperty(Qt,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new Qt(M.Light).searchVariant(),new Qt(M.Dark).searchVariant()]});const th=new Qt(M.Dark);class Vr extends Dt{constructor(r,e){super(),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.description=r,this.grid=e}get id(){return"custom"}get explanation(){return this.description}get configs(){return Vr.configs}createExampleGrid(){return this.grid}get searchVariants(){return Vr.SEARCH_VARIANTS}validateGrid(r){return{state:J.Incomplete}}copyWith({description:r,grid:e}){return new Vr(r??this.description,e??this.grid)}get validateWithSolution(){return!0}}Object.defineProperty(Vr,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(new B(5,4))});Object.defineProperty(Vr,"configs",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.String,default:"A *custom* rule",field:"description",description:"Description",configurable:!0},{type:j.Grid,default:Vr.EXAMPLE_GRID,field:"grid",description:"Thumbnail Grid",configurable:!0}])});Object.defineProperty(Vr,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new Vr("A *custom* rule",Vr.EXAMPLE_GRID).searchVariant()]});const _b=new Vr("",B.create([]));class rh extends da{descriptionEquals(r){return this.id===r.id&&this.explanation===r.explanation&&this.createExampleGrid().equals(r.createExampleGrid())}}class nh extends rh{constructor(r,e,i,o){super(i,o),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.description=r,this.grid=e}get explanation(){return this.description}createExampleGrid(){return this.grid}validateSymbol(r){return J.Incomplete}get validateWithSolution(){return!0}withDescription(r){return this.copyWith({description:r})}withGrid(r){return this.copyWith({grid:r})}}class Br extends nh{constructor(r,e,i,o,l,f=0){super(r,e,i,o),Object.defineProperty(this,"icon",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"rotation",{enumerable:!0,configurable:!0,writable:!0,value:f}),this.icon=l,this.rotation=f}get id(){return"custom_icon"}get configs(){return Br.CONFIGS}copyWith({description:r,grid:e,x:i,y:o,icon:l,rotation:f}){return new Br(r??this.description,e??this.grid,i??this.x,o??this.y,l??this.icon,f??this.rotation)}withIcon(r){return this.copyWith({icon:r})}withRotation(r){return this.copyWith({rotation:r})}}Object.defineProperty(Br,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(new B(5,4))});Object.defineProperty(Br,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.String,default:"A *custom* text symbol",placeholder:"Enter description. Emphasize with *asterisks*.",field:"description",description:"Description",configurable:!0},{type:j.Grid,default:Br.EXAMPLE_GRID,field:"grid",description:"Thumbnail Grid",configurable:!0},{type:j.Icon,default:"MdQuestionMark",field:"icon",description:"Icon",configurable:!0},{type:j.Number,default:0,field:"rotation",description:"Rotation",configurable:!0}])});const fb=new Br("A *custom* icon symbol",new B(5,4),0,0,"MdQuestionMark");class tn extends Dt{constructor(r,e,i,o=[]){super(),Object.defineProperty(this,"count",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"regenInterval",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"startFull",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"solvePath",{enumerable:!0,configurable:!0,writable:!0,value:o}),this.count=r,this.regenInterval=e,this.startFull=i,this.solvePath=o}get id(){return"foresight"}get explanation(){return"*Foresight:* Show hints"}get visibleWhenSolving(){return!1}get configs(){return tn.CONFIGS}createExampleGrid(){return tn.EXAMPLE_GRID}get searchVariants(){return tn.SEARCH_VARIANTS}validateGrid(r){return{state:J.Incomplete}}get necessaryForCompletion(){return!1}get isSingleton(){return!0}copyWith({count:r,regenInterval:e,startFull:i,solvePath:o}){return new tn(r??this.count,e??this.regenInterval,i??this.startFull,o??this.solvePath)}}Object.defineProperty(tn,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["."]).addSymbol(new Br("",B.create([]),0,0,"MdRemoveRedEye")))});Object.defineProperty(tn,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:5,min:1,field:"count",description:"Foresight count",configurable:!0},{type:j.Number,default:30,min:1,field:"regenInterval",description:"Regen Interval (seconds)",configurable:!0},{type:j.Boolean,default:!1,field:"startFull",description:"Start with full foresight",configurable:!0},{type:j.SolvePath,default:[],field:"solvePath",description:"Intended solve path",configurable:!0}])});Object.defineProperty(tn,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new tn(5,30,!1).searchVariant()]});const db=new tn(5,30,!1);class xt extends d_{constructor(r,e){super(),Object.defineProperty(this,"note",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.note=r,this.velocity=e}get configs(){return xt.CONFIGS}copyWith({note:r,velocity:e}){return new xt(r!==void 0?r:this.note,e!==void 0?e:this.velocity)}}Object.defineProperty(xt,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.NullableNote,default:"C4",field:"note",description:"Note",configurable:!0},{type:j.NullableNumber,default:.6,min:0,max:1,step:.2,field:"velocity",description:"Velocity",configurable:!0}])});class on extends d_{constructor(r,e,i,o,l){super(),Object.defineProperty(this,"column",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"bpm",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"pedal",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"checkpoint",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"rows",{enumerable:!0,configurable:!0,writable:!0,value:l}),this.column=Math.floor(r),this.bpm=e,this.pedal=i,this.checkpoint=o,this.rows=l}get configs(){return on.CONFIGS}copyWith({column:r,bpm:e,pedal:i,checkpoint:o,rows:l}){return new on(r??this.column,e!==void 0?e:this.bpm,i!==void 0?i:this.pedal,o??this.checkpoint,l??this.rows)}withColumn(r){return this.copyWith({column:r})}withBpm(r){return this.copyWith({bpm:r})}withPedal(r){return this.copyWith({pedal:r})}withCheckpoint(r){return this.copyWith({checkpoint:r})}withRows(r){return this.copyWith({rows:r})}equals(r){return this.column===r.column&&this.bpm===r.bpm&&this.pedal===r.pedal&&this.checkpoint===r.checkpoint&&this.rows.length===r.rows.length&&this.rows.every((e,i)=>{const o=r.rows[i];return e.note===o.note&&e.velocity===o.velocity})}get isEmpty(){return this.bpm===null&&this.pedal===null&&!this.checkpoint&&!this.rows.some(r=>r.note!==null||r.velocity!==null)}}Object.defineProperty(on,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.NullableNumber,default:120,min:20,max:1e3,field:"bpm",description:"BPM",configurable:!0},{type:j.NullableBoolean,default:!1,field:"pedal",description:"Pedal",configurable:!0},{type:j.Boolean,default:!1,field:"checkpoint",description:"Checkpoint",configurable:!0}])});const ru=[new xt("C5",.6),new xt("B4",.6),new xt("A4",.6),new xt("G4",.6),new xt("F4",.6),new xt("E4",.6),new xt("D4",.6),new xt("C4",.6)];class Ht extends Dt{constructor(r,e){super(),Object.defineProperty(this,"controlLines",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.controlLines=Ht.deduplicateControlLines(r),this.track=e}get id(){return Jn.MusicGrid}get explanation(){return"*Music Grid:* Listen to the solution"}get configs(){return Ht.CONFIGS}createExampleGrid(){return Ht.EXAMPLE_GRID}get searchVariants(){return Ht.SEARCH_VARIANTS}validateGrid(r){return{state:J.Incomplete}}onSetGrid(r,e,i){if(e.getTileCount(!0,void 0,M.Gray)===0)return e;const o=e.tiles.map(l=>l.map(f=>f.color===M.Gray?f.withColor(M.Light):f));return e.copyWith({tiles:o})}onGridChange(r){if(this.controlLines.length===0)return this;if(r.height===this.controlLines[0].rows.length&&!this.controlLines.some(i=>i.column>=r.width))return this;const e=this.controlLines.filter(i=>i.column<r.width).map(i=>i.withRows(Hg(i.rows,r.height,()=>new xt(null,null))));return this.copyWith({controlLines:e})}onGridResize(r,e,i,o){if(e==="insert"){if(i==="row")return this.copyWith({controlLines:this.controlLines.map(l=>{const f=l.rows.slice();return f.splice(o,0,new xt(null,null)),l.withRows(f)})});if(i==="column")return this.copyWith({controlLines:this.controlLines.map(l=>l.column>=o?l.withColumn(l.column+1):l)})}else if(e==="remove"){if(i==="row")return this.copyWith({controlLines:this.controlLines.map(l=>l.withRows(l.rows.filter((f,y)=>y!==o)))});if(i==="column"){const l=[];for(const f of this.controlLines)if(f.column===o){const y=this.controlLines.find(_=>_.column===o+1);y?l.push(Ht.mergeControlLines(f,y)):l.push(f.withColumn(o))}else f.column>o?l.push(f.withColumn(f.column-1)):l.push(f);return this.copyWith({controlLines:l})}}return this}setControlLine(r){const e=this.controlLines.filter(i=>i.column!==r.column);return this.copyWith({controlLines:[...e,r].sort((i,o)=>i.column-o.column)})}withTrack(r){return this.copyWith({track:r})}copyWith({controlLines:r,track:e}){return new Ht(r??this.controlLines,e!==void 0?e:this.track)}get validateWithSolution(){return!0}get isSingleton(){return!0}static mergeControlLines(...r){const e=Array.from({length:Math.max(...r.map(f=>f.rows.length))},(f,y)=>{const _=r.map(u=>{var P;return(P=u.rows[y])==null?void 0:P.note}).reduce((u,P)=>P??u,null),w=r.map(u=>{var P;return(P=u.rows[y])==null?void 0:P.velocity}).reduce((u,P)=>P??u,null);return new xt(_,w)}),i=r.map(f=>f.bpm).reduce((f,y)=>y??f,null),o=r.map(f=>f.pedal).reduce((f,y)=>y??f,null),l=r.some(f=>f.checkpoint);return new on(r[0].column,i,o,l,e)}static deduplicateControlLines(r){const e=new Map;for(const i of r)e.has(i.column)?e.get(i.column).push(i):e.set(i.column,[i]);return Array.from(e.values()).map(i=>i.length>1?Ht.mergeControlLines(...i):i[0])}}Object.defineProperty(Ht,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["."]).addSymbol(new Br("",B.create([]),0,0,"MdMusicNote")))});Object.defineProperty(Ht,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.ControlLines,default:[new on(0,120,!1,!1,ru)],field:"controlLines",description:"Control Lines",configurable:!1},{type:j.NullableGrid,default:null,nonNullDefault:new B(5,4).addRule(new Ht([new on(0,120,!1,!1,ru)],null)),field:"track",description:"Track",configurable:!0}])});Object.defineProperty(Ht,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new Ht([new on(0,120,!1,!1,ru)],null).searchVariant()]});const mb=new Ht([new on(0,120,!1,!1,ru)],null);class $r extends nh{constructor(r,e,i,o,l,f=0){super(r,e,i,o),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"rotation",{enumerable:!0,configurable:!0,writable:!0,value:f}),this.text=l,this.rotation=f}get id(){return"custom_text"}get configs(){return $r.CONFIGS}copyWith({description:r,grid:e,x:i,y:o,text:l,rotation:f}){return new $r(r??this.description,e??this.grid,i??this.x,o??this.y,l??this.text,f??this.rotation)}withText(r){return this.copyWith({text:r})}withRotation(r){return this.copyWith({rotation:r})}}Object.defineProperty($r,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(new B(5,4))});Object.defineProperty($r,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.String,default:"A *custom* text symbol",placeholder:"Enter description. Emphasize with *asterisks*.",field:"description",description:"Description",configurable:!0},{type:j.Grid,default:$r.EXAMPLE_GRID,field:"grid",description:"Thumbnail Grid",configurable:!0},{type:j.String,default:"X",placeholder:"Short text to be displayed on the symbol",field:"text",description:"Text",configurable:!0},{type:j.Number,default:0,field:"rotation",description:"Rotation",configurable:!0}])});const hb=new $r("A *custom* text symbol",new B(5,4),0,0,"X");class Xt extends Dt{constructor(r,e){super(),Object.defineProperty(this,"solution",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.solution=Xt.cleanSolution(r),this.visible=e}get id(){return"mystery"}get explanation(){return"*Mystery:* Alternate solution"}get visibleWhenSolving(){return this.visible}get configs(){return Xt.CONFIGS}createExampleGrid(){return Xt.EXAMPLE_GRID}get searchVariants(){return Xt.SEARCH_VARIANTS}validateGrid(r){return r.colorEquals(this.solution)?{state:J.Satisfied}:{state:J.Incomplete}}get necessaryForCompletion(){return!1}onFinalValidation(r,e,i){return i.final===J.Satisfied?i:r.colorEquals(this.solution)?{final:J.Satisfied,symbols:i.symbols,rules:i.rules}:i}onGridChange(r){return r.width===this.solution.width&&r.height===this.solution.height&&!r.tiles.some((e,i)=>e.some((o,l)=>{const f=this.solution.getTile(l,i);return!!(f.exists!==o.exists||f.fixed!==o.fixed||f.exists&&f.fixed&&f.color!==o.color)}))?this:this.withSolution(Xt.cleanSolution(this.solution,r))}onGridResize(r,e,i,o){if(e==="insert"){if(i==="row")return this.withSolution(this.solution.insertRow(o));if(i==="column")return this.withSolution(this.solution.insertColumn(o))}else if(e==="remove"){if(i==="row")return this.withSolution(this.solution.removeRow(o));if(i==="column")return this.withSolution(this.solution.removeColumn(o))}return this}copyWith({solution:r,visible:e}){return new Xt(r??this.solution,e??this.visible)}withSolution(r){return this.copyWith({solution:r})}withVisible(r){return this.copyWith({visible:r})}static cleanSolution(r,e){const i=e?Qe(e.width,e.height,(o,l)=>{const f=e.getTile(o,l);if(!f.exists||f.fixed)return f;const y=r.getTile(o,l);return!y.exists||y.color===M.Gray?f:f.withColor(y.color)}):r.tiles;return new B((e==null?void 0:e.width)??r.width,(e==null?void 0:e.height)??r.height,i)}}Object.defineProperty(Xt,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["."]).addSymbol(new $r("",B.create([]),0,0,"?")))});Object.defineProperty(Xt,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Tile,default:Xt.EXAMPLE_GRID,resizable:!1,field:"solution",description:"Solution",configurable:!0},{type:j.Boolean,default:!0,field:"visible",description:"Visible",configurable:!0}])});Object.defineProperty(Xt,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new Xt(Xt.EXAMPLE_GRID,!0).searchVariant()]});const pb=new Xt(B.create([]),!0);class xr extends Dt{constructor(r){super(),Object.defineProperty(this,"number",{enumerable:!0,configurable:!0,writable:!0,value:r}),this.number=r}get id(){return"off_by_x"}get explanation(){return`All numbers are off by ${this.number}`}get configs(){return xr.CONFIGS}createExampleGrid(){return this.number<1||this.number>=xr.EXAMPLE_GRID.length?B.create(["bbbbb","bbwbb","bbbbb","bbbbb"]).addSymbol(new Re(2,1,this.number+1)):xr.EXAMPLE_GRID[this.number-1]}get searchVariants(){return xr.SEARCH_VARIANTS}validateGrid(r){return{state:J.Incomplete}}onSymbolValidation(r,e,i){if(e instanceof ma){const o=e.countTiles(r);return o.completed>e.number+this.number||o.possible<e.number-this.number||o.completed>e.number-this.number&&o.possible<e.number+this.number?J.Error:(o.completed===e.number+this.number||o.completed===e.number-this.number)&&o.completed===o.possible?J.Satisfied:J.Incomplete}else return}get isSingleton(){return!0}copyWith({number:r}){return new xr(r??this.number)}withNumber(r){return this.copyWith({number:r})}}Object.defineProperty(xr,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:1,min:1,field:"number",description:"Number",configurable:!0}])});Object.defineProperty(xr,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([B.create(["bbbbb","bwbwb","bbwwb","bbbbb"]).withSymbols([new Re(1,1,2),new Re(3,2,2)]),B.create(["bbbbb","bwbwb","bbbwb","bwwwb"]).withSymbols([new Re(1,1,3),new Re(3,3,3)]),B.create(["bbbbw","bwbbw","bbbbw","bwwww"]).withSymbols([new Re(1,1,4),new Re(4,3,4)]),B.create(["bbbbw","bwbbw","bbbww","wwwww"]).withSymbols([new Re(1,1,5),new Re(4,3,5)]),B.create(["bbbww","bwbww","bbbww","wwwww"]).withSymbols([new Re(1,1,6),new Re(4,3,6)]),B.create(["wbbww","bbwww","bbwww","wwwww"]).withSymbols([new Re(0,0,7),new Re(4,3,7)]),B.create(["wbbww","bwwww","bwwww","wwwww"]).withSymbols([new Re(0,0,8),new Re(4,3,8)]),B.create(["wbwww","bwwww","wwwww","wwwww"]).withSymbols([new Re(0,0,9),new Re(4,3,9)])])});Object.defineProperty(xr,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new xr(1).searchVariant()]});const gb=new xr(1);class Ui extends Dt{constructor(){super()}get id(){return"perfection"}get explanation(){return"*Quest for Perfection*: cell colors are final"}get configs(){return null}createExampleGrid(){return Ui.EXAMPLE_GRID}get searchVariants(){return Ui.SEARCH_VARIANTS}get necessaryForCompletion(){return!1}get isSingleton(){return!0}validateGrid(r){return r.getTileCount(!0,void 0,M.Gray)>0?{state:J.Incomplete}:{state:J.Satisfied}}onFinalValidation(r,e,i){if(i.final===J.Error||e===null)return i;const o=[];if(r.tiles.forEach((l,f)=>l.forEach((y,_)=>{y.exists&&y.color!==M.Gray&&y.color!==e.getTile(_,f).color&&o.push({x:_,y:f})})),o.length>0){const l=r.rules.indexOf(this);return{final:J.Error,rules:i.rules.map((f,y)=>y===l?{state:J.Error,positions:o}:f),symbols:i.symbols}}return i}fixTiles(r){return r.getTileCount(!0,!1,M.Light)>0||r.getTileCount(!0,!1,M.Dark)>0?r.withTiles(e=>e.map(i=>i.map(o=>o.exists&&o.color!==M.Gray?o.withFixed(!0):o))):r}onSetGrid(r,e,i){return i?!r.solutionMatches(i)&&!e.solutionMatches(i)?this.fixTiles(r):this.fixTiles(e):this.fixTiles(e)}copyWith(r){return new Ui}}Object.defineProperty(Ui,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["w"]).addSymbol(new Br("",B.create(["w"]),0,0,"MdStars")))});Object.defineProperty(Ui,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[]});const yb=new Ui;class dt extends Dt{constructor(r,e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.color=r,this.size=e}get id(){return"region_area"}get explanation(){return`All ${this.color} regions have area ${this.size}`}get configs(){return dt.CONFIGS}createExampleGrid(){if(this.size<dt.EXAMPLE_GRID_DARK.length)switch(this.color){case M.Dark:return dt.EXAMPLE_GRID_DARK[this.size];case M.Light:return dt.EXAMPLE_GRID_LIGHT[this.size];case M.Gray:return dt.EXAMPLE_GRID_GRAY[this.size]}else{let r=this.size;const e=Qe(5,4,(i,o)=>(r--,new ur(!0,!1,r>=0?this.color:this.color===M.Gray?i%2!==o%2?M.Dark:M.Light:this.color===M.Light?M.Dark:M.Light)));return new B(5,4,e)}}get searchVariants(){return dt.SEARCH_VARIANTS}validateGrid(r){const e=Qe(r.width,r.height,(o,l)=>!(r.getTile(o,l).exists&&r.getTile(o,l).color===this.color));let i=!0;for(;;){const o=r.find((y,_,w)=>!e[w][_]);if(!o)break;const l=[],f=[];if(r.iterateArea({x:o.x,y:o.y},y=>y.color===this.color,(y,_,w)=>{l.push({x:_,y:w}),e[w][_]=!0}),this.color===M.Gray?f.push(...l):r.iterateArea({x:o.x,y:o.y},y=>y.color===M.Gray||y.color===this.color,(y,_,w)=>{f.push({x:_,y:w})}),l.length>this.size)return{state:J.Error,positions:l};if(f.length<this.size)return{state:J.Error,positions:f};(l.length!==this.size||l.length!==f.length)&&(i=!1)}return i?{state:J.Satisfied}:{state:J.Incomplete}}copyWith({color:r,size:e}){return new dt(r??this.color,e??this.size)}withColor(r){return this.copyWith({color:r})}withSize(r){return this.copyWith({size:r})}}Object.defineProperty(dt,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Color,default:M.Dark,allowGray:!1,field:"color",description:"Color",configurable:!0},{type:j.Number,default:2,min:0,field:"size",description:"Region Size",configurable:!0}])});Object.defineProperty(dt,"EXAMPLE_GRID_DARK",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([B.create(["wwwww","wwwww","wwwww","wwwww"]),B.create(["bwwbw","wbwwb","bwbww","wbwwb"]),B.create(["bbwbb","wwbww","wwbww","wwwbb"]),B.create(["bbwww","bwbwb","wbbwb","wwwwb"]),B.create(["bwbbb","bbwwb","bwbbw","wwbbw"]),B.create(["bbbww","bbwbw","wwbbb","wwwbw"]),B.create(["bbbww","bbbwb","wwwbb","wwbbb"]),B.create(["bbbbb","bbwww","wwwbb","bbbbb"]),B.create(["bbbbw","bbbww","bwwww","wwwww"]),B.create(["wwwww","bbbbb","bbwbb","wwwww"]),B.create(["bbbbb","bbbww","bbwww","wwwww"])])});Object.defineProperty(dt,"EXAMPLE_GRID_LIGHT",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(dt.EXAMPLE_GRID_DARK.map(a=>new B(a.width,a.height,a.tiles.map(r=>r.map(e=>e.withColor(e.color===M.Dark?M.Light:M.Dark))))))});Object.defineProperty(dt,"EXAMPLE_GRID_GRAY",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(dt.EXAMPLE_GRID_DARK.map(a=>new B(a.width,a.height,a.tiles.map((r,e)=>r.map((i,o)=>i.withColor(i.color===M.Dark?M.Gray:o%2!==e%2?M.Dark:M.Light))))))});Object.defineProperty(dt,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new dt(M.Dark,2).searchVariant(),new dt(M.Light,2).searchVariant()]});const b_=new dt(M.Dark,2);class ih extends Dt{constructor(r){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:r}),this.color=r}getShapeRegions(r){let e=!0;const i=Qe(r.width,r.height,(l,f)=>{const y=r.getTile(l,f);return y.exists&&y.color===M.Gray&&(e=!1),!(y.exists&&y.color===this.color)}),o=[];for(;;){const l=r.find((u,P,Z)=>!i[Z][P]);if(!l)break;const f=[];if(r.iterateArea(l,u=>u.color===this.color,(u,P,Z)=>{i[Z][P]=!0,f.push({x:P,y:Z})}),r.iterateArea(l,u=>u.color===this.color||u.color===M.Gray,u=>{if(u.color===M.Gray)return!0}))continue;const _=lb(ob(f,this.color)),w=o.find(u=>Ym(u.shape,_));w?w.count++:o.push({positions:f,shape:_,count:1})}return{regions:o,complete:e}}withColor(r){return this.copyWith({color:r})}}class Yt extends ih{constructor(r){super(r)}get id(){return"same_shape"}get explanation(){return`All ${this.color} areas have the same shape and size`}get configs(){return Yt.CONFIGS}createExampleGrid(){return this.color===M.Light?Yt.EXAMPLE_GRID_LIGHT:Yt.EXAMPLE_GRID_DARK}get searchVariants(){return Yt.SEARCH_VARIANTS}validateGrid(r){const{regions:e,complete:i}=this.getShapeRegions(r);return e.length>1?{state:J.Error,positions:m_(e,o=>o.count).positions}:e.length<=1?{state:i?J.Satisfied:J.Incomplete}:{state:J.Incomplete}}copyWith({color:r}){return new Yt(r??this.color)}}Object.defineProperty(Yt,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Color,default:M.Light,allowGray:!1,field:"color",description:"Color",configurable:!0}])});Object.defineProperty(Yt,"EXAMPLE_GRID_LIGHT",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wwbww","wbwbw","wbwbw","bwwbb"]))});Object.defineProperty(Yt,"EXAMPLE_GRID_DARK",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["bbwbb","bwbwb","bwbwb","wbbww"]))});Object.defineProperty(Yt,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new Yt(M.Light).searchVariant(),new Yt(M.Dark).searchVariant()]});const sh=new Yt(M.Dark);class Et extends da{constructor(r,e,i){super(r,e),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"letter",{enumerable:!0,configurable:!0,writable:!0,value:i}),this.letter=i}get id(){return"letter"}get explanation(){return"*Letters* must be sorted into one type per area"}get configs(){return Et.CONFIGS}createExampleGrid(){return Et.EXAMPLE_GRID}validateSymbol(r){const e=Math.floor(this.x),i=Math.floor(this.y);let o=!0;const l=Qe(r.width,r.height,()=>!1),f=Qe(r.width,r.height,()=>!1),y=r.getTile(e,i).color;y!==M.Gray?(r.iterateArea({x:e,y:i},_=>_.color===M.Gray||_.color===y,(_,w,u)=>{l[u][w]=!0,_.color===M.Gray&&(o=!1)}),r.iterateArea({x:e,y:i},_=>_.color===y,(_,w,u)=>{f[u][w]=!0})):o=!1;for(const _ of r.symbols.get(this.id)??[])if(_!==this&&_ instanceof Et){const w=Math.floor(_.x),u=Math.floor(_.y);if(_.letter===this.letter){const P=r.getTile(w,u).color;if(y!==M.Gray&&!l[u][w]||y!==M.Gray&&P!==M.Gray&&P!==y)return J.Error}else if(y!==M.Gray&&f[u][w])return J.Error}return o?J.Satisfied:J.Incomplete}copyWith({x:r,y:e,letter:i}){return new Et(r??this.x,e??this.y,i??this.letter)}withLetter(r){return this.copyWith({letter:r})}}Object.defineProperty(Et,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.String,default:"A",field:"letter",description:"Letter",configurable:!0}])});Object.defineProperty(Et,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["bbbww","wwbbw","wwbbb","bwwww"]).addSymbol(new Et(0,0,"B")).addSymbol(new Et(3,0,"A")).addSymbol(new Et(4,1,"A")).addSymbol(new Et(3,2,"B")).addSymbol(new Et(1,1,"C")).addSymbol(new Et(0,2,"C")).addSymbol(new Et(4,3,"C")))});const v_=new Et(0,0,"A");class ot extends Dt{constructor(r,e,i=lt.Equal){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"count",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"comparison",{enumerable:!0,configurable:!0,writable:!0,value:i}),this.color=r,this.count=e,this.comparison=i}get id(){return"symbols_per_region"}get explanation(){switch(this.comparison){case lt.AtLeast:return`At least ${this.count} symbol${this.count===1?"":"s"} per ${this.color} area`;case lt.AtMost:return`At most ${this.count} symbol${this.count===1?"":"s"} per ${this.color} area`;default:return`Exactly ${this.count} symbol${this.count===1?"":"s"} per ${this.color} area`}}get configs(){return ot.CONFIGS}createExampleGrid(){if(this.count>ot.SYMBOL_POSITIONS.length||this.comparison!==lt.Equal){let e="";switch(this.comparison){case lt.AtLeast:e=`${this.count}X`;break;case lt.AtMost:e=`${this.count}X`;break;default:e=`${this.count}X`;break}const i=new Et(1.5,1.5,e);return ot.EXAMPLE_GRIDS[this.color].addSymbol(i).withConnections(lr.create([".....",".aa..",".aa..","....."]))}const r=[];for(let e=0;e<this.count;e++){const{x:i,y:o}=ot.SYMBOL_POSITIONS[e];r.push(new Et(i,o,"X"))}return ot.EXAMPLE_GRIDS[this.color].withSymbols(r)}get searchVariants(){return ot.SEARCH_VARIANTS}validateGrid(r){const e=Qe(r.width,r.height,(o,l)=>!(r.getTile(o,l).exists&&r.getTile(o,l).color===this.color));let i=!0;for(;;){const o=r.find((w,u,P)=>!e[P][u]);if(!o)break;const l=[],f=[];let y=0;if(r.iterateArea({x:o.x,y:o.y},w=>w.color===this.color,(w,u,P)=>{l.push({x:u,y:P}),e[P][u]=!0,y+=ot.countAllSymbolsOfPosition(r,u,P)}),this.comparison!==lt.AtLeast&&y>this.count)return{state:J.Error,positions:l};let _=0;if(this.color===M.Gray?(f.push(...l),_=y):r.iterateArea({x:o.x,y:o.y},w=>w.color===M.Gray||w.color===this.color,(w,u,P)=>{f.push({x:u,y:P}),_+=ot.countAllSymbolsOfPosition(r,u,P)}),this.comparison!==lt.AtMost&&_<this.count)return{state:J.Error,positions:f};f.length!==l.length&&(i=!1)}return i?{state:J.Satisfied}:{state:J.Incomplete}}copyWith({count:r,color:e,comparison:i}){return new ot(e??this.color,r??this.count,i??this.comparison)}withColor(r){return this.copyWith({color:r})}withCount(r){return this.copyWith({count:r})}withComparison(r){return this.copyWith({comparison:r})}static countAllSymbolsOfPosition(r,e,i){let o=0;for(const l of r.symbols.values())l.some(f=>Math.floor(f.x)===e&&Math.floor(f.y)===i&&f.necessaryForCompletion)&&o++;return o}}Object.defineProperty(ot,"SYMBOL_POSITIONS",{enumerable:!0,configurable:!0,writable:!0,value:[{x:1,y:1},{x:2,y:2},{x:2,y:1},{x:3,y:1},{x:1,y:2}]});Object.defineProperty(ot,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:1,field:"count",description:"Count",configurable:!0},{type:j.Color,default:M.Light,field:"color",description:"Color",configurable:!0,allowGray:!0},{type:j.Comparison,default:lt.Equal,field:"comparison",description:"Comparison",configurable:!0}])});Object.defineProperty(ot,"EXAMPLE_GRIDS",{enumerable:!0,configurable:!0,writable:!0,value:{[M.Dark]:B.create(["wwwww","wbbbw","wbbww","wwwww"]),[M.Light]:B.create(["bbbbb","bwwwb","bwwbb","bbbbb"]),[M.Gray]:B.create(["bwbwb","wnnnw","bnnwb","wbwbw"])}});Object.defineProperty(ot,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new ot(M.Light,1).searchVariant(),new ot(M.Dark,1).searchVariant(),new ot(M.Light,1,lt.AtLeast).searchVariant(),new ot(M.Dark,1,lt.AtLeast).searchVariant(),new ot(M.Light,1,lt.AtMost).searchVariant(),new ot(M.Dark,1,lt.AtMost).searchVariant()]});const oh=new ot(M.Dark,1);class Tn extends Dt{constructor(){super()}get id(){return Jn.Underclued}get explanation(){return"*Underclued Grid:* Mark only what is definitely true"}createExampleGrid(){return Tn.EXAMPLE_GRID}get searchVariants(){return Tn.SEARCH_VARIANTS}validateGrid(r){return{state:J.Incomplete}}copyWith(r){return new Tn}get validateWithSolution(){return!0}get isSingleton(){return!0}}Object.defineProperty(Tn,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["nbnnn","bwbnn","nbnnn","wwwnn"]).addSymbol(new Re(1,1,1)).addSymbol(new Re(0,3,4)).addSymbol(new $r("",B.create([]),0,2,"?")).addSymbol(new $r("",B.create([]),2,2,"?")).addSymbol(new $r("",B.create([]),3,3,"?")))});Object.defineProperty(Tn,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new Tn().searchVariant()]});const w_=new Tn;class Kt extends ih{constructor(r){super(r)}get id(){return"unique_shape"}get explanation(){return`No two ${this.color} areas have the same shape and size`}get configs(){return Kt.CONFIGS}createExampleGrid(){return this.color===M.Light?Kt.EXAMPLE_GRID_LIGHT:Kt.EXAMPLE_GRID_DARK}get searchVariants(){return Kt.SEARCH_VARIANTS}validateGrid(r){const{regions:e,complete:i}=this.getShapeRegions(r),o=e.find(l=>l.count>1);return o?{state:J.Error,positions:o.positions}:{state:i?J.Satisfied:J.Incomplete}}copyWith({color:r}){return new Kt(r??this.color)}}Object.defineProperty(Kt,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Color,default:M.Light,allowGray:!1,field:"color",description:"Color",configurable:!0}])});Object.defineProperty(Kt,"EXAMPLE_GRID_LIGHT",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["bwbww","wwbww","wbwbb","bwwbw"]))});Object.defineProperty(Kt,"EXAMPLE_GRID_DARK",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wbwbb","bbwbb","bwbww","wbbwb"]))});Object.defineProperty(Kt,"SEARCH_VARIANTS",{enumerable:!0,configurable:!0,writable:!0,value:[new Kt(M.Light).searchVariant(),new Kt(M.Dark).searchVariant()]});const ah=new Kt(M.Dark),bb=Object.freeze(Object.defineProperty({__proto__:null,BanPatternRule:eh,CellCountPerZoneRule:ub,CellCountRule:y_,CompletePatternRule:cb,ConnectAllRule:th,CustomRule:_b,ForesightRule:db,MusicGridRule:mb,MysteryRule:pb,OffByXRule:gb,PerfectionRule:yb,RegionAreaRule:b_,SameShapeRule:sh,SymbolsPerRegionRule:oh,UndercluedRule:w_,UniqueShapeRule:ah},Symbol.toStringTag,{value:"Module"})),x_=new Map;function vb(a){x_.set(a.id,a)}Object.values(bb).forEach(a=>{a&&vb(a)});class Dr extends ma{constructor(r,e,i,o){super(r,e,i),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:o}),this.orientation=o}get id(){return"dart"}get placementStep(){return 1}get explanation(){return"*Darts* count opposite color cells in that direction"}get configs(){return Dr.CONFIGS}createExampleGrid(){return Dr.EXAMPLE_GRID}countTiles(r){if(Math.floor(this.x)!==this.x||Math.floor(this.y)!==this.y)return{completed:0,possible:Number.MAX_SAFE_INTEGER};const e=r.getTile(this.x,this.y).color;if(e===M.Gray)return{completed:0,possible:Number.MAX_SAFE_INTEGER};let i=0,o=0;return r.iterateDirectionAll({x:this.x,y:this.y},this.orientation,()=>!0,l=>{l.exists&&(l.color===M.Gray?i++:l.color!==e&&o++)}),{completed:o,possible:o+i}}copyWith({x:r,y:e,number:i,orientation:o}){return new Dr(r??this.x,e??this.y,i??this.number,o??this.orientation)}withNumber(r){return this.copyWith({number:r})}}Object.defineProperty(Dr,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.Number,default:1,field:"number",description:"Number",configurable:!0},{type:j.Orientation,default:te.Right,field:"orientation",description:"Orientation",configurable:!0}])});Object.defineProperty(Dr,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wwbbw","wwwww","wbwbb","wwwww"]).addSymbol(new Dr(1,0,1,te.Down)).addSymbol(new Dr(4,0,2,te.Left)).addSymbol(new Dr(3,1,1,te.Down)).addSymbol(new Dr(0,2,3,te.Right)))});const E_=new Dr(0,0,1,te.Right);function nu(a,r){return!r.isPositionValid(a.x,a.y)||!r.getTile(a.x,a.y).exists?null:r.getTile(a.x,a.y).color}function en(a,r,e){return{pos1:a,color1:nu(a,e),pos2:r,color2:nu(r,e)}}class zr extends da{constructor(r,e){super(r,e),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"linkedDirections",{enumerable:!0,configurable:!0,writable:!0,value:{[D.Left]:D.Left,[D.Up]:D.Up,[D.Right]:D.Right,[D.Down]:D.Down}})}changeDirections(r){return this.linkedDirections=r,this}get id(){return"linkedDirection"}get explanation(){return"Direction pointed by this symbol should *behave* the same."}get configs(){return zr.CONFIGS}createExampleGrid(){return zr.EXAMPLE_GRID}deltaCoordinate(r,e){return{x:r.x+zr.directionDeltas[e].dx,y:r.y+zr.directionDeltas[e].dy}}validateSymbol(r){let e=this.getInitialCheckedCouples(this.x,this.y,r);if(e.some(({color1:l,color2:f})=>l===null&&f!==null||l!==null&&f===null))return J.Error;if(e.some(({color1:l,color2:f})=>l===M.Gray||f===M.Gray))return J.Incomplete;e=e.filter(({color1:l,color2:f})=>l!==null&&f!==null);const i=e.slice();let o=!1;for(;i.length>0;){const l=i.shift(),{pos1:f,pos2:y,color1:_,color2:w}=l,u=nu(f,r),P=nu(y,r);if(u===M.Gray||P===M.Gray)o=!0;else if(u===null||P===null){if(u===null&&P===w||P===null&&u===_)return J.Error}else if((u!==_||P!==w)&&(u===_||P===w))return J.Error;if(u===_){const Z=Object.keys(this.linkedDirections);for(const $ of Z){const re={pos1:this.deltaCoordinate(f,$),pos2:this.deltaCoordinate(y,this.linkedDirections[$]),color1:_,color2:w};e.some(({pos1:p,pos2:h})=>p.x===re.pos1.x&&p.y===re.pos1.y&&h.x===re.pos2.x&&h.y===re.pos2.y)||f.x===re.pos2.x&&f.y===re.pos2.y&&y.x===re.pos1.x&&y.y===re.pos1.y||(e.push(re),i.push(re))}}}return o?J.Incomplete:J.Satisfied}copyWith({x:r,y:e}){return new zr(r??this.x,e??this.y)}getInitialCheckedCouples(r,e,i){return r%1===0&&e%1===0?[en({x:r,y:e},{x:r,y:e},i)]:r%1===0?[en({x:r,y:e-.5},{x:r,y:e+(this.linkedDirections[D.Up]===D.Up&&this.linkedDirections[D.Down]===D.Down?-.5:.5)},i)]:e%1===0?[en({x:r-.5,y:e},{x:r+(this.linkedDirections[D.Left]===D.Left&&this.linkedDirections[D.Right]===D.Right?-.5:.5),y:e},i)]:this.linkedDirections[D.Left]===D.Left&&this.linkedDirections[D.Right]===D.Right?[en({x:r-.5,y:e-.5},{x:r-.5,y:e+.5},i),en({x:r+.5,y:e-.5},{x:r+.5,y:e+.5},i)]:this.linkedDirections[D.Up]===D.Up&&this.linkedDirections[D.Down]===D.Down?[en({x:r-.5,y:e-.5},{x:r+.5,y:e-.5},i),en({x:r-.5,y:e+.5},{x:r+.5,y:e+.5},i)]:this.linkedDirections[D.Up]===D.Left&&this.linkedDirections[D.Left]===D.Up||this.linkedDirections[D.Up]===D.Right&&this.linkedDirections[D.Right]===D.Up?[en({x:r-.5,y:e-.5},{x:r-.5,y:e-.5},i)]:[en({x:r-.5,y:e-.5},{x:r+.5,y:e+.5},i),en({x:r-.5,y:e+.5},{x:r+.5,y:e-.5},i)]}}Object.defineProperty(zr,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1}])});Object.defineProperty(zr,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wwbbw","wwwww","wwwww","wwwww"]))});Object.defineProperty(zr,"directionDeltas",{enumerable:!0,configurable:!0,writable:!0,value:{[D.Up]:{dx:0,dy:-1},[D.Down]:{dx:0,dy:1},[D.Left]:{dx:-1,dy:0},[D.Right]:{dx:1,dy:0}}});class Fs extends zr{constructor(r,e){super(r,e),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),super.changeDirections(Fs.linkedDirections)}get id(){return"galaxy"}get explanation(){return"*Galaxies* are centers of rotational symmetry"}get configs(){return Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1}])}createExampleGrid(){return Object.freeze(B.create(["wbbbb","wbwww","bbwbb","wwwbb"]).addSymbol(new Fs(2,2)))}validateSymbol(r){return super.validateSymbol(r)}copyWith({x:r,y:e}){return new Fs(r??this.x,e??this.y)}}Object.defineProperty(Fs,"linkedDirections",{enumerable:!0,configurable:!0,writable:!0,value:{[D.Left]:D.Right,[D.Up]:D.Down,[D.Right]:D.Left,[D.Down]:D.Up}});const lh=new Fs(0,0);class Vi extends da{constructor(r,e,i,o=!1){super(r,e),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"revealLocation",{enumerable:!0,configurable:!0,writable:!0,value:o}),this.color=i,this.revealLocation=o}get id(){return"hidden"}get explanation(){return"*Hidden Symbols*: color cells correctly to reveal more clues"}get configs(){return Vi.CONFIGS}createExampleGrid(){return Vi.EXAMPLE_GRID}get necessaryForCompletion(){return!1}get visibleWhenSolving(){return this.revealLocation}get sortOrder(){return 0}validateSymbol(r){const e=Math.floor(this.x),i=Math.floor(this.y);return r.getTile(e,i).color===this.color?J.Satisfied:J.Incomplete}onSymbolDisplay(r,e,i){if(i)return!0;const o=Math.floor(this.x),l=Math.floor(this.y),f=Math.floor(e.x),y=Math.floor(e.y);if(o!==f||l!==y)return!0;const _=r.getTile(o,l).color===this.color;return e.id===this.id?!_:_}copyWith({x:r,y:e,color:i,revealLocation:o}){return new Vi(r??this.x,e??this.y,i??this.color,o??this.revealLocation)}withColor(r){return this.copyWith({color:r})}withRevealLocation(r){return this.copyWith({revealLocation:r})}}Object.defineProperty(Vi,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.Color,default:M.Light,field:"color",allowGray:!0,description:"Show on color",configurable:!0},{type:j.Boolean,default:!1,field:"revealLocation",description:"Reveal symbol location",configurable:!0}])});Object.defineProperty(Vi,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["w"]).addSymbol(new Br("",B.create(["."]),0,0,"MdHideSource")))});const wb=new Vi(0,0,M.Light);class Us extends zr{constructor(r,e,i){super(r,e),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:i}),super.changeDirections(Us.linkedDirectionsFromOrientation[i])}get id(){return"lotus"}get explanation(){return"Areas containing this symbol must be *symmetrical*"}get configs(){return Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.Orientation,default:te.Up,field:"orientation",description:"Orientation",configurable:!0}])}createExampleGrid(){return Object.freeze(B.create(["wwbww","bwbwb","bwwwb","bwwwb"]).addSymbol(new Us(2,2,te.Up)))}validateSymbol(r){return(this.orientation===te.DownLeft||this.orientation===te.DownRight||this.orientation===te.UpLeft||this.orientation===te.UpRight)&&(this.x%1===0||this.y%1===0)&&(this.x%1!==0||this.y%1!==0)?!r.getTile(Math.floor(this.x),Math.floor(this.y)).exists&&!r.getTile(Math.ceil(this.x),Math.ceil(this.y)).exists&&!r.getTile(Math.floor(this.x),Math.ceil(this.y)).exists&&!r.getTile(Math.ceil(this.x),Math.floor(this.y)).exists?J.Satisfied:J.Error:super.validateSymbol(r)}copyWith({x:r,y:e,orientation:i}){return new Us(r??this.x,e??this.y,i??this.orientation)}}Object.defineProperty(Us,"linkedDirectionsFromOrientation",{enumerable:!0,configurable:!0,writable:!0,value:{[te.Up]:{[D.Left]:D.Right,[D.Up]:D.Up,[D.Right]:D.Left,[D.Down]:D.Down},[te.UpRight]:{[D.Left]:D.Down,[D.Up]:D.Right,[D.Right]:D.Up,[D.Down]:D.Left},[te.Right]:{[D.Left]:D.Left,[D.Up]:D.Down,[D.Right]:D.Right,[D.Down]:D.Up},[te.DownRight]:{[D.Left]:D.Up,[D.Up]:D.Left,[D.Right]:D.Down,[D.Down]:D.Right},[te.Down]:{[D.Left]:D.Right,[D.Up]:D.Up,[D.Right]:D.Left,[D.Down]:D.Down},[te.DownLeft]:{[D.Left]:D.Down,[D.Up]:D.Right,[D.Right]:D.Up,[D.Down]:D.Left},[te.Left]:{[D.Left]:D.Left,[D.Up]:D.Down,[D.Right]:D.Right,[D.Down]:D.Up},[te.UpLeft]:{[D.Left]:D.Up,[D.Up]:D.Left,[D.Right]:D.Down,[D.Down]:D.Right}}});const uh=new Us(0,0,te.Up);class jr extends ma{constructor(r,e,i){super(r,e,i)}get id(){return"minesweeper"}get placementStep(){return 1}get explanation(){return"*Minesweeper numbers* count opposite cells in 8 adjacent spaces"}get configs(){return jr.CONFIGS}createExampleGrid(){return jr.EXAMPLE_GRID}countTiles(r){if(Math.floor(this.x)!==this.x||Math.floor(this.y)!==this.y)return{completed:0,possible:Number.MAX_SAFE_INTEGER};const e=r.getTile(this.x,this.y).color;if(e===M.Gray)return{completed:0,possible:Number.MAX_SAFE_INTEGER};let i=0,o=0;for(let l=this.y-1;l<=this.y+1;l++)for(let f=this.x-1;f<=this.x+1;f++){if(f===this.x&&l===this.y)continue;const y=r.getTile(f,l);y.exists&&(y.color===M.Gray?i++:y.color!==e&&o++)}return{completed:o,possible:o+i}}copyWith({x:r,y:e,number:i}){return new jr(r??this.x,e??this.y,i??this.number)}withNumber(r){return this.copyWith({number:r})}}Object.defineProperty(jr,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.Number,default:1,field:"number",description:"Number",configurable:!0}])});Object.defineProperty(jr,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wwbww","wwbwb","wwbwb","bwwww"]).addSymbol(new jr(1,1,3)).addSymbol(new jr(3,1,5)).addSymbol(new jr(4,1,4)).addSymbol(new jr(2,3,1)))});const ch=new jr(0,0,1);class cr extends rh{constructor(r,e,i,o){super(r,e),Object.defineProperty(this,"diagonals",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"directions",{enumerable:!0,configurable:!0,writable:!0,value:o}),this.directions=o,this.diagonals=o[te.DownLeft]||o[te.DownRight]||o[te.UpLeft]||o[te.UpRight]?!0:i}get id(){return"myopia"}get placementStep(){return 1}get explanation(){return this.diagonals?"*Framed myopia arrows* point to *all* the closest opposite cells in 8 directions":"*Myopia arrows* point to *all* the closest cells of the opposite color"}get configs(){return cr.CONFIGS}createExampleGrid(){return this.diagonals?cr.EXAMPLE_DIAGONAL_GRID:cr.EXAMPLE_GRID}validateSymbol(r){const e=r.getTile(this.x,this.y);if(!e.exists||e.color===M.Gray)return J.Incomplete;const i=this.diagonals?$s:[te.Up,te.Down,te.Left,te.Right],o={up:{min:0,max:0,complete:!0},down:{min:0,max:0,complete:!0},left:{min:0,max:0,complete:!0},right:{min:0,max:0,complete:!0},"up-left":{min:0,max:0,complete:!0},"up-right":{min:0,max:0,complete:!0},"down-left":{min:0,max:0,complete:!0},"down-right":{min:0,max:0,complete:!0}},l={x:this.x,y:this.y};i.forEach(_=>{r.iterateDirectionAll(l,_,u=>!u.exists||u.color===e.color,()=>{o[_].min++});let w=!1;r.iterateDirectionAll(l,_,u=>!u.exists||u.color===e.color||u.color===M.Gray?!0:(w=!0,!1),u=>{o[_].max++,u.exists&&u.color===M.Gray&&(o[_].complete=!1)}),w||(o[_].max=Number.MAX_SAFE_INTEGER)});const f=i.filter(_=>this.directions[_]),y=i.filter(_=>!this.directions[_]);for(let _=0;_<f.length;_++){const w=f[_];for(let u=_+1;u<f.length;u++){const P=f[u];if(o[w].min>o[P].max||o[P].min>o[w].max)return J.Error}}return Math.min(...y.map(_=>o[_].max))<=Math.max(...f.map(_=>o[_].min))||f.length===0&&y.some(_=>o[_].max!==Number.MAX_SAFE_INTEGER)||f.some(_=>o[_].complete&&o[_].max===Number.MAX_SAFE_INTEGER)?J.Error:f.length>0&&y.length>0&&f.every(_=>o[_].complete)&&Math.max(...f.map(_=>o[_].max))<Math.min(...y.map(_=>o[_].min))||i.every(_=>o[_].complete)?J.Satisfied:J.Incomplete}copyWith({x:r,y:e,diagonals:i,directions:o}){return new cr(r??this.x,e??this.y,i??this.diagonals,o??this.directions)}withDirections(r){return this.copyWith({directions:r})}withDiagonals(r){return this.copyWith({diagonals:r})}}Object.defineProperty(cr,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.Boolean,default:!1,field:"diagonals",description:"Include diagonal directions",configurable:!0},{type:j.OrientationToggle,default:$i(te.Up,te.Right),field:"directions",description:"Directions",configurable:!0}])});Object.defineProperty(cr,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wbwww","bwwwb","wwwww","wbwww"]).withSymbols([new cr(1,1,!1,$i(te.Up,te.Left)),new cr(4,3,!1,$i(te.Up))]))});Object.defineProperty(cr,"EXAMPLE_DIAGONAL_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["wbwww","bwwwb","wwwww","wbwww"]).withSymbols([new cr(1,2,!0,$i(te.UpLeft,te.Down)),new cr(3,2,!0,$i(te.UpRight))]))});const S_=new cr(0,0,!1,$i(te.Up,te.Right));class ri extends ma{constructor(r,e,i){super(r,e,i)}get id(){return"viewpoint"}get placementStep(){return 1}get explanation(){return"*Viewpoint Numbers* count visible cells in the four directions"}get configs(){return ri.CONFIGS}createExampleGrid(){return ri.EXAMPLE_GRID}countForColor(r,e,i){let o=1,l=1;for(const f of Vs){let y=!0;r.iterateDirection(qi(i,f),f,_=>_.color===e||_.color===M.Gray,_=>{l++,_.color===M.Gray?y=!1:y&&o++})}return{completed:o,possible:l}}countTiles(r){if(Math.floor(this.x)!==this.x||Math.floor(this.y)!==this.y)return{completed:0,possible:Number.MAX_SAFE_INTEGER};const e={x:this.x,y:this.y},i=r.getTile(this.x,this.y).color;if(i===M.Gray){const o=this.countForColor(r,M.Dark,e),l=this.countForColor(r,M.Light,e);return{completed:Math.min(o.completed,l.completed),possible:Math.max(o.possible,l.possible)}}return this.countForColor(r,i,e)}copyWith({x:r,y:e,number:i}){return new ri(r??this.x,e??this.y,i??this.number)}withNumber(r){return this.copyWith({number:r})}}Object.defineProperty(ri,"CONFIGS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze([{type:j.Number,default:0,field:"x",description:"X",configurable:!1},{type:j.Number,default:0,field:"y",description:"Y",configurable:!1},{type:j.Number,default:1,field:"number",description:"Number",configurable:!0}])});Object.defineProperty(ri,"EXAMPLE_GRID",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze(B.create(["bbbbb","wwwwb","bwwbb","bbwww"]).addSymbol(new ri(1,1,5)))});const O_=new ri(0,0,1),xb=Object.freeze(Object.defineProperty({__proto__:null,AreaNumberSymbol:g_,CustomIconSymbol:fb,CustomTextSymbol:hb,DartSymbol:E_,GalaxySymbol:lh,HiddenSymbol:wb,LetterSymbol:v_,LotusSymbol:uh,MinesweeperSymbol:ch,MyopiaSymbol:S_,ViewpointSymbol:O_},Symbol.toStringTag,{value:"Module"})),P_=new Map;function Eb(a){P_.set(a.id,a)}Object.values(xb).forEach(a=>{a&&Eb(a)});class Sb{}const Ob=[{x:0,y:-1},{x:-1,y:0},{x:1,y:0},{x:0,y:1}],Zl={[te.Up]:"u",[te.UpRight]:"x",[te.Right]:"r",[te.DownRight]:"z",[te.Down]:"d",[te.DownLeft]:"y",[te.Left]:"l",[te.UpLeft]:"w"};class Pb extends Sb{constructor(){super(...arguments),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:0})}stringifyTile(r){if(!r.exists)return".";const e=r.color===M.Gray?"n":r.color===M.Dark?"b":"w";return r.fixed?e.toUpperCase():e}parseTile(r){return ur.create(r)}stringifyControlLine(r){const e=[];return e.push(`c${r.column}`),r.bpm!==null&&e.push(`b${r.bpm}`),r.pedal!==null&&e.push(`p${r.pedal?"1":"0"}`),r.checkpoint&&e.push("s"),e.push(`r${r.rows.map(i=>`v${i.velocity??""}n${i.note??""}`).join(",")}`),e.join("|")}parseControlLine(r){let e=null,i=null,o=null,l=!1;const f=[],y=r.split("|");for(const _ of y){const w=_.charAt(0),u=_.slice(1);switch(w){case"c":e=u===""?null:Number(u);break;case"b":i=u===""?null:Number(u);break;case"p":o=u==="1"?!0:u==="0"?!1:null;break;case"s":l=!0;break;case"r":f.push(...u.split(",").map(P=>{const Z=P.match(/^v([\d.]*?)n(.*)$/);if(!Z)return new xt(null,null);const[,$,re]=Z;return new xt(re===""?null:re,$===""?null:Number($))}));break}}return new on(e??0,i,o,l,f)}stringifyConfig(r,e){var i;switch(e.type){case j.Boolean:return e.field+"="+(r[e.field]?"1":"0");case j.Number:case j.Color:case j.Comparison:case j.Direction:case j.Orientation:return e.field+"="+String(r[e.field]);case j.NullableBoolean:return e.field+"="+(r[e.field]===null?"":r[e.field]?"1":"0");case j.NullableNumber:return e.field+"="+(r[e.field]===null?"":String(r[e.field]));case j.DirectionToggle:return e.field+"="+Vs.filter(o=>r[e.field][o]).map(o=>Zl[o]).join("");case j.OrientationToggle:return e.field+"="+$s.filter(o=>r[e.field][o]).map(o=>Zl[o]).join("");case j.String:case j.Icon:return e.field+"="+Di(String(r[e.field]));case j.NullableNote:return e.field+"="+Di(r[e.field]===null?"":Di(String(r[e.field])));case j.Tile:case j.Grid:return e.field+"="+Di(this.stringifyGrid(r[e.field]));case j.NullableGrid:return e.field+"="+Di(r[e.field]===null?"":this.stringifyGrid(r[e.field]));case j.ControlLines:return e.field+"="+Di(r[e.field].map(o=>this.stringifyControlLine(o)).join(":"));case j.SolvePath:return e.field+"="+Di(((i=r[e.field])==null?void 0:i.map(o=>`${o.x}_${o.y}`).join("/"))??"")}}parseConfig(r,e){const[i,o]=e.split("="),l=r.find(f=>f.field===i);if(!l)throw new Error(`Unknown config: ${i}`);switch(l.type){case j.Boolean:return[l.field,o==="1"];case j.NullableBoolean:return[l.field,o===""?null:o==="1"];case j.Number:return[l.field,Number(o)];case j.NullableNumber:return[l.field,o===""?null:Number(o)];case j.Color:return[l.field,o];case j.Comparison:return[l.field,o];case j.Direction:return[l.field,o];case j.DirectionToggle:{const f=Bg();for(const y of Vs)f[y]=o.includes(Zl[y]);return[l.field,f]}case j.Orientation:return[l.field,o];case j.OrientationToggle:{const f=$i();for(const y of $s)f[y]=o.includes(Zl[y]);return[l.field,f]}case j.String:case j.Icon:return[l.field,Go(o)];case j.Tile:case j.Grid:return[l.field,this.parseGrid(Go(o))];case j.NullableGrid:return[l.field,o===""?null:this.parseGrid(Go(o))];case j.ControlLines:return[l.field,Go(o).split(":").map(f=>this.parseControlLine(f))];case j.NullableNote:return[l.field,o===""?null:Go(o)];case j.SolvePath:return[l.field,o===""?[]:o.split("/").map(f=>{const[y,_]=f.split("_");return{x:Number(y),y:Number(_)}})]}}stringifyInstruction(r){var e;return`${r.id},${((e=r.configs)==null?void 0:e.map(i=>this.stringifyConfig(r,i)).join(","))??""}`}stringifyRule(r){return this.stringifyInstruction(r)}stringifySymbol(r){return this.stringifyInstruction(r)}parseRule(r){const[e,...i]=r.split(","),o=x_.get(e);if(!o)throw new Error(`Unknown rule: ${e}`);const l=o.configs;return l==null?o.copyWith({}):o.copyWith(Object.fromEntries(i.filter(f=>f!=="").map(f=>this.parseConfig(l,f))))}parseSymbol(r){const[e,...i]=r.split(","),o=P_.get(e);if(!o)throw new Error(`Unknown symbol: ${e}`);const l=o.configs;return l==null?o.copyWith({}):o.copyWith(Object.fromEntries(i.map(f=>this.parseConfig(l,f))))}stringifyConnections(r){const e=r.edges.reduce((l,f)=>Math.max(l,f.x1,f.x2),0),i=r.edges.reduce((l,f)=>Math.max(l,f.y1,f.y2),0),o=Qe(e+1,i+1,()=>".");for(let l=0;l<=i;l++)for(let f=0;f<=e;f++){if(o[l][f]!==".")continue;const y=r.getConnectedTiles({x:f,y:l});if(y.length<2)continue;const _=[];for(const{x:u,y:P}of y)for(const{x:Z,y:$}of Ob)u+Z>e||P+$>i||u+Z<0||P+$<0||o[P+$][u+Z]!=="."&&_.push(o[P+$][u+Z]);let w="A";for(;_.includes(w);)w=String.fromCharCode(w.charCodeAt(0)+1);for(const u of y)o[u.y][u.x]=w}return`C${e+1}:${o.map(l=>l.join("")).join("")}`.replace(/\.+$/,"")}parseConnections(r){if(!r.startsWith("C"))throw new Error(`Invalid grid connections
`+r);const[e,i]=r.slice(1).split(":"),o=Number(e),l=Qe(o,Math.ceil(i.length/o),(f,y)=>i[y*o+f]);return lr.create(l.map(f=>f.join("")))}stringifyZones(r){return`Z${r.edges.map(e=>`${e.x1}_${e.y1}_${e.x2-e.x1}_${e.y2-e.y1}`).join(":")}`}parseZones(r){if(!r.startsWith("Z"))throw new Error(`Invalid grid zones
`+r);const e=r.slice(1).split(":");return new Wt(e.map(i=>{const[o,l,f,y]=i.split("_").map(Number);return{x1:o,y1:l,x2:o+f,y2:l+y}}))}stringifyTiles(r){var e;return`T${((e=r[0])==null?void 0:e.length)??0}:${r.map(i=>i.map(o=>this.stringifyTile(o)).join("")).join("")}`}parseTiles(r){if(!r.startsWith("T"))throw new Error(`Invalid grid data
`+r);const[e,i]=r.slice(1).split(":"),o=Number(e);return Qe(o,Math.ceil(i.length/o),(l,f)=>this.parseTile(i.charAt(f*o+l)))}stringifyRules(r){return`R${r.map(e=>this.stringifyRule(e)).join(":")}`}parseRules(r){if(!r.startsWith("R"))throw new Error(`Invalid rules
`+r);return r.slice(1).split(":").filter(e=>e!=="").map(e=>this.parseRule(e))}stringifySymbols(r){return`S${Array.from(r.values()).flat().map(e=>this.stringifySymbol(e)).join(":")}`}parseSymbols(r){if(!r.startsWith("S"))throw new Error(`Invalid symbols
`+r);const e=new Map;return r.slice(1).split(":").filter(i=>i!=="").forEach(i=>{const o=this.parseSymbol(i);e.has(o.id)?e.set(o.id,[...e.get(o.id),o]):e.set(o.id,[o])}),e}stringifyGrid(r){const e=[this.stringifyTiles(r.tiles),this.stringifyConnections(r.connections),this.stringifyZones(r.zones),this.stringifySymbols(r.symbols),this.stringifyRules(r.rules)];return`${r.width}x${r.height}|${e.join("|")}`}parseGrid(r){const e=r.split("|");let i,o,l,f,y,_,w;for(const u of e)if(/^\d+x\d+$/.test(u))[i,o]=u.split("x").map(Number);else if(u.startsWith("T"))l=this.parseTiles(u);else if(u.startsWith("C"))f=this.parseConnections(u);else if(u.startsWith("Z"))y=this.parseZones(u);else if(u.startsWith("S"))_=this.parseSymbols(u);else if(u.startsWith("R"))w=this.parseRules(u);else throw new Error(`Invalid data: ${u}`);return new B(i??(l==null?void 0:l[0].length)??0,o??(l==null?void 0:l.length)??0,l,f,y,_,w)}stringifyPuzzle(r){let e=r.grid;if(r.solution!==null){const i=Qe(r.grid.width,r.grid.height,(o,l)=>{const f=r.grid.getTile(o,l),y=r.solution.getTile(o,l);return f.exists&&!f.fixed&&y.exists&&y.color!==M.Gray?f.copyWith({color:r.solution.tiles[l][o].color}):f});e=r.grid.copyWith({tiles:i})}return JSON.stringify({title:r.title,grid:this.stringifyGrid(e),difficulty:r.difficulty,link:r.link,author:r.author,description:r.description})}parsePuzzle(r){const{grid:e,...i}=JSON.parse(r),o=this.parseGrid(e),l=o.resetTiles();return{...i,grid:l,solution:o.colorEquals(l)?null:o}}}const _h=new Map;function Tb(a){_h.set(a.version,a)}let Sn;Tb(Sn=new Pb);function Dl(a){const r=a.match(/^(\d+)_/),e=r?parseInt(r[1]):0,i=_h.get(e);if(i)return{serializer:i,data:a.slice((r==null?void 0:r[0].length)??0)};throw new Error(`Unknown serializer version for ${a}`)}const ca={stringifyRule(a){return`${Sn.version}_${Sn.stringifyRule(a)}`},parseRule(a){const{serializer:r,data:e}=Dl(a);return r.parseRule(e)},stringifySymbol(a){return`${Sn.version}_${Sn.stringifySymbol(a)}`},parseSymbol(a){const{serializer:r,data:e}=Dl(a);return r.parseSymbol(e)},stringifyGrid(a){return`${Sn.version}_${Sn.stringifyGrid(a)}`},parseGrid(a){const{serializer:r,data:e}=Dl(a);return r.parseGrid(e)},stringifyPuzzle(a){return`${Sn.version}_${Sn.stringifyPuzzle(a)}`},parsePuzzle(a){const{serializer:r,data:e}=Dl(a);return r.parsePuzzle(e)}};class fh{}const Rb="modulepreload",Ab=function(a,r){return new URL(a,r).href},um={},Ib=function(r,e,i){let o=Promise.resolve();if(e&&e.length>0){const f=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),_=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));o=Promise.allSettled(e.map(w=>{if(w=Ab(w,i),w in um)return;um[w]=!0;const u=w.endsWith(".css"),P=u?'[rel="stylesheet"]':"";if(!!i)for(let re=f.length-1;re>=0;re--){const p=f[re];if(p.href===w&&(!u||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${w}"]${P}`))return;const $=document.createElement("link");if($.rel=u?"stylesheet":Rb,u||($.as="script"),$.crossOrigin="",$.href=w,_&&$.setAttribute("nonce",_),document.head.appendChild($),u)return new Promise((re,p)=>{$.addEventListener("load",re),$.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${w}`)))})}))}function l(f){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=f,window.dispatchEvent(y),!y.defaultPrevented)throw f}return o.then(f=>{for(const y of f||[])y.status==="rejected"&&l(y.reason);return r().catch(l)})};function cm(){return!globalThis.CompressionStream||!globalThis.DecompressionStream?(console.log("CompressionStream not supported. Loading polyfill."),Ib(()=>import("./streamPolyfill.js"),[],import.meta.url)):Promise.resolve()}class dh extends fh{async compress(r){await cm();const e=f=>new Promise(y=>{const _=new FileReader;_.onloadend=()=>y(_.result.split(",")[1]),_.readAsDataURL(f)}),i=new TextEncoder().encode(r),o=new CompressionStream(this.algorithm),l=o.writable.getWriter();return l.write(i),l.close(),new Response(o.readable).blob().then(e)}async decompress(r){await cm();const e=Uint8Array.from(atob(r),l=>l.charCodeAt(0)),i=new DecompressionStream(this.algorithm),o=i.writable.getWriter();return o.write(e),o.close(),new Response(i.readable).arrayBuffer().then(function(l){return new TextDecoder().decode(l)})}}class kb extends dh{get id(){return"gzip"}get algorithm(){return"gzip"}}class Nb extends dh{get id(){return"dfl"}get algorithm(){return"deflate-raw"}async compress(r){return(await super.compress(r)).replace(/\+/g,"-").replace(/\//g,"_")}async decompress(r){return r=r.replace(/-/g,"+").replace(/_/g,"/"),await super.decompress(r)}}const mh=new Map;function hh(a){mh.set(a.id,a)}const ph=[new Nb];ph.forEach(hh);hh(new kb);class Cb extends fh{get id(){return"compressor"}async compress(r){const e=await Promise.all(ph.map(async i=>`${i.id}_${await i.compress(r)}`));return m_(e,i=>encodeURIComponent(i).length)??""}async decompress(r){const e=r.match(/^([^_]+?)_(.+)$/);let i,o;return e?(i=e[1],o=e[2]):(i="gzip",o=r),mh.get(i).decompress(o)}}const Lb=new Cb;class T_{isEnvironmentSupported(){return Promise.resolve(!0)}isInstructionSupported(r){const e=P_.get(r);if(e)return!e.validateWithSolution;const i=x_.get(r);return i?!i.validateWithSolution:!1}isGridSupported(r){return!(r.rules.some(e=>e.necessaryForCompletion&&!this.isInstructionSupported(e.id))||[...r.symbols.keys()].some(e=>!this.isInstructionSupported(e)))}}class Mb extends T_{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:"underclued"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"Solves every puzzle as if it were underclued. Supports all rules and symbols and is decently fast for small puzzles. Very slow for large puzzles."})}async*solve(r){const e=new Worker(new URL(""+new URL("undercluedWorker.js",import.meta.url).href,import.meta.url),{type:"module"});try{const i=await new Promise(o=>{e.addEventListener("message",l=>{const f=ca.parseGrid(l.data);f.resetTiles().equals(f)?o(null):o(f)}),e.postMessage(ca.stringifyGrid(r))});yield i,i&&i.getTileCount(!0,void 0,M.Gray)===0&&(yield null)}finally{e.terminate()}}isInstructionSupported(r){return super.isInstructionSupported(r)?!0:r===w_.id}}var Cs={},Fo={},_m;function Zb(){if(_m)return Fo;_m=1,Object.defineProperty(Fo,"__esModule",{value:!0});class a{constructor(){this.pullQueue=[],this.pushQueue=[],this.eventHandlers={},this.isPaused=!1,this.isStopped=!1}push(i){if(this.isStopped)return;const o={value:i,done:!1};if(this.pullQueue.length){const l=this.pullQueue.shift();l&&l.resolve(o)}else this.pushQueue.push(Promise.resolve(o)),this.highWaterMark!==void 0&&this.pushQueue.length>=this.highWaterMark&&!this.isPaused&&(this.isPaused=!0,this.eventHandlers.highWater?this.eventHandlers.highWater():console&&console.warn(`EventIterator queue reached ${this.pushQueue.length} items`))}stop(){if(!this.isStopped){this.isStopped=!0,this.remove();for(const i of this.pullQueue)i.resolve({value:void 0,done:!0});this.pullQueue.length=0}}fail(i){if(!this.isStopped)if(this.isStopped=!0,this.remove(),this.pullQueue.length){for(const o of this.pullQueue)o.reject(i);this.pullQueue.length=0}else{const o=Promise.reject(i);o.catch(()=>{}),this.pushQueue.push(o)}}remove(){Promise.resolve().then(()=>{this.removeCallback&&this.removeCallback()})}[Symbol.asyncIterator](){return{next:i=>{const o=this.pushQueue.shift();return o?(this.lowWaterMark!==void 0&&this.pushQueue.length<=this.lowWaterMark&&this.isPaused&&(this.isPaused=!1,this.eventHandlers.lowWater&&this.eventHandlers.lowWater()),o):this.isStopped?Promise.resolve({value:void 0,done:!0}):new Promise((l,f)=>{this.pullQueue.push({resolve:l,reject:f})})},return:()=>(this.isStopped=!0,this.pushQueue.length=0,this.remove(),Promise.resolve({value:void 0,done:!0}))}}}class r{constructor(i,{highWaterMark:o=100,lowWaterMark:l=1}={}){const f=new a;f.highWaterMark=o,f.lowWaterMark=l,f.removeCallback=i({push:y=>f.push(y),stop:()=>f.stop(),fail:y=>f.fail(y),on:(y,_)=>{f.eventHandlers[y]=_}})||(()=>{}),this[Symbol.asyncIterator]=()=>f[Symbol.asyncIterator](),Object.freeze(this)}}return Fo.EventIterator=r,Fo.default=r,Fo}var fm;function Db(){if(fm)return Cs;fm=1,Object.defineProperty(Cs,"__esModule",{value:!0});const a=Zb();Cs.EventIterator=a.EventIterator;function r(e,i,o){return new a.EventIterator(({push:l})=>(this.addEventListener(e,l,i),()=>this.removeEventListener(e,l,i)),o)}return Cs.subscribe=r,Cs.default=a.EventIterator,Cs}var zb=Db();class ai{}class jb extends ai{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:th.id})}encode(r,e){const i=r.rules.filter(l=>l.id===this.id);if(i.length===0)return;const o=e.regionConstrainer;for(const l of new Set(i.map(f=>f.color))){const f=[];for(const[y,_]of e.grid.grid.entries())f.push(e.ctx.If(_.eq(e.symbolSet.indices[l]).and(o.parentGrid.get(y).eq(1)),1,0));e.solver.add(e.ctx.Sum(f[0],...f.slice(1)).eq(1))}}}const gh=new jb;class uu extends T_{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:"backtrack"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"Solves puzzles using backtracking with optimizations (blazingly fast). Support most rules and symbols (including underclued)."})}async*solve(r){const e=new Worker(new URL(""+new URL("backtrackWorker.js",import.meta.url).href,import.meta.url),{type:"module"});try{const i=new zb.EventIterator(({push:o,stop:l,fail:f})=>{e.postMessage(ca.stringifyGrid(r.resetTiles())),e.addEventListener("message",y=>{y.data?o(ca.parseGrid(y.data)):l()}),e.addEventListener("error",y=>{alert(`Error while solving!
${y.message}`),f(y)})});for await(const o of i)yield o;yield null}finally{e.terminate()}}isInstructionSupported(r){return uu.supportedInstrs.includes(r)}}Object.defineProperty(uu,"supportedInstrs",{enumerable:!0,configurable:!0,writable:!0,value:[g_.id,O_.id,E_.id,lh.id,uh.id,S_.id,ch.id,v_.id,w_.id,gh.id,eh.id,b_.id,oh.id,y_.id,sh.id,ah.id]});var Uo={},Vo={},zl={},e_={},l_=function(a,r){return l_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},l_(a,r)};function yh(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");l_(a,r);function e(){this.constructor=a}a.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var iu=function(){return iu=Object.assign||function(r){for(var e,i=1,o=arguments.length;i<o;i++){e=arguments[i];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(r[l]=e[l])}return r},iu.apply(this,arguments)};function bh(a,r){var e={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&r.indexOf(i)<0&&(e[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)r.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(e[i[o]]=a[i[o]]);return e}function vh(a,r,e,i){var o=arguments.length,l=o<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,e):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(a,r,e,i);else for(var y=a.length-1;y>=0;y--)(f=a[y])&&(l=(o<3?f(l):o>3?f(r,e,l):f(r,e))||l);return o>3&&l&&Object.defineProperty(r,e,l),l}function wh(a,r){return function(e,i){r(e,i,a)}}function xh(a,r,e,i,o,l){function f(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var y=i.kind,_=y==="getter"?"get":y==="setter"?"set":"value",w=!r&&a?i.static?a:a.prototype:null,u=r||(w?Object.getOwnPropertyDescriptor(w,i.name):{}),P,Z=!1,$=e.length-1;$>=0;$--){var re={};for(var p in i)re[p]=p==="access"?{}:i[p];for(var p in i.access)re.access[p]=i.access[p];re.addInitializer=function(v){if(Z)throw new TypeError("Cannot add initializers after decoration has completed");l.push(f(v||null))};var h=(0,e[$])(y==="accessor"?{get:u.get,set:u.set}:u[_],re);if(y==="accessor"){if(h===void 0)continue;if(h===null||typeof h!="object")throw new TypeError("Object expected");(P=f(h.get))&&(u.get=P),(P=f(h.set))&&(u.set=P),(P=f(h.init))&&o.unshift(P)}else(P=f(h))&&(y==="field"?o.unshift(P):u[_]=P)}w&&Object.defineProperty(w,i.name,u),Z=!0}function Eh(a,r,e){for(var i=arguments.length>2,o=0;o<r.length;o++)e=i?r[o].call(a,e):r[o].call(a);return i?e:void 0}function Sh(a){return typeof a=="symbol"?a:"".concat(a)}function Oh(a,r,e){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:e?"".concat(e," ",r):r})}function Ph(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)}function Th(a,r,e,i){function o(l){return l instanceof e?l:new e(function(f){f(l)})}return new(e||(e=Promise))(function(l,f){function y(u){try{w(i.next(u))}catch(P){f(P)}}function _(u){try{w(i.throw(u))}catch(P){f(P)}}function w(u){u.done?l(u.value):o(u.value).then(y,_)}w((i=i.apply(a,r||[])).next())})}function Rh(a,r){var e={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=y(0),f.throw=y(1),f.return=y(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function y(w){return function(u){return _([w,u])}}function _(w){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,w[0]&&(e=0)),e;)try{if(i=1,o&&(l=w[0]&2?o.return:w[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,w[1])).done)return l;switch(o=0,l&&(w=[w[0]&2,l.value]),w[0]){case 0:case 1:l=w;break;case 4:return e.label++,{value:w[1],done:!1};case 5:e.label++,o=w[1],w=[0];continue;case 7:w=e.ops.pop(),e.trys.pop();continue;default:if(l=e.trys,!(l=l.length>0&&l[l.length-1])&&(w[0]===6||w[0]===2)){e=0;continue}if(w[0]===3&&(!l||w[1]>l[0]&&w[1]<l[3])){e.label=w[1];break}if(w[0]===6&&e.label<l[1]){e.label=l[1],l=w;break}if(l&&e.label<l[2]){e.label=l[2],e.ops.push(w);break}l[2]&&e.ops.pop(),e.trys.pop();continue}w=r.call(a,e)}catch(u){w=[6,u],o=0}finally{i=l=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}}var cu=Object.create?function(a,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(a,i,o)}:function(a,r,e,i){i===void 0&&(i=e),a[i]=r[e]};function Ah(a,r){for(var e in a)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&cu(r,a,e)}function su(a){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&a[r],i=0;if(e)return e.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function R_(a,r){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var i=e.call(a),o,l=[],f;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(y){f={error:y}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(f)throw f.error}}return l}function Ih(){for(var a=[],r=0;r<arguments.length;r++)a=a.concat(R_(arguments[r]));return a}function kh(){for(var a=0,r=0,e=arguments.length;r<e;r++)a+=arguments[r].length;for(var i=Array(a),o=0,r=0;r<e;r++)for(var l=arguments[r],f=0,y=l.length;f<y;f++,o++)i[o]=l[f];return i}function Nh(a,r,e){if(e||arguments.length===2)for(var i=0,o=r.length,l;i<o;i++)(l||!(i in r))&&(l||(l=Array.prototype.slice.call(r,0,i)),l[i]=r[i]);return a.concat(l||Array.prototype.slice.call(r))}function Hs(a){return this instanceof Hs?(this.v=a,this):new Hs(a)}function Ch(a,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(a,r||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f($){return function(re){return Promise.resolve(re).then($,P)}}function y($,re){i[$]&&(o[$]=function(p){return new Promise(function(h,v){l.push([$,p,h,v])>1||_($,p)})},re&&(o[$]=re(o[$])))}function _($,re){try{w(i[$](re))}catch(p){Z(l[0][3],p)}}function w($){$.value instanceof Hs?Promise.resolve($.value.v).then(u,P):Z(l[0][2],$)}function u($){_("next",$)}function P($){_("throw",$)}function Z($,re){$(re),l.shift(),l.length&&_(l[0][0],l[0][1])}}function Lh(a){var r,e;return r={},i("next"),i("throw",function(o){throw o}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(o,l){r[o]=a[o]?function(f){return(e=!e)?{value:Hs(a[o](f)),done:!1}:l?l(f):f}:l}}function Mh(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a[Symbol.asyncIterator],e;return r?r.call(a):(a=typeof su=="function"?su(a):a[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(l){e[l]=a[l]&&function(f){return new Promise(function(y,_){f=a[l](f),o(y,_,f.done,f.value)})}}function o(l,f,y,_){Promise.resolve(_).then(function(w){l({value:w,done:y})},f)}}function Zh(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}var Gb=Object.create?function(a,r){Object.defineProperty(a,"default",{enumerable:!0,value:r})}:function(a,r){a.default=r},u_=function(a){return u_=Object.getOwnPropertyNames||function(r){var e=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[e.length]=i);return e},u_(a)};function Dh(a){if(a&&a.__esModule)return a;var r={};if(a!=null)for(var e=u_(a),i=0;i<e.length;i++)e[i]!=="default"&&cu(r,a,e[i]);return Gb(r,a),r}function zh(a){return a&&a.__esModule?a:{default:a}}function jh(a,r,e,i){if(e==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!i:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?i:e==="a"?i.call(a):i?i.value:r.get(a)}function Gh(a,r,e,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!o:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(a,e):o?o.value=e:r.set(a,e),e}function Fh(a,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?r===a:a.has(r)}function Uh(a,r,e){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var i,o;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose],e&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),a.stack.push({value:r,dispose:i,async:e})}else e&&a.stack.push({async:!0});return r}var Fb=typeof SuppressedError=="function"?SuppressedError:function(a,r,e){var i=new Error(e);return i.name="SuppressedError",i.error=a,i.suppressed=r,i};function Vh(a){function r(l){a.error=a.hasError?new Fb(l,a.error,"An error was suppressed during disposal."):l,a.hasError=!0}var e,i=0;function o(){for(;e=a.stack.pop();)try{if(!e.async&&i===1)return i=0,a.stack.push(e),Promise.resolve().then(o);if(e.dispose){var l=e.dispose.call(e.value);if(e.async)return i|=2,Promise.resolve(l).then(o,function(f){return r(f),o()})}else i|=1}catch(f){r(f)}if(i===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return o()}function $h(a,r){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,i,o,l,f){return i?r?".jsx":".js":o&&(!l||!f)?e:o+l+"."+f.toLowerCase()+"js"}):a}const Ub={__extends:yh,__assign:iu,__rest:bh,__decorate:vh,__param:wh,__esDecorate:xh,__runInitializers:Eh,__propKey:Sh,__setFunctionName:Oh,__metadata:Ph,__awaiter:Th,__generator:Rh,__createBinding:cu,__exportStar:Ah,__values:su,__read:R_,__spread:Ih,__spreadArrays:kh,__spreadArray:Nh,__await:Hs,__asyncGenerator:Ch,__asyncDelegator:Lh,__asyncValues:Mh,__makeTemplateObject:Zh,__importStar:Dh,__importDefault:zh,__classPrivateFieldGet:jh,__classPrivateFieldSet:Gh,__classPrivateFieldIn:Fh,__addDisposableResource:Uh,__disposeResources:Vh,__rewriteRelativeImportExtension:$h},Vb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Uh,get __assign(){return iu},__asyncDelegator:Lh,__asyncGenerator:Ch,__asyncValues:Mh,__await:Hs,__awaiter:Th,__classPrivateFieldGet:jh,__classPrivateFieldIn:Fh,__classPrivateFieldSet:Gh,__createBinding:cu,__decorate:vh,__disposeResources:Vh,__esDecorate:xh,__exportStar:Ah,__extends:yh,__generator:Rh,__importDefault:zh,__importStar:Dh,__makeTemplateObject:Zh,__metadata:Ph,__param:wh,__propKey:Sh,__read:R_,__rest:bh,__rewriteRelativeImportExtension:$h,__runInitializers:Eh,__setFunctionName:Oh,__spread:Ih,__spreadArray:Nh,__spreadArrays:kh,__values:su,default:Ub},Symbol.toStringTag,{value:"Module"})),_u=xg(Vb);var jl={},Gl={},xn={},dm;function fu(){return dm||(dm=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.E_CANCELED=xn.E_ALREADY_LOCKED=xn.E_TIMEOUT=void 0,xn.E_TIMEOUT=new Error("timeout while waiting for mutex to become available"),xn.E_ALREADY_LOCKED=new Error("mutex already locked"),xn.E_CANCELED=new Error("request for lock canceled")),xn}var mm;function qh(){if(mm)return Gl;mm=1,Object.defineProperty(Gl,"__esModule",{value:!0});var a=_u,r=fu(),e=function(){function i(o,l){if(l===void 0&&(l=r.E_CANCELED),this._maxConcurrency=o,this._cancelError=l,this._queue=[],this._waiters=[],o<=0)throw new Error("semaphore must be initialized to a positive value");this._value=o}return i.prototype.acquire=function(){var o=this,l=this.isLocked(),f=new Promise(function(y,_){return o._queue.push({resolve:y,reject:_})});return l||this._dispatch(),f},i.prototype.runExclusive=function(o){return(0,a.__awaiter)(this,void 0,void 0,function(){var l,f,y;return(0,a.__generator)(this,function(_){switch(_.label){case 0:return[4,this.acquire()];case 1:l=_.sent(),f=l[0],y=l[1],_.label=2;case 2:return _.trys.push([2,,4,5]),[4,o(f)];case 3:return[2,_.sent()];case 4:return y(),[7];case 5:return[2]}})})},i.prototype.waitForUnlock=function(){return(0,a.__awaiter)(this,void 0,void 0,function(){var o,l=this;return(0,a.__generator)(this,function(f){return this.isLocked()?(o=new Promise(function(y){return l._waiters.push({resolve:y})}),[2,o]):[2,Promise.resolve()]})})},i.prototype.isLocked=function(){return this._value<=0},i.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var o=this._currentReleaser;this._currentReleaser=void 0,o()}},i.prototype.cancel=function(){var o=this;this._queue.forEach(function(l){return l.reject(o._cancelError)}),this._queue=[]},i.prototype._dispatch=function(){var o=this,l=this._queue.shift();if(l){var f=!1;this._currentReleaser=function(){f||(f=!0,o._value++,o._resolveWaiters(),o._dispatch())},l.resolve([this._value--,this._currentReleaser])}},i.prototype._resolveWaiters=function(){this._waiters.forEach(function(o){return o.resolve()}),this._waiters=[]},i}();return Gl.default=e,Gl}var hm;function $b(){if(hm)return jl;hm=1,Object.defineProperty(jl,"__esModule",{value:!0});var a=_u,r=qh(),e=function(){function i(o){this._semaphore=new r.default(1,o)}return i.prototype.acquire=function(){return(0,a.__awaiter)(this,void 0,void 0,function(){var o,l;return(0,a.__generator)(this,function(f){switch(f.label){case 0:return[4,this._semaphore.acquire()];case 1:return o=f.sent(),l=o[1],[2,l]}})})},i.prototype.runExclusive=function(o){return this._semaphore.runExclusive(function(){return o()})},i.prototype.isLocked=function(){return this._semaphore.isLocked()},i.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},i.prototype.release=function(){this._semaphore.release()},i.prototype.cancel=function(){return this._semaphore.cancel()},i}();return jl.default=e,jl}var $o={},pm;function Bh(){if(pm)return $o;pm=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.withTimeout=void 0;var a=_u,r=fu();function e(i,o,l){var f=this;return l===void 0&&(l=r.E_TIMEOUT),{acquire:function(){return new Promise(function(y,_){return(0,a.__awaiter)(f,void 0,void 0,function(){var w,u,P,Z,$;return(0,a.__generator)(this,function(re){switch(re.label){case 0:w=!1,u=setTimeout(function(){w=!0,_(l)},o),re.label=1;case 1:return re.trys.push([1,3,,4]),[4,i.acquire()];case 2:return P=re.sent(),w?(Z=Array.isArray(P)?P[1]:P,Z()):(clearTimeout(u),y(P)),[3,4];case 3:return $=re.sent(),w||(clearTimeout(u),_($)),[3,4];case 4:return[2]}})})})},runExclusive:function(y){return(0,a.__awaiter)(this,void 0,void 0,function(){var _,w;return(0,a.__generator)(this,function(u){switch(u.label){case 0:_=function(){},u.label=1;case 1:return u.trys.push([1,,7,8]),[4,this.acquire()];case 2:return w=u.sent(),Array.isArray(w)?(_=w[1],[4,y(w[0])]):[3,4];case 3:return[2,u.sent()];case 4:return _=w,[4,y()];case 5:return[2,u.sent()];case 6:return[3,8];case 7:return _(),[7];case 8:return[2]}})})},release:function(){i.release()},cancel:function(){return i.cancel()},waitForUnlock:function(){return i.waitForUnlock()},isLocked:function(){return i.isLocked()}}}return $o.withTimeout=e,$o}var qo={},gm;function qb(){if(gm)return qo;gm=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.tryAcquire=void 0;var a=fu(),r=Bh();function e(i,o){return o===void 0&&(o=a.E_ALREADY_LOCKED),(0,r.withTimeout)(i,0,o)}return qo.tryAcquire=e,qo}var ym;function Bb(){return ym||(ym=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.tryAcquire=a.withTimeout=a.Semaphore=a.Mutex=void 0;var r=_u,e=$b();Object.defineProperty(a,"Mutex",{enumerable:!0,get:function(){return e.default}});var i=qh();Object.defineProperty(a,"Semaphore",{enumerable:!0,get:function(){return i.default}});var o=Bh();Object.defineProperty(a,"withTimeout",{enumerable:!0,get:function(){return o.withTimeout}});var l=qb();Object.defineProperty(a,"tryAcquire",{enumerable:!0,get:function(){return l.tryAcquire}}),(0,r.__exportStar)(fu(),a)}(e_)),e_}var Bo={},nt={},bm;function Wh(){if(bm)return nt;bm=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.Z3_goal_prec=nt.Z3_error_code=nt.Z3_ast_print_mode=nt.Z3_param_kind=nt.Z3_decl_kind=nt.Z3_ast_kind=nt.Z3_sort_kind=nt.Z3_parameter_kind=nt.Z3_symbol_kind=nt.Z3_lbool=void 0;var a;(function(u){u[u.Z3_L_FALSE=-1]="Z3_L_FALSE",u[u.Z3_L_UNDEF=0]="Z3_L_UNDEF",u[u.Z3_L_TRUE=1]="Z3_L_TRUE"})(a||(nt.Z3_lbool=a={}));var r;(function(u){u[u.Z3_INT_SYMBOL=0]="Z3_INT_SYMBOL",u[u.Z3_STRING_SYMBOL=1]="Z3_STRING_SYMBOL"})(r||(nt.Z3_symbol_kind=r={}));var e;(function(u){u[u.Z3_PARAMETER_INT=0]="Z3_PARAMETER_INT",u[u.Z3_PARAMETER_DOUBLE=1]="Z3_PARAMETER_DOUBLE",u[u.Z3_PARAMETER_RATIONAL=2]="Z3_PARAMETER_RATIONAL",u[u.Z3_PARAMETER_SYMBOL=3]="Z3_PARAMETER_SYMBOL",u[u.Z3_PARAMETER_SORT=4]="Z3_PARAMETER_SORT",u[u.Z3_PARAMETER_AST=5]="Z3_PARAMETER_AST",u[u.Z3_PARAMETER_FUNC_DECL=6]="Z3_PARAMETER_FUNC_DECL"})(e||(nt.Z3_parameter_kind=e={}));var i;(function(u){u[u.Z3_UNINTERPRETED_SORT=0]="Z3_UNINTERPRETED_SORT",u[u.Z3_BOOL_SORT=1]="Z3_BOOL_SORT",u[u.Z3_INT_SORT=2]="Z3_INT_SORT",u[u.Z3_REAL_SORT=3]="Z3_REAL_SORT",u[u.Z3_BV_SORT=4]="Z3_BV_SORT",u[u.Z3_ARRAY_SORT=5]="Z3_ARRAY_SORT",u[u.Z3_DATATYPE_SORT=6]="Z3_DATATYPE_SORT",u[u.Z3_RELATION_SORT=7]="Z3_RELATION_SORT",u[u.Z3_FINITE_DOMAIN_SORT=8]="Z3_FINITE_DOMAIN_SORT",u[u.Z3_FLOATING_POINT_SORT=9]="Z3_FLOATING_POINT_SORT",u[u.Z3_ROUNDING_MODE_SORT=10]="Z3_ROUNDING_MODE_SORT",u[u.Z3_SEQ_SORT=11]="Z3_SEQ_SORT",u[u.Z3_RE_SORT=12]="Z3_RE_SORT",u[u.Z3_CHAR_SORT=13]="Z3_CHAR_SORT",u[u.Z3_TYPE_VAR=14]="Z3_TYPE_VAR",u[u.Z3_UNKNOWN_SORT=1e3]="Z3_UNKNOWN_SORT"})(i||(nt.Z3_sort_kind=i={}));var o;(function(u){u[u.Z3_NUMERAL_AST=0]="Z3_NUMERAL_AST",u[u.Z3_APP_AST=1]="Z3_APP_AST",u[u.Z3_VAR_AST=2]="Z3_VAR_AST",u[u.Z3_QUANTIFIER_AST=3]="Z3_QUANTIFIER_AST",u[u.Z3_SORT_AST=4]="Z3_SORT_AST",u[u.Z3_FUNC_DECL_AST=5]="Z3_FUNC_DECL_AST",u[u.Z3_UNKNOWN_AST=1e3]="Z3_UNKNOWN_AST"})(o||(nt.Z3_ast_kind=o={}));var l;(function(u){u[u.Z3_OP_TRUE=256]="Z3_OP_TRUE",u[u.Z3_OP_FALSE=257]="Z3_OP_FALSE",u[u.Z3_OP_EQ=258]="Z3_OP_EQ",u[u.Z3_OP_DISTINCT=259]="Z3_OP_DISTINCT",u[u.Z3_OP_ITE=260]="Z3_OP_ITE",u[u.Z3_OP_AND=261]="Z3_OP_AND",u[u.Z3_OP_OR=262]="Z3_OP_OR",u[u.Z3_OP_IFF=263]="Z3_OP_IFF",u[u.Z3_OP_XOR=264]="Z3_OP_XOR",u[u.Z3_OP_NOT=265]="Z3_OP_NOT",u[u.Z3_OP_IMPLIES=266]="Z3_OP_IMPLIES",u[u.Z3_OP_OEQ=267]="Z3_OP_OEQ",u[u.Z3_OP_ANUM=512]="Z3_OP_ANUM",u[u.Z3_OP_AGNUM=513]="Z3_OP_AGNUM",u[u.Z3_OP_LE=514]="Z3_OP_LE",u[u.Z3_OP_GE=515]="Z3_OP_GE",u[u.Z3_OP_LT=516]="Z3_OP_LT",u[u.Z3_OP_GT=517]="Z3_OP_GT",u[u.Z3_OP_ADD=518]="Z3_OP_ADD",u[u.Z3_OP_SUB=519]="Z3_OP_SUB",u[u.Z3_OP_UMINUS=520]="Z3_OP_UMINUS",u[u.Z3_OP_MUL=521]="Z3_OP_MUL",u[u.Z3_OP_DIV=522]="Z3_OP_DIV",u[u.Z3_OP_IDIV=523]="Z3_OP_IDIV",u[u.Z3_OP_REM=524]="Z3_OP_REM",u[u.Z3_OP_MOD=525]="Z3_OP_MOD",u[u.Z3_OP_TO_REAL=526]="Z3_OP_TO_REAL",u[u.Z3_OP_TO_INT=527]="Z3_OP_TO_INT",u[u.Z3_OP_IS_INT=528]="Z3_OP_IS_INT",u[u.Z3_OP_POWER=529]="Z3_OP_POWER",u[u.Z3_OP_ABS=530]="Z3_OP_ABS",u[u.Z3_OP_STORE=768]="Z3_OP_STORE",u[u.Z3_OP_SELECT=769]="Z3_OP_SELECT",u[u.Z3_OP_CONST_ARRAY=770]="Z3_OP_CONST_ARRAY",u[u.Z3_OP_ARRAY_MAP=771]="Z3_OP_ARRAY_MAP",u[u.Z3_OP_ARRAY_DEFAULT=772]="Z3_OP_ARRAY_DEFAULT",u[u.Z3_OP_SET_UNION=773]="Z3_OP_SET_UNION",u[u.Z3_OP_SET_INTERSECT=774]="Z3_OP_SET_INTERSECT",u[u.Z3_OP_SET_DIFFERENCE=775]="Z3_OP_SET_DIFFERENCE",u[u.Z3_OP_SET_COMPLEMENT=776]="Z3_OP_SET_COMPLEMENT",u[u.Z3_OP_SET_SUBSET=777]="Z3_OP_SET_SUBSET",u[u.Z3_OP_AS_ARRAY=778]="Z3_OP_AS_ARRAY",u[u.Z3_OP_ARRAY_EXT=779]="Z3_OP_ARRAY_EXT",u[u.Z3_OP_SET_HAS_SIZE=780]="Z3_OP_SET_HAS_SIZE",u[u.Z3_OP_SET_CARD=781]="Z3_OP_SET_CARD",u[u.Z3_OP_BNUM=1024]="Z3_OP_BNUM",u[u.Z3_OP_BIT1=1025]="Z3_OP_BIT1",u[u.Z3_OP_BIT0=1026]="Z3_OP_BIT0",u[u.Z3_OP_BNEG=1027]="Z3_OP_BNEG",u[u.Z3_OP_BADD=1028]="Z3_OP_BADD",u[u.Z3_OP_BSUB=1029]="Z3_OP_BSUB",u[u.Z3_OP_BMUL=1030]="Z3_OP_BMUL",u[u.Z3_OP_BSDIV=1031]="Z3_OP_BSDIV",u[u.Z3_OP_BUDIV=1032]="Z3_OP_BUDIV",u[u.Z3_OP_BSREM=1033]="Z3_OP_BSREM",u[u.Z3_OP_BUREM=1034]="Z3_OP_BUREM",u[u.Z3_OP_BSMOD=1035]="Z3_OP_BSMOD",u[u.Z3_OP_BSDIV0=1036]="Z3_OP_BSDIV0",u[u.Z3_OP_BUDIV0=1037]="Z3_OP_BUDIV0",u[u.Z3_OP_BSREM0=1038]="Z3_OP_BSREM0",u[u.Z3_OP_BUREM0=1039]="Z3_OP_BUREM0",u[u.Z3_OP_BSMOD0=1040]="Z3_OP_BSMOD0",u[u.Z3_OP_ULEQ=1041]="Z3_OP_ULEQ",u[u.Z3_OP_SLEQ=1042]="Z3_OP_SLEQ",u[u.Z3_OP_UGEQ=1043]="Z3_OP_UGEQ",u[u.Z3_OP_SGEQ=1044]="Z3_OP_SGEQ",u[u.Z3_OP_ULT=1045]="Z3_OP_ULT",u[u.Z3_OP_SLT=1046]="Z3_OP_SLT",u[u.Z3_OP_UGT=1047]="Z3_OP_UGT",u[u.Z3_OP_SGT=1048]="Z3_OP_SGT",u[u.Z3_OP_BAND=1049]="Z3_OP_BAND",u[u.Z3_OP_BOR=1050]="Z3_OP_BOR",u[u.Z3_OP_BNOT=1051]="Z3_OP_BNOT",u[u.Z3_OP_BXOR=1052]="Z3_OP_BXOR",u[u.Z3_OP_BNAND=1053]="Z3_OP_BNAND",u[u.Z3_OP_BNOR=1054]="Z3_OP_BNOR",u[u.Z3_OP_BXNOR=1055]="Z3_OP_BXNOR",u[u.Z3_OP_CONCAT=1056]="Z3_OP_CONCAT",u[u.Z3_OP_SIGN_EXT=1057]="Z3_OP_SIGN_EXT",u[u.Z3_OP_ZERO_EXT=1058]="Z3_OP_ZERO_EXT",u[u.Z3_OP_EXTRACT=1059]="Z3_OP_EXTRACT",u[u.Z3_OP_REPEAT=1060]="Z3_OP_REPEAT",u[u.Z3_OP_BREDOR=1061]="Z3_OP_BREDOR",u[u.Z3_OP_BREDAND=1062]="Z3_OP_BREDAND",u[u.Z3_OP_BCOMP=1063]="Z3_OP_BCOMP",u[u.Z3_OP_BSHL=1064]="Z3_OP_BSHL",u[u.Z3_OP_BLSHR=1065]="Z3_OP_BLSHR",u[u.Z3_OP_BASHR=1066]="Z3_OP_BASHR",u[u.Z3_OP_ROTATE_LEFT=1067]="Z3_OP_ROTATE_LEFT",u[u.Z3_OP_ROTATE_RIGHT=1068]="Z3_OP_ROTATE_RIGHT",u[u.Z3_OP_EXT_ROTATE_LEFT=1069]="Z3_OP_EXT_ROTATE_LEFT",u[u.Z3_OP_EXT_ROTATE_RIGHT=1070]="Z3_OP_EXT_ROTATE_RIGHT",u[u.Z3_OP_BIT2BOOL=1071]="Z3_OP_BIT2BOOL",u[u.Z3_OP_INT2BV=1072]="Z3_OP_INT2BV",u[u.Z3_OP_BV2INT=1073]="Z3_OP_BV2INT",u[u.Z3_OP_CARRY=1074]="Z3_OP_CARRY",u[u.Z3_OP_XOR3=1075]="Z3_OP_XOR3",u[u.Z3_OP_BSMUL_NO_OVFL=1076]="Z3_OP_BSMUL_NO_OVFL",u[u.Z3_OP_BUMUL_NO_OVFL=1077]="Z3_OP_BUMUL_NO_OVFL",u[u.Z3_OP_BSMUL_NO_UDFL=1078]="Z3_OP_BSMUL_NO_UDFL",u[u.Z3_OP_BSDIV_I=1079]="Z3_OP_BSDIV_I",u[u.Z3_OP_BUDIV_I=1080]="Z3_OP_BUDIV_I",u[u.Z3_OP_BSREM_I=1081]="Z3_OP_BSREM_I",u[u.Z3_OP_BUREM_I=1082]="Z3_OP_BUREM_I",u[u.Z3_OP_BSMOD_I=1083]="Z3_OP_BSMOD_I",u[u.Z3_OP_PR_UNDEF=1280]="Z3_OP_PR_UNDEF",u[u.Z3_OP_PR_TRUE=1281]="Z3_OP_PR_TRUE",u[u.Z3_OP_PR_ASSERTED=1282]="Z3_OP_PR_ASSERTED",u[u.Z3_OP_PR_GOAL=1283]="Z3_OP_PR_GOAL",u[u.Z3_OP_PR_MODUS_PONENS=1284]="Z3_OP_PR_MODUS_PONENS",u[u.Z3_OP_PR_REFLEXIVITY=1285]="Z3_OP_PR_REFLEXIVITY",u[u.Z3_OP_PR_SYMMETRY=1286]="Z3_OP_PR_SYMMETRY",u[u.Z3_OP_PR_TRANSITIVITY=1287]="Z3_OP_PR_TRANSITIVITY",u[u.Z3_OP_PR_TRANSITIVITY_STAR=1288]="Z3_OP_PR_TRANSITIVITY_STAR",u[u.Z3_OP_PR_MONOTONICITY=1289]="Z3_OP_PR_MONOTONICITY",u[u.Z3_OP_PR_QUANT_INTRO=1290]="Z3_OP_PR_QUANT_INTRO",u[u.Z3_OP_PR_BIND=1291]="Z3_OP_PR_BIND",u[u.Z3_OP_PR_DISTRIBUTIVITY=1292]="Z3_OP_PR_DISTRIBUTIVITY",u[u.Z3_OP_PR_AND_ELIM=1293]="Z3_OP_PR_AND_ELIM",u[u.Z3_OP_PR_NOT_OR_ELIM=1294]="Z3_OP_PR_NOT_OR_ELIM",u[u.Z3_OP_PR_REWRITE=1295]="Z3_OP_PR_REWRITE",u[u.Z3_OP_PR_REWRITE_STAR=1296]="Z3_OP_PR_REWRITE_STAR",u[u.Z3_OP_PR_PULL_QUANT=1297]="Z3_OP_PR_PULL_QUANT",u[u.Z3_OP_PR_PUSH_QUANT=1298]="Z3_OP_PR_PUSH_QUANT",u[u.Z3_OP_PR_ELIM_UNUSED_VARS=1299]="Z3_OP_PR_ELIM_UNUSED_VARS",u[u.Z3_OP_PR_DER=1300]="Z3_OP_PR_DER",u[u.Z3_OP_PR_QUANT_INST=1301]="Z3_OP_PR_QUANT_INST",u[u.Z3_OP_PR_HYPOTHESIS=1302]="Z3_OP_PR_HYPOTHESIS",u[u.Z3_OP_PR_LEMMA=1303]="Z3_OP_PR_LEMMA",u[u.Z3_OP_PR_UNIT_RESOLUTION=1304]="Z3_OP_PR_UNIT_RESOLUTION",u[u.Z3_OP_PR_IFF_TRUE=1305]="Z3_OP_PR_IFF_TRUE",u[u.Z3_OP_PR_IFF_FALSE=1306]="Z3_OP_PR_IFF_FALSE",u[u.Z3_OP_PR_COMMUTATIVITY=1307]="Z3_OP_PR_COMMUTATIVITY",u[u.Z3_OP_PR_DEF_AXIOM=1308]="Z3_OP_PR_DEF_AXIOM",u[u.Z3_OP_PR_ASSUMPTION_ADD=1309]="Z3_OP_PR_ASSUMPTION_ADD",u[u.Z3_OP_PR_LEMMA_ADD=1310]="Z3_OP_PR_LEMMA_ADD",u[u.Z3_OP_PR_REDUNDANT_DEL=1311]="Z3_OP_PR_REDUNDANT_DEL",u[u.Z3_OP_PR_CLAUSE_TRAIL=1312]="Z3_OP_PR_CLAUSE_TRAIL",u[u.Z3_OP_PR_DEF_INTRO=1313]="Z3_OP_PR_DEF_INTRO",u[u.Z3_OP_PR_APPLY_DEF=1314]="Z3_OP_PR_APPLY_DEF",u[u.Z3_OP_PR_IFF_OEQ=1315]="Z3_OP_PR_IFF_OEQ",u[u.Z3_OP_PR_NNF_POS=1316]="Z3_OP_PR_NNF_POS",u[u.Z3_OP_PR_NNF_NEG=1317]="Z3_OP_PR_NNF_NEG",u[u.Z3_OP_PR_SKOLEMIZE=1318]="Z3_OP_PR_SKOLEMIZE",u[u.Z3_OP_PR_MODUS_PONENS_OEQ=1319]="Z3_OP_PR_MODUS_PONENS_OEQ",u[u.Z3_OP_PR_TH_LEMMA=1320]="Z3_OP_PR_TH_LEMMA",u[u.Z3_OP_PR_HYPER_RESOLVE=1321]="Z3_OP_PR_HYPER_RESOLVE",u[u.Z3_OP_RA_STORE=1536]="Z3_OP_RA_STORE",u[u.Z3_OP_RA_EMPTY=1537]="Z3_OP_RA_EMPTY",u[u.Z3_OP_RA_IS_EMPTY=1538]="Z3_OP_RA_IS_EMPTY",u[u.Z3_OP_RA_JOIN=1539]="Z3_OP_RA_JOIN",u[u.Z3_OP_RA_UNION=1540]="Z3_OP_RA_UNION",u[u.Z3_OP_RA_WIDEN=1541]="Z3_OP_RA_WIDEN",u[u.Z3_OP_RA_PROJECT=1542]="Z3_OP_RA_PROJECT",u[u.Z3_OP_RA_FILTER=1543]="Z3_OP_RA_FILTER",u[u.Z3_OP_RA_NEGATION_FILTER=1544]="Z3_OP_RA_NEGATION_FILTER",u[u.Z3_OP_RA_RENAME=1545]="Z3_OP_RA_RENAME",u[u.Z3_OP_RA_COMPLEMENT=1546]="Z3_OP_RA_COMPLEMENT",u[u.Z3_OP_RA_SELECT=1547]="Z3_OP_RA_SELECT",u[u.Z3_OP_RA_CLONE=1548]="Z3_OP_RA_CLONE",u[u.Z3_OP_FD_CONSTANT=1549]="Z3_OP_FD_CONSTANT",u[u.Z3_OP_FD_LT=1550]="Z3_OP_FD_LT",u[u.Z3_OP_SEQ_UNIT=1551]="Z3_OP_SEQ_UNIT",u[u.Z3_OP_SEQ_EMPTY=1552]="Z3_OP_SEQ_EMPTY",u[u.Z3_OP_SEQ_CONCAT=1553]="Z3_OP_SEQ_CONCAT",u[u.Z3_OP_SEQ_PREFIX=1554]="Z3_OP_SEQ_PREFIX",u[u.Z3_OP_SEQ_SUFFIX=1555]="Z3_OP_SEQ_SUFFIX",u[u.Z3_OP_SEQ_CONTAINS=1556]="Z3_OP_SEQ_CONTAINS",u[u.Z3_OP_SEQ_EXTRACT=1557]="Z3_OP_SEQ_EXTRACT",u[u.Z3_OP_SEQ_REPLACE=1558]="Z3_OP_SEQ_REPLACE",u[u.Z3_OP_SEQ_REPLACE_RE=1559]="Z3_OP_SEQ_REPLACE_RE",u[u.Z3_OP_SEQ_REPLACE_RE_ALL=1560]="Z3_OP_SEQ_REPLACE_RE_ALL",u[u.Z3_OP_SEQ_REPLACE_ALL=1561]="Z3_OP_SEQ_REPLACE_ALL",u[u.Z3_OP_SEQ_AT=1562]="Z3_OP_SEQ_AT",u[u.Z3_OP_SEQ_NTH=1563]="Z3_OP_SEQ_NTH",u[u.Z3_OP_SEQ_LENGTH=1564]="Z3_OP_SEQ_LENGTH",u[u.Z3_OP_SEQ_INDEX=1565]="Z3_OP_SEQ_INDEX",u[u.Z3_OP_SEQ_LAST_INDEX=1566]="Z3_OP_SEQ_LAST_INDEX",u[u.Z3_OP_SEQ_TO_RE=1567]="Z3_OP_SEQ_TO_RE",u[u.Z3_OP_SEQ_IN_RE=1568]="Z3_OP_SEQ_IN_RE",u[u.Z3_OP_SEQ_MAP=1569]="Z3_OP_SEQ_MAP",u[u.Z3_OP_SEQ_MAPI=1570]="Z3_OP_SEQ_MAPI",u[u.Z3_OP_SEQ_FOLDL=1571]="Z3_OP_SEQ_FOLDL",u[u.Z3_OP_SEQ_FOLDLI=1572]="Z3_OP_SEQ_FOLDLI",u[u.Z3_OP_STR_TO_INT=1573]="Z3_OP_STR_TO_INT",u[u.Z3_OP_INT_TO_STR=1574]="Z3_OP_INT_TO_STR",u[u.Z3_OP_UBV_TO_STR=1575]="Z3_OP_UBV_TO_STR",u[u.Z3_OP_SBV_TO_STR=1576]="Z3_OP_SBV_TO_STR",u[u.Z3_OP_STR_TO_CODE=1577]="Z3_OP_STR_TO_CODE",u[u.Z3_OP_STR_FROM_CODE=1578]="Z3_OP_STR_FROM_CODE",u[u.Z3_OP_STRING_LT=1579]="Z3_OP_STRING_LT",u[u.Z3_OP_STRING_LE=1580]="Z3_OP_STRING_LE",u[u.Z3_OP_RE_PLUS=1581]="Z3_OP_RE_PLUS",u[u.Z3_OP_RE_STAR=1582]="Z3_OP_RE_STAR",u[u.Z3_OP_RE_OPTION=1583]="Z3_OP_RE_OPTION",u[u.Z3_OP_RE_CONCAT=1584]="Z3_OP_RE_CONCAT",u[u.Z3_OP_RE_UNION=1585]="Z3_OP_RE_UNION",u[u.Z3_OP_RE_RANGE=1586]="Z3_OP_RE_RANGE",u[u.Z3_OP_RE_DIFF=1587]="Z3_OP_RE_DIFF",u[u.Z3_OP_RE_INTERSECT=1588]="Z3_OP_RE_INTERSECT",u[u.Z3_OP_RE_LOOP=1589]="Z3_OP_RE_LOOP",u[u.Z3_OP_RE_POWER=1590]="Z3_OP_RE_POWER",u[u.Z3_OP_RE_COMPLEMENT=1591]="Z3_OP_RE_COMPLEMENT",u[u.Z3_OP_RE_EMPTY_SET=1592]="Z3_OP_RE_EMPTY_SET",u[u.Z3_OP_RE_FULL_SET=1593]="Z3_OP_RE_FULL_SET",u[u.Z3_OP_RE_FULL_CHAR_SET=1594]="Z3_OP_RE_FULL_CHAR_SET",u[u.Z3_OP_RE_OF_PRED=1595]="Z3_OP_RE_OF_PRED",u[u.Z3_OP_RE_REVERSE=1596]="Z3_OP_RE_REVERSE",u[u.Z3_OP_RE_DERIVATIVE=1597]="Z3_OP_RE_DERIVATIVE",u[u.Z3_OP_CHAR_CONST=1598]="Z3_OP_CHAR_CONST",u[u.Z3_OP_CHAR_LE=1599]="Z3_OP_CHAR_LE",u[u.Z3_OP_CHAR_TO_INT=1600]="Z3_OP_CHAR_TO_INT",u[u.Z3_OP_CHAR_TO_BV=1601]="Z3_OP_CHAR_TO_BV",u[u.Z3_OP_CHAR_FROM_BV=1602]="Z3_OP_CHAR_FROM_BV",u[u.Z3_OP_CHAR_IS_DIGIT=1603]="Z3_OP_CHAR_IS_DIGIT",u[u.Z3_OP_LABEL=1792]="Z3_OP_LABEL",u[u.Z3_OP_LABEL_LIT=1793]="Z3_OP_LABEL_LIT",u[u.Z3_OP_DT_CONSTRUCTOR=2048]="Z3_OP_DT_CONSTRUCTOR",u[u.Z3_OP_DT_RECOGNISER=2049]="Z3_OP_DT_RECOGNISER",u[u.Z3_OP_DT_IS=2050]="Z3_OP_DT_IS",u[u.Z3_OP_DT_ACCESSOR=2051]="Z3_OP_DT_ACCESSOR",u[u.Z3_OP_DT_UPDATE_FIELD=2052]="Z3_OP_DT_UPDATE_FIELD",u[u.Z3_OP_PB_AT_MOST=2304]="Z3_OP_PB_AT_MOST",u[u.Z3_OP_PB_AT_LEAST=2305]="Z3_OP_PB_AT_LEAST",u[u.Z3_OP_PB_LE=2306]="Z3_OP_PB_LE",u[u.Z3_OP_PB_GE=2307]="Z3_OP_PB_GE",u[u.Z3_OP_PB_EQ=2308]="Z3_OP_PB_EQ",u[u.Z3_OP_SPECIAL_RELATION_LO=40960]="Z3_OP_SPECIAL_RELATION_LO",u[u.Z3_OP_SPECIAL_RELATION_PO=40961]="Z3_OP_SPECIAL_RELATION_PO",u[u.Z3_OP_SPECIAL_RELATION_PLO=40962]="Z3_OP_SPECIAL_RELATION_PLO",u[u.Z3_OP_SPECIAL_RELATION_TO=40963]="Z3_OP_SPECIAL_RELATION_TO",u[u.Z3_OP_SPECIAL_RELATION_TC=40964]="Z3_OP_SPECIAL_RELATION_TC",u[u.Z3_OP_SPECIAL_RELATION_TRC=40965]="Z3_OP_SPECIAL_RELATION_TRC",u[u.Z3_OP_FPA_RM_NEAREST_TIES_TO_EVEN=45056]="Z3_OP_FPA_RM_NEAREST_TIES_TO_EVEN",u[u.Z3_OP_FPA_RM_NEAREST_TIES_TO_AWAY=45057]="Z3_OP_FPA_RM_NEAREST_TIES_TO_AWAY",u[u.Z3_OP_FPA_RM_TOWARD_POSITIVE=45058]="Z3_OP_FPA_RM_TOWARD_POSITIVE",u[u.Z3_OP_FPA_RM_TOWARD_NEGATIVE=45059]="Z3_OP_FPA_RM_TOWARD_NEGATIVE",u[u.Z3_OP_FPA_RM_TOWARD_ZERO=45060]="Z3_OP_FPA_RM_TOWARD_ZERO",u[u.Z3_OP_FPA_NUM=45061]="Z3_OP_FPA_NUM",u[u.Z3_OP_FPA_PLUS_INF=45062]="Z3_OP_FPA_PLUS_INF",u[u.Z3_OP_FPA_MINUS_INF=45063]="Z3_OP_FPA_MINUS_INF",u[u.Z3_OP_FPA_NAN=45064]="Z3_OP_FPA_NAN",u[u.Z3_OP_FPA_PLUS_ZERO=45065]="Z3_OP_FPA_PLUS_ZERO",u[u.Z3_OP_FPA_MINUS_ZERO=45066]="Z3_OP_FPA_MINUS_ZERO",u[u.Z3_OP_FPA_ADD=45067]="Z3_OP_FPA_ADD",u[u.Z3_OP_FPA_SUB=45068]="Z3_OP_FPA_SUB",u[u.Z3_OP_FPA_NEG=45069]="Z3_OP_FPA_NEG",u[u.Z3_OP_FPA_MUL=45070]="Z3_OP_FPA_MUL",u[u.Z3_OP_FPA_DIV=45071]="Z3_OP_FPA_DIV",u[u.Z3_OP_FPA_REM=45072]="Z3_OP_FPA_REM",u[u.Z3_OP_FPA_ABS=45073]="Z3_OP_FPA_ABS",u[u.Z3_OP_FPA_MIN=45074]="Z3_OP_FPA_MIN",u[u.Z3_OP_FPA_MAX=45075]="Z3_OP_FPA_MAX",u[u.Z3_OP_FPA_FMA=45076]="Z3_OP_FPA_FMA",u[u.Z3_OP_FPA_SQRT=45077]="Z3_OP_FPA_SQRT",u[u.Z3_OP_FPA_ROUND_TO_INTEGRAL=45078]="Z3_OP_FPA_ROUND_TO_INTEGRAL",u[u.Z3_OP_FPA_EQ=45079]="Z3_OP_FPA_EQ",u[u.Z3_OP_FPA_LT=45080]="Z3_OP_FPA_LT",u[u.Z3_OP_FPA_GT=45081]="Z3_OP_FPA_GT",u[u.Z3_OP_FPA_LE=45082]="Z3_OP_FPA_LE",u[u.Z3_OP_FPA_GE=45083]="Z3_OP_FPA_GE",u[u.Z3_OP_FPA_IS_NAN=45084]="Z3_OP_FPA_IS_NAN",u[u.Z3_OP_FPA_IS_INF=45085]="Z3_OP_FPA_IS_INF",u[u.Z3_OP_FPA_IS_ZERO=45086]="Z3_OP_FPA_IS_ZERO",u[u.Z3_OP_FPA_IS_NORMAL=45087]="Z3_OP_FPA_IS_NORMAL",u[u.Z3_OP_FPA_IS_SUBNORMAL=45088]="Z3_OP_FPA_IS_SUBNORMAL",u[u.Z3_OP_FPA_IS_NEGATIVE=45089]="Z3_OP_FPA_IS_NEGATIVE",u[u.Z3_OP_FPA_IS_POSITIVE=45090]="Z3_OP_FPA_IS_POSITIVE",u[u.Z3_OP_FPA_FP=45091]="Z3_OP_FPA_FP",u[u.Z3_OP_FPA_TO_FP=45092]="Z3_OP_FPA_TO_FP",u[u.Z3_OP_FPA_TO_FP_UNSIGNED=45093]="Z3_OP_FPA_TO_FP_UNSIGNED",u[u.Z3_OP_FPA_TO_UBV=45094]="Z3_OP_FPA_TO_UBV",u[u.Z3_OP_FPA_TO_SBV=45095]="Z3_OP_FPA_TO_SBV",u[u.Z3_OP_FPA_TO_REAL=45096]="Z3_OP_FPA_TO_REAL",u[u.Z3_OP_FPA_TO_IEEE_BV=45097]="Z3_OP_FPA_TO_IEEE_BV",u[u.Z3_OP_FPA_BVWRAP=45098]="Z3_OP_FPA_BVWRAP",u[u.Z3_OP_FPA_BV2RM=45099]="Z3_OP_FPA_BV2RM",u[u.Z3_OP_INTERNAL=45100]="Z3_OP_INTERNAL",u[u.Z3_OP_RECURSIVE=45101]="Z3_OP_RECURSIVE",u[u.Z3_OP_UNINTERPRETED=45102]="Z3_OP_UNINTERPRETED"})(l||(nt.Z3_decl_kind=l={}));var f;(function(u){u[u.Z3_PK_UINT=0]="Z3_PK_UINT",u[u.Z3_PK_BOOL=1]="Z3_PK_BOOL",u[u.Z3_PK_DOUBLE=2]="Z3_PK_DOUBLE",u[u.Z3_PK_SYMBOL=3]="Z3_PK_SYMBOL",u[u.Z3_PK_STRING=4]="Z3_PK_STRING",u[u.Z3_PK_OTHER=5]="Z3_PK_OTHER",u[u.Z3_PK_INVALID=6]="Z3_PK_INVALID"})(f||(nt.Z3_param_kind=f={}));var y;(function(u){u[u.Z3_PRINT_SMTLIB_FULL=0]="Z3_PRINT_SMTLIB_FULL",u[u.Z3_PRINT_LOW_LEVEL=1]="Z3_PRINT_LOW_LEVEL",u[u.Z3_PRINT_SMTLIB2_COMPLIANT=2]="Z3_PRINT_SMTLIB2_COMPLIANT"})(y||(nt.Z3_ast_print_mode=y={}));var _;(function(u){u[u.Z3_OK=0]="Z3_OK",u[u.Z3_SORT_ERROR=1]="Z3_SORT_ERROR",u[u.Z3_IOB=2]="Z3_IOB",u[u.Z3_INVALID_ARG=3]="Z3_INVALID_ARG",u[u.Z3_PARSER_ERROR=4]="Z3_PARSER_ERROR",u[u.Z3_NO_PARSER=5]="Z3_NO_PARSER",u[u.Z3_INVALID_PATTERN=6]="Z3_INVALID_PATTERN",u[u.Z3_MEMOUT_FAIL=7]="Z3_MEMOUT_FAIL",u[u.Z3_FILE_ACCESS_ERROR=8]="Z3_FILE_ACCESS_ERROR",u[u.Z3_INTERNAL_FATAL=9]="Z3_INTERNAL_FATAL",u[u.Z3_INVALID_USAGE=10]="Z3_INVALID_USAGE",u[u.Z3_DEC_REF_ERROR=11]="Z3_DEC_REF_ERROR",u[u.Z3_EXCEPTION=12]="Z3_EXCEPTION"})(_||(nt.Z3_error_code=_={}));var w;return function(u){u[u.Z3_GOAL_PRECISE=0]="Z3_GOAL_PRECISE",u[u.Z3_GOAL_UNDER=1]="Z3_GOAL_UNDER",u[u.Z3_GOAL_OVER=2]="Z3_GOAL_OVER",u[u.Z3_GOAL_UNDER_OVER=3]="Z3_GOAL_UNDER_OVER"}(w||(nt.Z3_goal_prec=w={})),nt}var Fl={},vm;function Wb(){if(vm)return Fl;vm=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.init=a;async function a(r){let e=await r();function i(p){return new Uint8Array(new Uint32Array(p).buffer)}function o(p){return p.map(h=>h?1:0)}function l(p,h){return Array.from(new Uint32Array(e.HEAPU32.buffer,p,h))}let f=e._malloc(24),y=new Uint32Array(e.HEAPU32.buffer,f,4),_=p=>y[p],w=new Int32Array(e.HEAPU32.buffer,f,4),u=p=>w[p],P=new BigUint64Array(e.HEAPU32.buffer,f,2),Z=p=>P[p],$=new BigInt64Array(e.HEAPU32.buffer,f,2),re=p=>$[p];return{em:e,Z3:{mk_context:function(p){let h=e._Z3_mk_context(p);return e._set_noop_error_handler(h),h},mk_context_rc:function(p){let h=e._Z3_mk_context_rc(p);return e._set_noop_error_handler(h),h},global_param_set:function(p,h){return e.ccall("Z3_global_param_set","void",["string","string"],[p,h])},global_param_reset_all:e._Z3_global_param_reset_all,global_param_get:function(p){return e.ccall("Z3_global_param_get","boolean",["string","number"],[p,f])?e.UTF8ToString(_(0)):null},mk_config:e._Z3_mk_config,del_config:e._Z3_del_config,set_param_value:function(p,h,v){return e.ccall("Z3_set_param_value","void",["number","string","string"],[p,h,v])},del_context:e._Z3_del_context,inc_ref:e._Z3_inc_ref,dec_ref:e._Z3_dec_ref,update_param_value:function(p,h,v){return e.ccall("Z3_update_param_value","void",["number","string","string"],[p,h,v])},get_global_param_descrs:e._Z3_get_global_param_descrs,interrupt:e._Z3_interrupt,enable_concurrent_dec_ref:e._Z3_enable_concurrent_dec_ref,mk_params:e._Z3_mk_params,params_inc_ref:e._Z3_params_inc_ref,params_dec_ref:e._Z3_params_dec_ref,params_set_bool:e._Z3_params_set_bool,params_set_uint:e._Z3_params_set_uint,params_set_double:e._Z3_params_set_double,params_set_symbol:e._Z3_params_set_symbol,params_to_string:function(p,h){return e.ccall("Z3_params_to_string","string",["number","number"],[p,h])},params_validate:e._Z3_params_validate,param_descrs_inc_ref:e._Z3_param_descrs_inc_ref,param_descrs_dec_ref:e._Z3_param_descrs_dec_ref,param_descrs_get_kind:e._Z3_param_descrs_get_kind,param_descrs_size:function(p,h){let v=e.ccall("Z3_param_descrs_size","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},param_descrs_get_name:e._Z3_param_descrs_get_name,param_descrs_get_documentation:function(p,h,v){return e.ccall("Z3_param_descrs_get_documentation","string",["number","number","number"],[p,h,v])},param_descrs_to_string:function(p,h){return e.ccall("Z3_param_descrs_to_string","string",["number","number"],[p,h])},mk_int_symbol:e._Z3_mk_int_symbol,mk_string_symbol:function(p,h){return e.ccall("Z3_mk_string_symbol","number",["number","string"],[p,h])},mk_uninterpreted_sort:e._Z3_mk_uninterpreted_sort,mk_type_variable:e._Z3_mk_type_variable,mk_bool_sort:e._Z3_mk_bool_sort,mk_int_sort:e._Z3_mk_int_sort,mk_real_sort:e._Z3_mk_real_sort,mk_bv_sort:e._Z3_mk_bv_sort,mk_finite_domain_sort:e._Z3_mk_finite_domain_sort,mk_array_sort:e._Z3_mk_array_sort,mk_array_sort_n:function(p,h,v){return e.ccall("Z3_mk_array_sort_n","number",["number","number","array","number"],[p,h.length,i(h),v])},mk_tuple_sort:function(p,h,v,I){if(v.length!==I.length)throw new TypeError(`field_names and field_sorts must be the same length (got ${v.length} and {field_sorts.length})`);let X=e._malloc(4*v.length);try{return{rv:e.ccall("Z3_mk_tuple_sort","number",["number","number","number","array","array","number","number"],[p,h,v.length,i(v),i(I),f,X]),mk_tuple_decl:_(0),proj_decl:l(X,v.length)}}finally{e._free(X)}},mk_enumeration_sort:function(p,h,v){let I=e._malloc(4*v.length);try{let X=e._malloc(4*v.length);try{return{rv:e.ccall("Z3_mk_enumeration_sort","number",["number","number","number","array","number","number"],[p,h,v.length,i(v),I,X]),enum_consts:l(I,v.length),enum_testers:l(X,v.length)}}finally{e._free(X)}}finally{e._free(I)}},mk_list_sort:function(p,h,v){return{rv:e.ccall("Z3_mk_list_sort","number",["number","number","number","number","number","number","number","number","number"],[p,h,v,f,f+4,f+8,f+12,f+16,f+20]),nil_decl:_(0),is_nil_decl:_(1),cons_decl:_(2),is_cons_decl:_(3),head_decl:_(4),tail_decl:_(5)}},mk_constructor:function(p,h,v,I,X,ie){if(I.length!==X.length)throw new TypeError(`field_names and sorts must be the same length (got ${I.length} and {sorts.length})`);if(I.length!==ie.length)throw new TypeError(`field_names and sort_refs must be the same length (got ${I.length} and {sort_refs.length})`);return e.ccall("Z3_mk_constructor","number",["number","number","number","number","array","array","array"],[p,h,v,I.length,i(I),i(X),i(ie)])},constructor_num_fields:function(p,h){let v=e.ccall("Z3_constructor_num_fields","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},del_constructor:e._Z3_del_constructor,mk_datatype:function(p,h,v){return e.ccall("Z3_mk_datatype","number",["number","number","number","array"],[p,h,v.length,i(v)])},mk_datatype_sort:e._Z3_mk_datatype_sort,mk_constructor_list:function(p,h){return e.ccall("Z3_mk_constructor_list","number",["number","number","array"],[p,h.length,i(h)])},del_constructor_list:e._Z3_del_constructor_list,mk_datatypes:function(p,h,v){if(h.length!==v.length)throw new TypeError(`sort_names and constructor_lists must be the same length (got ${h.length} and {constructor_lists.length})`);let I=e._malloc(4*h.length);try{let X=e.ccall("Z3_mk_datatypes","void",["number","number","array","number","array"],[p,h.length,i(h),I,i(v)]);return l(I,h.length)}finally{e._free(I)}},query_constructor:function(p,h,v){let I=e._malloc(4*v);try{let X=e.ccall("Z3_query_constructor","void",["number","number","number","number","number","number"],[p,h,v,f,f+4,I]);return{constructor:_(0),tester:_(1),accessors:l(I,v)}}finally{e._free(I)}},mk_func_decl:function(p,h,v,I){return e.ccall("Z3_mk_func_decl","number",["number","number","number","array","number"],[p,h,v.length,i(v),I])},mk_app:function(p,h,v){return e.ccall("Z3_mk_app","number",["number","number","number","array"],[p,h,v.length,i(v)])},mk_const:e._Z3_mk_const,mk_fresh_func_decl:function(p,h,v,I){return e.ccall("Z3_mk_fresh_func_decl","number",["number","string","number","array","number"],[p,h,v.length,i(v),I])},mk_fresh_const:function(p,h,v){return e.ccall("Z3_mk_fresh_const","number",["number","string","number"],[p,h,v])},mk_rec_func_decl:function(p,h,v,I){return e.ccall("Z3_mk_rec_func_decl","number",["number","number","number","array","number"],[p,h,v.length,i(v),I])},add_rec_def:function(p,h,v,I){return e.ccall("Z3_add_rec_def","void",["number","number","number","array","number"],[p,h,v.length,i(v),I])},mk_true:e._Z3_mk_true,mk_false:e._Z3_mk_false,mk_eq:e._Z3_mk_eq,mk_distinct:function(p,h){return e.ccall("Z3_mk_distinct","number",["number","number","array"],[p,h.length,i(h)])},mk_not:e._Z3_mk_not,mk_ite:e._Z3_mk_ite,mk_iff:e._Z3_mk_iff,mk_implies:e._Z3_mk_implies,mk_xor:e._Z3_mk_xor,mk_and:function(p,h){return e.ccall("Z3_mk_and","number",["number","number","array"],[p,h.length,i(h)])},mk_or:function(p,h){return e.ccall("Z3_mk_or","number",["number","number","array"],[p,h.length,i(h)])},mk_add:function(p,h){return e.ccall("Z3_mk_add","number",["number","number","array"],[p,h.length,i(h)])},mk_mul:function(p,h){return e.ccall("Z3_mk_mul","number",["number","number","array"],[p,h.length,i(h)])},mk_sub:function(p,h){return e.ccall("Z3_mk_sub","number",["number","number","array"],[p,h.length,i(h)])},mk_unary_minus:e._Z3_mk_unary_minus,mk_div:e._Z3_mk_div,mk_mod:e._Z3_mk_mod,mk_rem:e._Z3_mk_rem,mk_power:e._Z3_mk_power,mk_abs:e._Z3_mk_abs,mk_lt:e._Z3_mk_lt,mk_le:e._Z3_mk_le,mk_gt:e._Z3_mk_gt,mk_ge:e._Z3_mk_ge,mk_divides:e._Z3_mk_divides,mk_int2real:e._Z3_mk_int2real,mk_real2int:e._Z3_mk_real2int,mk_is_int:e._Z3_mk_is_int,mk_bvnot:e._Z3_mk_bvnot,mk_bvredand:e._Z3_mk_bvredand,mk_bvredor:e._Z3_mk_bvredor,mk_bvand:e._Z3_mk_bvand,mk_bvor:e._Z3_mk_bvor,mk_bvxor:e._Z3_mk_bvxor,mk_bvnand:e._Z3_mk_bvnand,mk_bvnor:e._Z3_mk_bvnor,mk_bvxnor:e._Z3_mk_bvxnor,mk_bvneg:e._Z3_mk_bvneg,mk_bvadd:e._Z3_mk_bvadd,mk_bvsub:e._Z3_mk_bvsub,mk_bvmul:e._Z3_mk_bvmul,mk_bvudiv:e._Z3_mk_bvudiv,mk_bvsdiv:e._Z3_mk_bvsdiv,mk_bvurem:e._Z3_mk_bvurem,mk_bvsrem:e._Z3_mk_bvsrem,mk_bvsmod:e._Z3_mk_bvsmod,mk_bvult:e._Z3_mk_bvult,mk_bvslt:e._Z3_mk_bvslt,mk_bvule:e._Z3_mk_bvule,mk_bvsle:e._Z3_mk_bvsle,mk_bvuge:e._Z3_mk_bvuge,mk_bvsge:e._Z3_mk_bvsge,mk_bvugt:e._Z3_mk_bvugt,mk_bvsgt:e._Z3_mk_bvsgt,mk_concat:e._Z3_mk_concat,mk_extract:e._Z3_mk_extract,mk_sign_ext:e._Z3_mk_sign_ext,mk_zero_ext:e._Z3_mk_zero_ext,mk_repeat:e._Z3_mk_repeat,mk_bit2bool:e._Z3_mk_bit2bool,mk_bvshl:e._Z3_mk_bvshl,mk_bvlshr:e._Z3_mk_bvlshr,mk_bvashr:e._Z3_mk_bvashr,mk_rotate_left:e._Z3_mk_rotate_left,mk_rotate_right:e._Z3_mk_rotate_right,mk_ext_rotate_left:e._Z3_mk_ext_rotate_left,mk_ext_rotate_right:e._Z3_mk_ext_rotate_right,mk_int2bv:e._Z3_mk_int2bv,mk_bv2int:e._Z3_mk_bv2int,mk_bvadd_no_overflow:e._Z3_mk_bvadd_no_overflow,mk_bvadd_no_underflow:e._Z3_mk_bvadd_no_underflow,mk_bvsub_no_overflow:e._Z3_mk_bvsub_no_overflow,mk_bvsub_no_underflow:e._Z3_mk_bvsub_no_underflow,mk_bvsdiv_no_overflow:e._Z3_mk_bvsdiv_no_overflow,mk_bvneg_no_overflow:e._Z3_mk_bvneg_no_overflow,mk_bvmul_no_overflow:e._Z3_mk_bvmul_no_overflow,mk_bvmul_no_underflow:e._Z3_mk_bvmul_no_underflow,mk_select:e._Z3_mk_select,mk_select_n:function(p,h,v){return e.ccall("Z3_mk_select_n","number",["number","number","number","array"],[p,h,v.length,i(v)])},mk_store:e._Z3_mk_store,mk_store_n:function(p,h,v,I){return e.ccall("Z3_mk_store_n","number",["number","number","number","array","number"],[p,h,v.length,i(v),I])},mk_const_array:e._Z3_mk_const_array,mk_map:function(p,h,v){return e.ccall("Z3_mk_map","number",["number","number","number","array"],[p,h,v.length,i(v)])},mk_array_default:e._Z3_mk_array_default,mk_as_array:e._Z3_mk_as_array,mk_set_has_size:e._Z3_mk_set_has_size,mk_set_sort:e._Z3_mk_set_sort,mk_empty_set:e._Z3_mk_empty_set,mk_full_set:e._Z3_mk_full_set,mk_set_add:e._Z3_mk_set_add,mk_set_del:e._Z3_mk_set_del,mk_set_union:function(p,h){return e.ccall("Z3_mk_set_union","number",["number","number","array"],[p,h.length,i(h)])},mk_set_intersect:function(p,h){return e.ccall("Z3_mk_set_intersect","number",["number","number","array"],[p,h.length,i(h)])},mk_set_difference:e._Z3_mk_set_difference,mk_set_complement:e._Z3_mk_set_complement,mk_set_member:e._Z3_mk_set_member,mk_set_subset:e._Z3_mk_set_subset,mk_array_ext:e._Z3_mk_array_ext,mk_numeral:function(p,h,v){return e.ccall("Z3_mk_numeral","number",["number","string","number"],[p,h,v])},mk_real:e._Z3_mk_real,mk_real_int64:e._Z3_mk_real_int64,mk_int:e._Z3_mk_int,mk_unsigned_int:e._Z3_mk_unsigned_int,mk_int64:e._Z3_mk_int64,mk_unsigned_int64:e._Z3_mk_unsigned_int64,mk_bv_numeral:function(p,h){return e.ccall("Z3_mk_bv_numeral","number",["number","number","array"],[p,h.length,o(h)])},mk_seq_sort:e._Z3_mk_seq_sort,is_seq_sort:function(p,h){return e.ccall("Z3_is_seq_sort","boolean",["number","number"],[p,h])},get_seq_sort_basis:e._Z3_get_seq_sort_basis,mk_re_sort:e._Z3_mk_re_sort,is_re_sort:function(p,h){return e.ccall("Z3_is_re_sort","boolean",["number","number"],[p,h])},get_re_sort_basis:e._Z3_get_re_sort_basis,mk_string_sort:e._Z3_mk_string_sort,mk_char_sort:e._Z3_mk_char_sort,is_string_sort:function(p,h){return e.ccall("Z3_is_string_sort","boolean",["number","number"],[p,h])},is_char_sort:function(p,h){return e.ccall("Z3_is_char_sort","boolean",["number","number"],[p,h])},mk_string:function(p,h){return e.ccall("Z3_mk_string","number",["number","string"],[p,h])},mk_lstring:function(p,h,v){return e.ccall("Z3_mk_lstring","number",["number","number","string"],[p,h,v])},mk_u32string:function(p,h){return e.ccall("Z3_mk_u32string","number",["number","number","array"],[p,h.length,i(h)])},is_string:function(p,h){return e.ccall("Z3_is_string","boolean",["number","number"],[p,h])},get_string:function(p,h){return e.ccall("Z3_get_string","string",["number","number"],[p,h])},get_string_length:function(p,h){let v=e.ccall("Z3_get_string_length","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_string_contents:function(p,h,v){let I=e._malloc(4*v);try{let X=e.ccall("Z3_get_string_contents","void",["number","number","number","number"],[p,h,v,I]);return l(I,v)}finally{e._free(I)}},mk_seq_empty:e._Z3_mk_seq_empty,mk_seq_unit:e._Z3_mk_seq_unit,mk_seq_concat:function(p,h){return e.ccall("Z3_mk_seq_concat","number",["number","number","array"],[p,h.length,i(h)])},mk_seq_prefix:e._Z3_mk_seq_prefix,mk_seq_suffix:e._Z3_mk_seq_suffix,mk_seq_contains:e._Z3_mk_seq_contains,mk_str_lt:e._Z3_mk_str_lt,mk_str_le:e._Z3_mk_str_le,mk_seq_extract:e._Z3_mk_seq_extract,mk_seq_replace:e._Z3_mk_seq_replace,mk_seq_at:e._Z3_mk_seq_at,mk_seq_nth:e._Z3_mk_seq_nth,mk_seq_length:e._Z3_mk_seq_length,mk_seq_index:e._Z3_mk_seq_index,mk_seq_last_index:e._Z3_mk_seq_last_index,mk_seq_map:e._Z3_mk_seq_map,mk_seq_mapi:e._Z3_mk_seq_mapi,mk_seq_foldl:e._Z3_mk_seq_foldl,mk_seq_foldli:e._Z3_mk_seq_foldli,mk_str_to_int:e._Z3_mk_str_to_int,mk_int_to_str:e._Z3_mk_int_to_str,mk_string_to_code:e._Z3_mk_string_to_code,mk_string_from_code:e._Z3_mk_string_from_code,mk_ubv_to_str:e._Z3_mk_ubv_to_str,mk_sbv_to_str:e._Z3_mk_sbv_to_str,mk_seq_to_re:e._Z3_mk_seq_to_re,mk_seq_in_re:e._Z3_mk_seq_in_re,mk_re_plus:e._Z3_mk_re_plus,mk_re_star:e._Z3_mk_re_star,mk_re_option:e._Z3_mk_re_option,mk_re_union:function(p,h){return e.ccall("Z3_mk_re_union","number",["number","number","array"],[p,h.length,i(h)])},mk_re_concat:function(p,h){return e.ccall("Z3_mk_re_concat","number",["number","number","array"],[p,h.length,i(h)])},mk_re_range:e._Z3_mk_re_range,mk_re_allchar:e._Z3_mk_re_allchar,mk_re_loop:e._Z3_mk_re_loop,mk_re_power:e._Z3_mk_re_power,mk_re_intersect:function(p,h){return e.ccall("Z3_mk_re_intersect","number",["number","number","array"],[p,h.length,i(h)])},mk_re_complement:e._Z3_mk_re_complement,mk_re_diff:e._Z3_mk_re_diff,mk_re_empty:e._Z3_mk_re_empty,mk_re_full:e._Z3_mk_re_full,mk_char:e._Z3_mk_char,mk_char_le:e._Z3_mk_char_le,mk_char_to_int:e._Z3_mk_char_to_int,mk_char_to_bv:e._Z3_mk_char_to_bv,mk_char_from_bv:e._Z3_mk_char_from_bv,mk_char_is_digit:e._Z3_mk_char_is_digit,mk_linear_order:e._Z3_mk_linear_order,mk_partial_order:e._Z3_mk_partial_order,mk_piecewise_linear_order:e._Z3_mk_piecewise_linear_order,mk_tree_order:e._Z3_mk_tree_order,mk_transitive_closure:e._Z3_mk_transitive_closure,mk_pattern:function(p,h){return e.ccall("Z3_mk_pattern","number",["number","number","array"],[p,h.length,i(h)])},mk_bound:e._Z3_mk_bound,mk_forall:function(p,h,v,I,X,ie){if(I.length!==X.length)throw new TypeError(`sorts and decl_names must be the same length (got ${I.length} and {decl_names.length})`);return e.ccall("Z3_mk_forall","number",["number","number","number","array","number","array","array","number"],[p,h,v.length,i(v),I.length,i(I),i(X),ie])},mk_exists:function(p,h,v,I,X,ie){if(I.length!==X.length)throw new TypeError(`sorts and decl_names must be the same length (got ${I.length} and {decl_names.length})`);return e.ccall("Z3_mk_exists","number",["number","number","number","array","number","array","array","number"],[p,h,v.length,i(v),I.length,i(I),i(X),ie])},mk_quantifier:function(p,h,v,I,X,ie,be){if(X.length!==ie.length)throw new TypeError(`sorts and decl_names must be the same length (got ${X.length} and {decl_names.length})`);return e.ccall("Z3_mk_quantifier","number",["number","boolean","number","number","array","number","array","array","number"],[p,h,v,I.length,i(I),X.length,i(X),i(ie),be])},mk_quantifier_ex:function(p,h,v,I,X,ie,be,Ze,$e,E){if(Ze.length!==$e.length)throw new TypeError(`sorts and decl_names must be the same length (got ${Ze.length} and {decl_names.length})`);return e.ccall("Z3_mk_quantifier_ex","number",["number","boolean","number","number","number","number","array","number","array","number","array","array","number"],[p,h,v,I,X,ie.length,i(ie),be.length,i(be),Ze.length,i(Ze),i($e),E])},mk_forall_const:function(p,h,v,I,X){return e.ccall("Z3_mk_forall_const","number",["number","number","number","array","number","array","number"],[p,h,v.length,i(v),I.length,i(I),X])},mk_exists_const:function(p,h,v,I,X){return e.ccall("Z3_mk_exists_const","number",["number","number","number","array","number","array","number"],[p,h,v.length,i(v),I.length,i(I),X])},mk_quantifier_const:function(p,h,v,I,X,ie){return e.ccall("Z3_mk_quantifier_const","number",["number","boolean","number","number","array","number","array","number"],[p,h,v,I.length,i(I),X.length,i(X),ie])},mk_quantifier_const_ex:function(p,h,v,I,X,ie,be,Ze,$e){return e.ccall("Z3_mk_quantifier_const_ex","number",["number","boolean","number","number","number","number","array","number","array","number","array","number"],[p,h,v,I,X,ie.length,i(ie),be.length,i(be),Ze.length,i(Ze),$e])},mk_lambda:function(p,h,v,I){if(h.length!==v.length)throw new TypeError(`sorts and decl_names must be the same length (got ${h.length} and {decl_names.length})`);return e.ccall("Z3_mk_lambda","number",["number","number","array","array","number"],[p,h.length,i(h),i(v),I])},mk_lambda_const:function(p,h,v){return e.ccall("Z3_mk_lambda_const","number",["number","number","array","number"],[p,h.length,i(h),v])},get_symbol_kind:e._Z3_get_symbol_kind,get_symbol_int:e._Z3_get_symbol_int,get_symbol_string:function(p,h){return e.ccall("Z3_get_symbol_string","string",["number","number"],[p,h])},get_sort_name:e._Z3_get_sort_name,get_sort_id:function(p,h){let v=e.ccall("Z3_get_sort_id","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},sort_to_ast:e._Z3_sort_to_ast,is_eq_sort:function(p,h,v){return e.ccall("Z3_is_eq_sort","boolean",["number","number","number"],[p,h,v])},get_sort_kind:e._Z3_get_sort_kind,get_bv_sort_size:function(p,h){let v=e.ccall("Z3_get_bv_sort_size","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_finite_domain_sort_size:function(p,h){return e.ccall("Z3_get_finite_domain_sort_size","boolean",["number","number","number"],[p,h,f])?Z(0):null},get_array_sort_domain:e._Z3_get_array_sort_domain,get_array_sort_domain_n:e._Z3_get_array_sort_domain_n,get_array_sort_range:e._Z3_get_array_sort_range,get_tuple_sort_mk_decl:e._Z3_get_tuple_sort_mk_decl,get_tuple_sort_num_fields:function(p,h){let v=e.ccall("Z3_get_tuple_sort_num_fields","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_tuple_sort_field_decl:e._Z3_get_tuple_sort_field_decl,get_datatype_sort_num_constructors:function(p,h){let v=e.ccall("Z3_get_datatype_sort_num_constructors","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_datatype_sort_constructor:e._Z3_get_datatype_sort_constructor,get_datatype_sort_recognizer:e._Z3_get_datatype_sort_recognizer,get_datatype_sort_constructor_accessor:e._Z3_get_datatype_sort_constructor_accessor,datatype_update_field:e._Z3_datatype_update_field,get_relation_arity:function(p,h){let v=e.ccall("Z3_get_relation_arity","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_relation_column:e._Z3_get_relation_column,mk_atmost:function(p,h,v){return e.ccall("Z3_mk_atmost","number",["number","number","array","number"],[p,h.length,i(h),v])},mk_atleast:function(p,h,v){return e.ccall("Z3_mk_atleast","number",["number","number","array","number"],[p,h.length,i(h),v])},mk_pble:function(p,h,v,I){if(h.length!==v.length)throw new TypeError(`args and coeffs must be the same length (got ${h.length} and {coeffs.length})`);return e.ccall("Z3_mk_pble","number",["number","number","array","array","number"],[p,h.length,i(h),i(v),I])},mk_pbge:function(p,h,v,I){if(h.length!==v.length)throw new TypeError(`args and coeffs must be the same length (got ${h.length} and {coeffs.length})`);return e.ccall("Z3_mk_pbge","number",["number","number","array","array","number"],[p,h.length,i(h),i(v),I])},mk_pbeq:function(p,h,v,I){if(h.length!==v.length)throw new TypeError(`args and coeffs must be the same length (got ${h.length} and {coeffs.length})`);return e.ccall("Z3_mk_pbeq","number",["number","number","array","array","number"],[p,h.length,i(h),i(v),I])},func_decl_to_ast:e._Z3_func_decl_to_ast,is_eq_func_decl:function(p,h,v){return e.ccall("Z3_is_eq_func_decl","boolean",["number","number","number"],[p,h,v])},get_func_decl_id:function(p,h){let v=e.ccall("Z3_get_func_decl_id","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_decl_name:e._Z3_get_decl_name,get_decl_kind:e._Z3_get_decl_kind,get_domain_size:function(p,h){let v=e.ccall("Z3_get_domain_size","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_arity:function(p,h){let v=e.ccall("Z3_get_arity","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_domain:e._Z3_get_domain,get_range:e._Z3_get_range,get_decl_num_parameters:function(p,h){let v=e.ccall("Z3_get_decl_num_parameters","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_decl_parameter_kind:e._Z3_get_decl_parameter_kind,get_decl_int_parameter:e._Z3_get_decl_int_parameter,get_decl_double_parameter:e._Z3_get_decl_double_parameter,get_decl_symbol_parameter:e._Z3_get_decl_symbol_parameter,get_decl_sort_parameter:e._Z3_get_decl_sort_parameter,get_decl_ast_parameter:e._Z3_get_decl_ast_parameter,get_decl_func_decl_parameter:e._Z3_get_decl_func_decl_parameter,get_decl_rational_parameter:function(p,h,v){return e.ccall("Z3_get_decl_rational_parameter","string",["number","number","number"],[p,h,v])},app_to_ast:e._Z3_app_to_ast,get_app_decl:e._Z3_get_app_decl,get_app_num_args:function(p,h){let v=e.ccall("Z3_get_app_num_args","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_app_arg:e._Z3_get_app_arg,is_eq_ast:function(p,h,v){return e.ccall("Z3_is_eq_ast","boolean",["number","number","number"],[p,h,v])},get_ast_id:function(p,h){let v=e.ccall("Z3_get_ast_id","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_ast_hash:function(p,h){let v=e.ccall("Z3_get_ast_hash","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_sort:e._Z3_get_sort,is_well_sorted:function(p,h){return e.ccall("Z3_is_well_sorted","boolean",["number","number"],[p,h])},get_bool_value:e._Z3_get_bool_value,get_ast_kind:e._Z3_get_ast_kind,is_app:function(p,h){return e.ccall("Z3_is_app","boolean",["number","number"],[p,h])},is_numeral_ast:function(p,h){return e.ccall("Z3_is_numeral_ast","boolean",["number","number"],[p,h])},is_algebraic_number:function(p,h){return e.ccall("Z3_is_algebraic_number","boolean",["number","number"],[p,h])},to_app:e._Z3_to_app,to_func_decl:e._Z3_to_func_decl,get_numeral_string:function(p,h){return e.ccall("Z3_get_numeral_string","string",["number","number"],[p,h])},get_numeral_binary_string:function(p,h){return e.ccall("Z3_get_numeral_binary_string","string",["number","number"],[p,h])},get_numeral_decimal_string:function(p,h,v){return e.ccall("Z3_get_numeral_decimal_string","string",["number","number","number"],[p,h,v])},get_numeral_double:e._Z3_get_numeral_double,get_numerator:e._Z3_get_numerator,get_denominator:e._Z3_get_denominator,get_numeral_small:function(p,h){return e.ccall("Z3_get_numeral_small","boolean",["number","number","number","number"],[p,h,f,f+8])?{num:re(0),den:re(1)}:null},get_numeral_int:function(p,h){return e.ccall("Z3_get_numeral_int","boolean",["number","number","number"],[p,h,f])?u(0):null},get_numeral_uint:function(p,h){return e.ccall("Z3_get_numeral_uint","boolean",["number","number","number"],[p,h,f])?_(0):null},get_numeral_uint64:function(p,h){return e.ccall("Z3_get_numeral_uint64","boolean",["number","number","number"],[p,h,f])?Z(0):null},get_numeral_int64:function(p,h){return e.ccall("Z3_get_numeral_int64","boolean",["number","number","number"],[p,h,f])?re(0):null},get_numeral_rational_int64:function(p,h){return e.ccall("Z3_get_numeral_rational_int64","boolean",["number","number","number","number"],[p,h,f,f+8])?{num:re(0),den:re(1)}:null},get_algebraic_number_lower:e._Z3_get_algebraic_number_lower,get_algebraic_number_upper:e._Z3_get_algebraic_number_upper,pattern_to_ast:e._Z3_pattern_to_ast,get_pattern_num_terms:function(p,h){let v=e.ccall("Z3_get_pattern_num_terms","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_pattern:e._Z3_get_pattern,get_index_value:function(p,h){let v=e.ccall("Z3_get_index_value","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},is_quantifier_forall:function(p,h){return e.ccall("Z3_is_quantifier_forall","boolean",["number","number"],[p,h])},is_quantifier_exists:function(p,h){return e.ccall("Z3_is_quantifier_exists","boolean",["number","number"],[p,h])},is_lambda:function(p,h){return e.ccall("Z3_is_lambda","boolean",["number","number"],[p,h])},get_quantifier_weight:function(p,h){let v=e.ccall("Z3_get_quantifier_weight","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_quantifier_skolem_id:e._Z3_get_quantifier_skolem_id,get_quantifier_id:e._Z3_get_quantifier_id,get_quantifier_num_patterns:function(p,h){let v=e.ccall("Z3_get_quantifier_num_patterns","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_quantifier_pattern_ast:e._Z3_get_quantifier_pattern_ast,get_quantifier_num_no_patterns:function(p,h){let v=e.ccall("Z3_get_quantifier_num_no_patterns","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_quantifier_no_pattern_ast:e._Z3_get_quantifier_no_pattern_ast,get_quantifier_num_bound:function(p,h){let v=e.ccall("Z3_get_quantifier_num_bound","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},get_quantifier_bound_name:e._Z3_get_quantifier_bound_name,get_quantifier_bound_sort:e._Z3_get_quantifier_bound_sort,get_quantifier_body:e._Z3_get_quantifier_body,simplify:function(p,h){return e.async_call(e._async_Z3_simplify,p,h)},simplify_ex:function(p,h,v){return e.async_call(e._async_Z3_simplify_ex,p,h,v)},simplify_get_help:function(p){return e.ccall("Z3_simplify_get_help","string",["number"],[p])},simplify_get_param_descrs:e._Z3_simplify_get_param_descrs,update_term:function(p,h,v){return e.ccall("Z3_update_term","number",["number","number","number","array"],[p,h,v.length,i(v)])},substitute:function(p,h,v,I){if(v.length!==I.length)throw new TypeError(`from and to must be the same length (got ${v.length} and {to.length})`);return e.ccall("Z3_substitute","number",["number","number","number","array","array"],[p,h,v.length,i(v),i(I)])},substitute_vars:function(p,h,v){return e.ccall("Z3_substitute_vars","number",["number","number","number","array"],[p,h,v.length,i(v)])},substitute_funs:function(p,h,v,I){if(v.length!==I.length)throw new TypeError(`from and to must be the same length (got ${v.length} and {to.length})`);return e.ccall("Z3_substitute_funs","number",["number","number","number","array","array"],[p,h,v.length,i(v),i(I)])},translate:e._Z3_translate,mk_model:e._Z3_mk_model,model_inc_ref:e._Z3_model_inc_ref,model_dec_ref:e._Z3_model_dec_ref,model_eval:function(p,h,v,I){return e.ccall("Z3_model_eval","boolean",["number","number","number","boolean","number"],[p,h,v,I,f])?_(0):null},model_get_const_interp:function(p,h,v){let I=e.ccall("Z3_model_get_const_interp","number",["number","number","number"],[p,h,v]);return I===0?null:I},model_has_interp:function(p,h,v){return e.ccall("Z3_model_has_interp","boolean",["number","number","number"],[p,h,v])},model_get_func_interp:function(p,h,v){let I=e.ccall("Z3_model_get_func_interp","number",["number","number","number"],[p,h,v]);return I===0?null:I},model_get_num_consts:function(p,h){let v=e.ccall("Z3_model_get_num_consts","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},model_get_const_decl:e._Z3_model_get_const_decl,model_get_num_funcs:function(p,h){let v=e.ccall("Z3_model_get_num_funcs","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},model_get_func_decl:e._Z3_model_get_func_decl,model_get_num_sorts:function(p,h){let v=e.ccall("Z3_model_get_num_sorts","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},model_get_sort:e._Z3_model_get_sort,model_get_sort_universe:e._Z3_model_get_sort_universe,model_translate:e._Z3_model_translate,is_as_array:function(p,h){return e.ccall("Z3_is_as_array","boolean",["number","number"],[p,h])},get_as_array_func_decl:e._Z3_get_as_array_func_decl,add_func_interp:e._Z3_add_func_interp,add_const_interp:e._Z3_add_const_interp,func_interp_inc_ref:e._Z3_func_interp_inc_ref,func_interp_dec_ref:e._Z3_func_interp_dec_ref,func_interp_get_num_entries:function(p,h){let v=e.ccall("Z3_func_interp_get_num_entries","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},func_interp_get_entry:e._Z3_func_interp_get_entry,func_interp_get_else:e._Z3_func_interp_get_else,func_interp_set_else:e._Z3_func_interp_set_else,func_interp_get_arity:function(p,h){let v=e.ccall("Z3_func_interp_get_arity","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},func_interp_add_entry:e._Z3_func_interp_add_entry,func_entry_inc_ref:e._Z3_func_entry_inc_ref,func_entry_dec_ref:e._Z3_func_entry_dec_ref,func_entry_get_value:e._Z3_func_entry_get_value,func_entry_get_num_args:function(p,h){let v=e.ccall("Z3_func_entry_get_num_args","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},func_entry_get_arg:e._Z3_func_entry_get_arg,open_log:function(p){return e.ccall("Z3_open_log","boolean",["string"],[p])},append_log:function(p){return e.ccall("Z3_append_log","void",["string"],[p])},close_log:e._Z3_close_log,toggle_warning_messages:e._Z3_toggle_warning_messages,set_ast_print_mode:e._Z3_set_ast_print_mode,ast_to_string:function(p,h){return e.ccall("Z3_ast_to_string","string",["number","number"],[p,h])},pattern_to_string:function(p,h){return e.ccall("Z3_pattern_to_string","string",["number","number"],[p,h])},sort_to_string:function(p,h){return e.ccall("Z3_sort_to_string","string",["number","number"],[p,h])},func_decl_to_string:function(p,h){return e.ccall("Z3_func_decl_to_string","string",["number","number"],[p,h])},model_to_string:function(p,h){return e.ccall("Z3_model_to_string","string",["number","number"],[p,h])},benchmark_to_smtlib_string:function(p,h,v,I,X,ie,be){return e.ccall("Z3_benchmark_to_smtlib_string","string",["number","string","string","string","string","number","array","number"],[p,h,v,I,X,ie.length,i(ie),be])},parse_smtlib2_string:function(p,h,v,I,X,ie){if(v.length!==I.length)throw new TypeError(`sort_names and sorts must be the same length (got ${v.length} and {sorts.length})`);if(X.length!==ie.length)throw new TypeError(`decl_names and decls must be the same length (got ${X.length} and {decls.length})`);return e.ccall("Z3_parse_smtlib2_string","number",["number","string","number","array","array","number","array","array"],[p,h,v.length,i(v),i(I),X.length,i(X),i(ie)])},parse_smtlib2_file:function(p,h,v,I,X,ie){if(v.length!==I.length)throw new TypeError(`sort_names and sorts must be the same length (got ${v.length} and {sorts.length})`);if(X.length!==ie.length)throw new TypeError(`decl_names and decls must be the same length (got ${X.length} and {decls.length})`);return e.ccall("Z3_parse_smtlib2_file","number",["number","string","number","array","array","number","array","array"],[p,h,v.length,i(v),i(I),X.length,i(X),i(ie)])},eval_smtlib2_string:async function(p,h){return await e.async_call(()=>e.ccall("async_Z3_eval_smtlib2_string","void",["number","string"],[p,h]))},mk_parser_context:e._Z3_mk_parser_context,parser_context_inc_ref:e._Z3_parser_context_inc_ref,parser_context_dec_ref:e._Z3_parser_context_dec_ref,parser_context_add_sort:e._Z3_parser_context_add_sort,parser_context_add_decl:e._Z3_parser_context_add_decl,parser_context_from_string:function(p,h,v){return e.ccall("Z3_parser_context_from_string","number",["number","number","string"],[p,h,v])},get_error_code:e._Z3_get_error_code,set_error:e._Z3_set_error,get_error_msg:function(p,h){return e.ccall("Z3_get_error_msg","string",["number","number"],[p,h])},get_version:function(){return e.ccall("Z3_get_version","void",["number","number","number","number"],[f,f+4,f+8,f+12]),{major:_(0),minor:_(1),build_number:_(2),revision_number:_(3)}},get_full_version:function(){return e.ccall("Z3_get_full_version","string",[],[])},enable_trace:function(p){return e.ccall("Z3_enable_trace","void",["string"],[p])},disable_trace:function(p){return e.ccall("Z3_disable_trace","void",["string"],[p])},reset_memory:e._Z3_reset_memory,finalize_memory:e._Z3_finalize_memory,mk_goal:e._Z3_mk_goal,goal_inc_ref:e._Z3_goal_inc_ref,goal_dec_ref:e._Z3_goal_dec_ref,goal_precision:e._Z3_goal_precision,goal_assert:e._Z3_goal_assert,goal_inconsistent:function(p,h){return e.ccall("Z3_goal_inconsistent","boolean",["number","number"],[p,h])},goal_depth:function(p,h){let v=e.ccall("Z3_goal_depth","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},goal_reset:e._Z3_goal_reset,goal_size:function(p,h){let v=e.ccall("Z3_goal_size","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},goal_formula:e._Z3_goal_formula,goal_num_exprs:function(p,h){let v=e.ccall("Z3_goal_num_exprs","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},goal_is_decided_sat:function(p,h){return e.ccall("Z3_goal_is_decided_sat","boolean",["number","number"],[p,h])},goal_is_decided_unsat:function(p,h){return e.ccall("Z3_goal_is_decided_unsat","boolean",["number","number"],[p,h])},goal_translate:e._Z3_goal_translate,goal_convert_model:e._Z3_goal_convert_model,goal_to_string:function(p,h){return e.ccall("Z3_goal_to_string","string",["number","number"],[p,h])},goal_to_dimacs_string:function(p,h,v){return e.ccall("Z3_goal_to_dimacs_string","string",["number","number","boolean"],[p,h,v])},mk_tactic:function(p,h){return e.ccall("Z3_mk_tactic","number",["number","string"],[p,h])},tactic_inc_ref:e._Z3_tactic_inc_ref,tactic_dec_ref:e._Z3_tactic_dec_ref,mk_probe:function(p,h){return e.ccall("Z3_mk_probe","number",["number","string"],[p,h])},probe_inc_ref:e._Z3_probe_inc_ref,probe_dec_ref:e._Z3_probe_dec_ref,tactic_and_then:e._Z3_tactic_and_then,tactic_or_else:e._Z3_tactic_or_else,tactic_par_or:function(p,h){return e.ccall("Z3_tactic_par_or","number",["number","number","array"],[p,h.length,i(h)])},tactic_par_and_then:e._Z3_tactic_par_and_then,tactic_try_for:e._Z3_tactic_try_for,tactic_when:e._Z3_tactic_when,tactic_cond:e._Z3_tactic_cond,tactic_repeat:e._Z3_tactic_repeat,tactic_skip:e._Z3_tactic_skip,tactic_fail:e._Z3_tactic_fail,tactic_fail_if:e._Z3_tactic_fail_if,tactic_fail_if_not_decided:e._Z3_tactic_fail_if_not_decided,tactic_using_params:e._Z3_tactic_using_params,mk_simplifier:function(p,h){return e.ccall("Z3_mk_simplifier","number",["number","string"],[p,h])},simplifier_inc_ref:e._Z3_simplifier_inc_ref,simplifier_dec_ref:e._Z3_simplifier_dec_ref,solver_add_simplifier:e._Z3_solver_add_simplifier,simplifier_and_then:e._Z3_simplifier_and_then,simplifier_using_params:e._Z3_simplifier_using_params,get_num_simplifiers:function(p){let h=e.ccall("Z3_get_num_simplifiers","number",["number"],[p]);return h=new Uint32Array([h])[0],h},get_simplifier_name:function(p,h){return e.ccall("Z3_get_simplifier_name","string",["number","number"],[p,h])},simplifier_get_help:function(p,h){return e.ccall("Z3_simplifier_get_help","string",["number","number"],[p,h])},simplifier_get_param_descrs:e._Z3_simplifier_get_param_descrs,simplifier_get_descr:function(p,h){return e.ccall("Z3_simplifier_get_descr","string",["number","string"],[p,h])},probe_const:e._Z3_probe_const,probe_lt:e._Z3_probe_lt,probe_gt:e._Z3_probe_gt,probe_le:e._Z3_probe_le,probe_ge:e._Z3_probe_ge,probe_eq:e._Z3_probe_eq,probe_and:e._Z3_probe_and,probe_or:e._Z3_probe_or,probe_not:e._Z3_probe_not,get_num_tactics:function(p){let h=e.ccall("Z3_get_num_tactics","number",["number"],[p]);return h=new Uint32Array([h])[0],h},get_tactic_name:function(p,h){return e.ccall("Z3_get_tactic_name","string",["number","number"],[p,h])},get_num_probes:function(p){let h=e.ccall("Z3_get_num_probes","number",["number"],[p]);return h=new Uint32Array([h])[0],h},get_probe_name:function(p,h){return e.ccall("Z3_get_probe_name","string",["number","number"],[p,h])},tactic_get_help:function(p,h){return e.ccall("Z3_tactic_get_help","string",["number","number"],[p,h])},tactic_get_param_descrs:e._Z3_tactic_get_param_descrs,tactic_get_descr:function(p,h){return e.ccall("Z3_tactic_get_descr","string",["number","string"],[p,h])},probe_get_descr:function(p,h){return e.ccall("Z3_probe_get_descr","string",["number","string"],[p,h])},probe_apply:e._Z3_probe_apply,tactic_apply:function(p,h,v){return e.async_call(e._async_Z3_tactic_apply,p,h,v)},tactic_apply_ex:function(p,h,v,I){return e.async_call(e._async_Z3_tactic_apply_ex,p,h,v,I)},apply_result_inc_ref:e._Z3_apply_result_inc_ref,apply_result_dec_ref:e._Z3_apply_result_dec_ref,apply_result_to_string:function(p,h){return e.ccall("Z3_apply_result_to_string","string",["number","number"],[p,h])},apply_result_get_num_subgoals:function(p,h){let v=e.ccall("Z3_apply_result_get_num_subgoals","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},apply_result_get_subgoal:e._Z3_apply_result_get_subgoal,mk_solver:e._Z3_mk_solver,mk_simple_solver:e._Z3_mk_simple_solver,mk_solver_for_logic:e._Z3_mk_solver_for_logic,mk_solver_from_tactic:e._Z3_mk_solver_from_tactic,solver_translate:e._Z3_solver_translate,solver_import_model_converter:e._Z3_solver_import_model_converter,solver_get_help:function(p,h){return e.ccall("Z3_solver_get_help","string",["number","number"],[p,h])},solver_get_param_descrs:e._Z3_solver_get_param_descrs,solver_set_params:e._Z3_solver_set_params,solver_inc_ref:e._Z3_solver_inc_ref,solver_dec_ref:e._Z3_solver_dec_ref,solver_interrupt:e._Z3_solver_interrupt,solver_push:e._Z3_solver_push,solver_pop:e._Z3_solver_pop,solver_reset:e._Z3_solver_reset,solver_get_num_scopes:function(p,h){let v=e.ccall("Z3_solver_get_num_scopes","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},solver_assert:e._Z3_solver_assert,solver_assert_and_track:e._Z3_solver_assert_and_track,solver_from_file:function(p,h,v){return e.ccall("Z3_solver_from_file","void",["number","number","string"],[p,h,v])},solver_from_string:function(p,h,v){return e.ccall("Z3_solver_from_string","void",["number","number","string"],[p,h,v])},solver_get_assertions:e._Z3_solver_get_assertions,solver_get_units:e._Z3_solver_get_units,solver_get_trail:e._Z3_solver_get_trail,solver_get_non_units:e._Z3_solver_get_non_units,solver_get_levels:function(p,h,v,I){return e.ccall("Z3_solver_get_levels","void",["number","number","number","number","array"],[p,h,v,I.length,i(I)])},solver_congruence_root:e._Z3_solver_congruence_root,solver_congruence_next:e._Z3_solver_congruence_next,solver_solve_for:e._Z3_solver_solve_for,solver_next_split:function(p,h,v,I,X){return e.ccall("Z3_solver_next_split","boolean",["number","number","number","number","number"],[p,h,v,I,X])},solver_propagate_declare:function(p,h,v,I){return e.ccall("Z3_solver_propagate_declare","number",["number","number","number","array","number"],[p,h,v.length,i(v),I])},solver_propagate_register:e._Z3_solver_propagate_register,solver_propagate_register_cb:e._Z3_solver_propagate_register_cb,solver_propagate_consequence:function(p,h,v,I,X,ie){if(I.length!==X.length)throw new TypeError(`eq_lhs and eq_rhs must be the same length (got ${I.length} and {eq_rhs.length})`);return e.ccall("Z3_solver_propagate_consequence","boolean",["number","number","number","array","number","array","array","number"],[p,h,v.length,i(v),I.length,i(I),i(X),ie])},solver_set_initial_value:e._Z3_solver_set_initial_value,solver_check:function(p,h){return e.async_call(e._async_Z3_solver_check,p,h)},solver_check_assumptions:async function(p,h,v){return await e.async_call(()=>e.ccall("async_Z3_solver_check_assumptions","void",["number","number","number","array"],[p,h,v.length,i(v)]))},get_implied_equalities:function(p,h,v){let I=e._malloc(4*v.length);try{return{rv:e.ccall("Z3_get_implied_equalities","number",["number","number","number","array","number"],[p,h,v.length,i(v),I]),class_ids:l(I,v.length)}}finally{e._free(I)}},solver_get_consequences:function(p,h,v,I,X){return e.async_call(e._async_Z3_solver_get_consequences,p,h,v,I,X)},solver_cube:function(p,h,v,I){return e.async_call(e._async_Z3_solver_cube,p,h,v,I)},solver_get_model:e._Z3_solver_get_model,solver_get_proof:e._Z3_solver_get_proof,solver_get_unsat_core:e._Z3_solver_get_unsat_core,solver_get_reason_unknown:function(p,h){return e.ccall("Z3_solver_get_reason_unknown","string",["number","number"],[p,h])},solver_get_statistics:e._Z3_solver_get_statistics,solver_to_string:function(p,h){return e.ccall("Z3_solver_to_string","string",["number","number"],[p,h])},solver_to_dimacs_string:function(p,h,v){return e.ccall("Z3_solver_to_dimacs_string","string",["number","number","boolean"],[p,h,v])},stats_to_string:function(p,h){return e.ccall("Z3_stats_to_string","string",["number","number"],[p,h])},stats_inc_ref:e._Z3_stats_inc_ref,stats_dec_ref:e._Z3_stats_dec_ref,stats_size:function(p,h){let v=e.ccall("Z3_stats_size","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},stats_get_key:function(p,h,v){return e.ccall("Z3_stats_get_key","string",["number","number","number"],[p,h,v])},stats_is_uint:function(p,h,v){return e.ccall("Z3_stats_is_uint","boolean",["number","number","number"],[p,h,v])},stats_is_double:function(p,h,v){return e.ccall("Z3_stats_is_double","boolean",["number","number","number"],[p,h,v])},stats_get_uint_value:function(p,h,v){let I=e.ccall("Z3_stats_get_uint_value","number",["number","number","number"],[p,h,v]);return I=new Uint32Array([I])[0],I},stats_get_double_value:e._Z3_stats_get_double_value,get_estimated_alloc_size:e._Z3_get_estimated_alloc_size,algebraic_is_value:function(p,h){return e.ccall("Z3_algebraic_is_value","boolean",["number","number"],[p,h])},algebraic_is_pos:function(p,h){return e.ccall("Z3_algebraic_is_pos","boolean",["number","number"],[p,h])},algebraic_is_neg:function(p,h){return e.ccall("Z3_algebraic_is_neg","boolean",["number","number"],[p,h])},algebraic_is_zero:function(p,h){return e.ccall("Z3_algebraic_is_zero","boolean",["number","number"],[p,h])},algebraic_sign:e._Z3_algebraic_sign,algebraic_add:e._Z3_algebraic_add,algebraic_sub:e._Z3_algebraic_sub,algebraic_mul:e._Z3_algebraic_mul,algebraic_div:e._Z3_algebraic_div,algebraic_root:e._Z3_algebraic_root,algebraic_power:e._Z3_algebraic_power,algebraic_lt:function(p,h,v){return e.ccall("Z3_algebraic_lt","boolean",["number","number","number"],[p,h,v])},algebraic_gt:function(p,h,v){return e.ccall("Z3_algebraic_gt","boolean",["number","number","number"],[p,h,v])},algebraic_le:function(p,h,v){return e.ccall("Z3_algebraic_le","boolean",["number","number","number"],[p,h,v])},algebraic_ge:function(p,h,v){return e.ccall("Z3_algebraic_ge","boolean",["number","number","number"],[p,h,v])},algebraic_eq:function(p,h,v){return e.ccall("Z3_algebraic_eq","boolean",["number","number","number"],[p,h,v])},algebraic_neq:function(p,h,v){return e.ccall("Z3_algebraic_neq","boolean",["number","number","number"],[p,h,v])},algebraic_roots:async function(p,h,v){return await e.async_call(()=>e.ccall("async_Z3_algebraic_roots","void",["number","number","number","array"],[p,h,v.length,i(v)]))},algebraic_eval:async function(p,h,v){return await e.async_call(()=>e.ccall("async_Z3_algebraic_eval","void",["number","number","number","array"],[p,h,v.length,i(v)]))},algebraic_get_poly:e._Z3_algebraic_get_poly,algebraic_get_i:function(p,h){let v=e.ccall("Z3_algebraic_get_i","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},mk_ast_vector:e._Z3_mk_ast_vector,ast_vector_inc_ref:e._Z3_ast_vector_inc_ref,ast_vector_dec_ref:e._Z3_ast_vector_dec_ref,ast_vector_size:function(p,h){let v=e.ccall("Z3_ast_vector_size","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},ast_vector_get:e._Z3_ast_vector_get,ast_vector_set:e._Z3_ast_vector_set,ast_vector_resize:e._Z3_ast_vector_resize,ast_vector_push:e._Z3_ast_vector_push,ast_vector_translate:e._Z3_ast_vector_translate,ast_vector_to_string:function(p,h){return e.ccall("Z3_ast_vector_to_string","string",["number","number"],[p,h])},mk_ast_map:e._Z3_mk_ast_map,ast_map_inc_ref:e._Z3_ast_map_inc_ref,ast_map_dec_ref:e._Z3_ast_map_dec_ref,ast_map_contains:function(p,h,v){return e.ccall("Z3_ast_map_contains","boolean",["number","number","number"],[p,h,v])},ast_map_find:e._Z3_ast_map_find,ast_map_insert:e._Z3_ast_map_insert,ast_map_erase:e._Z3_ast_map_erase,ast_map_reset:e._Z3_ast_map_reset,ast_map_size:function(p,h){let v=e.ccall("Z3_ast_map_size","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},ast_map_keys:e._Z3_ast_map_keys,ast_map_to_string:function(p,h){return e.ccall("Z3_ast_map_to_string","string",["number","number"],[p,h])},mk_fixedpoint:e._Z3_mk_fixedpoint,fixedpoint_inc_ref:e._Z3_fixedpoint_inc_ref,fixedpoint_dec_ref:e._Z3_fixedpoint_dec_ref,fixedpoint_add_rule:e._Z3_fixedpoint_add_rule,fixedpoint_add_fact:function(p,h,v,I){return e.ccall("Z3_fixedpoint_add_fact","void",["number","number","number","number","array"],[p,h,v,I.length,i(I)])},fixedpoint_assert:e._Z3_fixedpoint_assert,fixedpoint_query:function(p,h,v){return e.async_call(e._async_Z3_fixedpoint_query,p,h,v)},fixedpoint_query_relations:async function(p,h,v){return await e.async_call(()=>e.ccall("async_Z3_fixedpoint_query_relations","void",["number","number","number","array"],[p,h,v.length,i(v)]))},fixedpoint_get_answer:e._Z3_fixedpoint_get_answer,fixedpoint_get_reason_unknown:function(p,h){return e.ccall("Z3_fixedpoint_get_reason_unknown","string",["number","number"],[p,h])},fixedpoint_update_rule:e._Z3_fixedpoint_update_rule,fixedpoint_get_num_levels:function(p,h,v){let I=e.ccall("Z3_fixedpoint_get_num_levels","number",["number","number","number"],[p,h,v]);return I=new Uint32Array([I])[0],I},fixedpoint_get_cover_delta:e._Z3_fixedpoint_get_cover_delta,fixedpoint_add_cover:e._Z3_fixedpoint_add_cover,fixedpoint_get_statistics:e._Z3_fixedpoint_get_statistics,fixedpoint_register_relation:e._Z3_fixedpoint_register_relation,fixedpoint_set_predicate_representation:function(p,h,v,I){return e.ccall("Z3_fixedpoint_set_predicate_representation","void",["number","number","number","number","array"],[p,h,v,I.length,i(I)])},fixedpoint_get_rules:e._Z3_fixedpoint_get_rules,fixedpoint_get_assertions:e._Z3_fixedpoint_get_assertions,fixedpoint_set_params:e._Z3_fixedpoint_set_params,fixedpoint_get_help:function(p,h){return e.ccall("Z3_fixedpoint_get_help","string",["number","number"],[p,h])},fixedpoint_get_param_descrs:e._Z3_fixedpoint_get_param_descrs,fixedpoint_to_string:function(p,h,v){return e.ccall("Z3_fixedpoint_to_string","string",["number","number","number","array"],[p,h,v.length,i(v)])},fixedpoint_from_string:function(p,h,v){return e.ccall("Z3_fixedpoint_from_string","number",["number","number","string"],[p,h,v])},fixedpoint_from_file:function(p,h,v){return e.ccall("Z3_fixedpoint_from_file","number",["number","number","string"],[p,h,v])},mk_fpa_rounding_mode_sort:e._Z3_mk_fpa_rounding_mode_sort,mk_fpa_round_nearest_ties_to_even:e._Z3_mk_fpa_round_nearest_ties_to_even,mk_fpa_rne:e._Z3_mk_fpa_rne,mk_fpa_round_nearest_ties_to_away:e._Z3_mk_fpa_round_nearest_ties_to_away,mk_fpa_rna:e._Z3_mk_fpa_rna,mk_fpa_round_toward_positive:e._Z3_mk_fpa_round_toward_positive,mk_fpa_rtp:e._Z3_mk_fpa_rtp,mk_fpa_round_toward_negative:e._Z3_mk_fpa_round_toward_negative,mk_fpa_rtn:e._Z3_mk_fpa_rtn,mk_fpa_round_toward_zero:e._Z3_mk_fpa_round_toward_zero,mk_fpa_rtz:e._Z3_mk_fpa_rtz,mk_fpa_sort:e._Z3_mk_fpa_sort,mk_fpa_sort_half:e._Z3_mk_fpa_sort_half,mk_fpa_sort_16:e._Z3_mk_fpa_sort_16,mk_fpa_sort_single:e._Z3_mk_fpa_sort_single,mk_fpa_sort_32:e._Z3_mk_fpa_sort_32,mk_fpa_sort_double:e._Z3_mk_fpa_sort_double,mk_fpa_sort_64:e._Z3_mk_fpa_sort_64,mk_fpa_sort_quadruple:e._Z3_mk_fpa_sort_quadruple,mk_fpa_sort_128:e._Z3_mk_fpa_sort_128,mk_fpa_nan:e._Z3_mk_fpa_nan,mk_fpa_inf:e._Z3_mk_fpa_inf,mk_fpa_zero:e._Z3_mk_fpa_zero,mk_fpa_fp:e._Z3_mk_fpa_fp,mk_fpa_numeral_float:e._Z3_mk_fpa_numeral_float,mk_fpa_numeral_double:e._Z3_mk_fpa_numeral_double,mk_fpa_numeral_int:e._Z3_mk_fpa_numeral_int,mk_fpa_numeral_int_uint:e._Z3_mk_fpa_numeral_int_uint,mk_fpa_numeral_int64_uint64:e._Z3_mk_fpa_numeral_int64_uint64,mk_fpa_abs:e._Z3_mk_fpa_abs,mk_fpa_neg:e._Z3_mk_fpa_neg,mk_fpa_add:e._Z3_mk_fpa_add,mk_fpa_sub:e._Z3_mk_fpa_sub,mk_fpa_mul:e._Z3_mk_fpa_mul,mk_fpa_div:e._Z3_mk_fpa_div,mk_fpa_fma:e._Z3_mk_fpa_fma,mk_fpa_sqrt:e._Z3_mk_fpa_sqrt,mk_fpa_rem:e._Z3_mk_fpa_rem,mk_fpa_round_to_integral:e._Z3_mk_fpa_round_to_integral,mk_fpa_min:e._Z3_mk_fpa_min,mk_fpa_max:e._Z3_mk_fpa_max,mk_fpa_leq:e._Z3_mk_fpa_leq,mk_fpa_lt:e._Z3_mk_fpa_lt,mk_fpa_geq:e._Z3_mk_fpa_geq,mk_fpa_gt:e._Z3_mk_fpa_gt,mk_fpa_eq:e._Z3_mk_fpa_eq,mk_fpa_is_normal:e._Z3_mk_fpa_is_normal,mk_fpa_is_subnormal:e._Z3_mk_fpa_is_subnormal,mk_fpa_is_zero:e._Z3_mk_fpa_is_zero,mk_fpa_is_infinite:e._Z3_mk_fpa_is_infinite,mk_fpa_is_nan:e._Z3_mk_fpa_is_nan,mk_fpa_is_negative:e._Z3_mk_fpa_is_negative,mk_fpa_is_positive:e._Z3_mk_fpa_is_positive,mk_fpa_to_fp_bv:e._Z3_mk_fpa_to_fp_bv,mk_fpa_to_fp_float:e._Z3_mk_fpa_to_fp_float,mk_fpa_to_fp_real:e._Z3_mk_fpa_to_fp_real,mk_fpa_to_fp_signed:e._Z3_mk_fpa_to_fp_signed,mk_fpa_to_fp_unsigned:e._Z3_mk_fpa_to_fp_unsigned,mk_fpa_to_ubv:e._Z3_mk_fpa_to_ubv,mk_fpa_to_sbv:e._Z3_mk_fpa_to_sbv,mk_fpa_to_real:e._Z3_mk_fpa_to_real,fpa_get_ebits:function(p,h){let v=e.ccall("Z3_fpa_get_ebits","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},fpa_get_sbits:function(p,h){let v=e.ccall("Z3_fpa_get_sbits","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},fpa_is_numeral_nan:function(p,h){return e.ccall("Z3_fpa_is_numeral_nan","boolean",["number","number"],[p,h])},fpa_is_numeral_inf:function(p,h){return e.ccall("Z3_fpa_is_numeral_inf","boolean",["number","number"],[p,h])},fpa_is_numeral_zero:function(p,h){return e.ccall("Z3_fpa_is_numeral_zero","boolean",["number","number"],[p,h])},fpa_is_numeral_normal:function(p,h){return e.ccall("Z3_fpa_is_numeral_normal","boolean",["number","number"],[p,h])},fpa_is_numeral_subnormal:function(p,h){return e.ccall("Z3_fpa_is_numeral_subnormal","boolean",["number","number"],[p,h])},fpa_is_numeral_positive:function(p,h){return e.ccall("Z3_fpa_is_numeral_positive","boolean",["number","number"],[p,h])},fpa_is_numeral_negative:function(p,h){return e.ccall("Z3_fpa_is_numeral_negative","boolean",["number","number"],[p,h])},fpa_get_numeral_sign_bv:e._Z3_fpa_get_numeral_sign_bv,fpa_get_numeral_significand_bv:e._Z3_fpa_get_numeral_significand_bv,fpa_get_numeral_sign:function(p,h){return e.ccall("Z3_fpa_get_numeral_sign","boolean",["number","number","number"],[p,h,f])?u(0):null},fpa_get_numeral_significand_string:function(p,h){return e.ccall("Z3_fpa_get_numeral_significand_string","string",["number","number"],[p,h])},fpa_get_numeral_significand_uint64:function(p,h){return e.ccall("Z3_fpa_get_numeral_significand_uint64","boolean",["number","number","number"],[p,h,f])?Z(0):null},fpa_get_numeral_exponent_string:function(p,h,v){return e.ccall("Z3_fpa_get_numeral_exponent_string","string",["number","number","boolean"],[p,h,v])},fpa_get_numeral_exponent_int64:function(p,h,v){return e.ccall("Z3_fpa_get_numeral_exponent_int64","boolean",["number","number","number","boolean"],[p,h,f,v])?re(0):null},fpa_get_numeral_exponent_bv:e._Z3_fpa_get_numeral_exponent_bv,mk_fpa_to_ieee_bv:e._Z3_mk_fpa_to_ieee_bv,mk_fpa_to_fp_int_real:e._Z3_mk_fpa_to_fp_int_real,mk_optimize:e._Z3_mk_optimize,optimize_inc_ref:e._Z3_optimize_inc_ref,optimize_dec_ref:e._Z3_optimize_dec_ref,optimize_assert:e._Z3_optimize_assert,optimize_assert_and_track:e._Z3_optimize_assert_and_track,optimize_assert_soft:function(p,h,v,I,X){let ie=e.ccall("Z3_optimize_assert_soft","number",["number","number","number","string","number"],[p,h,v,I,X]);return ie=new Uint32Array([ie])[0],ie},optimize_maximize:function(p,h,v){let I=e.ccall("Z3_optimize_maximize","number",["number","number","number"],[p,h,v]);return I=new Uint32Array([I])[0],I},optimize_minimize:function(p,h,v){let I=e.ccall("Z3_optimize_minimize","number",["number","number","number"],[p,h,v]);return I=new Uint32Array([I])[0],I},optimize_push:e._Z3_optimize_push,optimize_pop:e._Z3_optimize_pop,optimize_set_initial_value:e._Z3_optimize_set_initial_value,optimize_check:async function(p,h,v){return await e.async_call(()=>e.ccall("async_Z3_optimize_check","void",["number","number","number","array"],[p,h,v.length,i(v)]))},optimize_get_reason_unknown:function(p,h){return e.ccall("Z3_optimize_get_reason_unknown","string",["number","number"],[p,h])},optimize_get_model:e._Z3_optimize_get_model,optimize_get_unsat_core:e._Z3_optimize_get_unsat_core,optimize_set_params:e._Z3_optimize_set_params,optimize_get_param_descrs:e._Z3_optimize_get_param_descrs,optimize_get_lower:e._Z3_optimize_get_lower,optimize_get_upper:e._Z3_optimize_get_upper,optimize_get_lower_as_vector:e._Z3_optimize_get_lower_as_vector,optimize_get_upper_as_vector:e._Z3_optimize_get_upper_as_vector,optimize_to_string:function(p,h){return e.ccall("Z3_optimize_to_string","string",["number","number"],[p,h])},optimize_from_string:function(p,h,v){return e.ccall("Z3_optimize_from_string","void",["number","number","string"],[p,h,v])},optimize_from_file:function(p,h,v){return e.ccall("Z3_optimize_from_file","void",["number","number","string"],[p,h,v])},optimize_get_help:function(p,h){return e.ccall("Z3_optimize_get_help","string",["number","number"],[p,h])},optimize_get_statistics:e._Z3_optimize_get_statistics,optimize_get_assertions:e._Z3_optimize_get_assertions,optimize_get_objectives:e._Z3_optimize_get_objectives,polynomial_subresultants:function(p,h,v,I){return e.async_call(e._async_Z3_polynomial_subresultants,p,h,v,I)},rcf_del:e._Z3_rcf_del,rcf_mk_rational:function(p,h){return e.ccall("Z3_rcf_mk_rational","number",["number","string"],[p,h])},rcf_mk_small_int:e._Z3_rcf_mk_small_int,rcf_mk_pi:e._Z3_rcf_mk_pi,rcf_mk_e:e._Z3_rcf_mk_e,rcf_mk_infinitesimal:e._Z3_rcf_mk_infinitesimal,rcf_mk_roots:function(p,h){let v=e._malloc(4*h.length);try{let I=e.ccall("Z3_rcf_mk_roots","number",["number","number","array","number"],[p,h.length,i(h),v]);return I=new Uint32Array([I])[0],{rv:I,roots:l(v,h.length)}}finally{e._free(v)}},rcf_add:e._Z3_rcf_add,rcf_sub:e._Z3_rcf_sub,rcf_mul:e._Z3_rcf_mul,rcf_div:e._Z3_rcf_div,rcf_neg:e._Z3_rcf_neg,rcf_inv:e._Z3_rcf_inv,rcf_power:e._Z3_rcf_power,rcf_lt:function(p,h,v){return e.ccall("Z3_rcf_lt","boolean",["number","number","number"],[p,h,v])},rcf_gt:function(p,h,v){return e.ccall("Z3_rcf_gt","boolean",["number","number","number"],[p,h,v])},rcf_le:function(p,h,v){return e.ccall("Z3_rcf_le","boolean",["number","number","number"],[p,h,v])},rcf_ge:function(p,h,v){return e.ccall("Z3_rcf_ge","boolean",["number","number","number"],[p,h,v])},rcf_eq:function(p,h,v){return e.ccall("Z3_rcf_eq","boolean",["number","number","number"],[p,h,v])},rcf_neq:function(p,h,v){return e.ccall("Z3_rcf_neq","boolean",["number","number","number"],[p,h,v])},rcf_num_to_string:function(p,h,v,I){return e.ccall("Z3_rcf_num_to_string","string",["number","number","boolean","boolean"],[p,h,v,I])},rcf_num_to_decimal_string:function(p,h,v){return e.ccall("Z3_rcf_num_to_decimal_string","string",["number","number","number"],[p,h,v])},rcf_get_numerator_denominator:function(p,h){return e.ccall("Z3_rcf_get_numerator_denominator","void",["number","number","number","number"],[p,h,f,f+4]),{n:_(0),d:_(1)}},rcf_is_rational:function(p,h){return e.ccall("Z3_rcf_is_rational","boolean",["number","number"],[p,h])},rcf_is_algebraic:function(p,h){return e.ccall("Z3_rcf_is_algebraic","boolean",["number","number"],[p,h])},rcf_is_infinitesimal:function(p,h){return e.ccall("Z3_rcf_is_infinitesimal","boolean",["number","number"],[p,h])},rcf_is_transcendental:function(p,h){return e.ccall("Z3_rcf_is_transcendental","boolean",["number","number"],[p,h])},rcf_extension_index:function(p,h){let v=e.ccall("Z3_rcf_extension_index","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},rcf_transcendental_name:e._Z3_rcf_transcendental_name,rcf_infinitesimal_name:e._Z3_rcf_infinitesimal_name,rcf_num_coefficients:function(p,h){let v=e.ccall("Z3_rcf_num_coefficients","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},rcf_coefficient:e._Z3_rcf_coefficient,rcf_num_sign_conditions:function(p,h){let v=e.ccall("Z3_rcf_num_sign_conditions","number",["number","number"],[p,h]);return v=new Uint32Array([v])[0],v},rcf_sign_condition_sign:e._Z3_rcf_sign_condition_sign,rcf_num_sign_condition_coefficients:function(p,h,v){let I=e.ccall("Z3_rcf_num_sign_condition_coefficients","number",["number","number","number"],[p,h,v]);return I=new Uint32Array([I])[0],I},rcf_sign_condition_coefficient:e._Z3_rcf_sign_condition_coefficient,fixedpoint_query_from_lvl:function(p,h,v,I){return e.async_call(e._async_Z3_fixedpoint_query_from_lvl,p,h,v,I)},fixedpoint_get_ground_sat_answer:e._Z3_fixedpoint_get_ground_sat_answer,fixedpoint_get_rules_along_trace:e._Z3_fixedpoint_get_rules_along_trace,fixedpoint_get_rule_names_along_trace:e._Z3_fixedpoint_get_rule_names_along_trace,fixedpoint_add_invariant:e._Z3_fixedpoint_add_invariant,fixedpoint_get_reachable:e._Z3_fixedpoint_get_reachable,qe_model_project:function(p,h,v,I){return e.ccall("Z3_qe_model_project","number",["number","number","number","array","number"],[p,h,v.length,i(v),I])},qe_model_project_skolem:function(p,h,v,I,X){return e.ccall("Z3_qe_model_project_skolem","number",["number","number","number","array","number","number"],[p,h,v.length,i(v),I,X])},qe_model_project_with_witness:function(p,h,v,I,X){return e.ccall("Z3_qe_model_project_with_witness","number",["number","number","number","array","number","number"],[p,h,v.length,i(v),I,X])},model_extrapolate:e._Z3_model_extrapolate,qe_lite:e._Z3_qe_lite}}}return Fl}var wm;function Hh(){return wm||(wm=1,function(a){var r=Bo.__createBinding||(Object.create?function(i,o,l,f){f===void 0&&(f=l);var y=Object.getOwnPropertyDescriptor(o,l);(!y||("get"in y?!o.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(i,f,y)}:function(i,o,l,f){f===void 0&&(f=l),i[f]=o[l]}),e=Bo.__exportStar||function(i,o){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&r(o,i,l)};Object.defineProperty(a,"__esModule",{value:!0}),e(Wh(),a),e(Wb(),a)}(Bo)),Bo}var zi={},xm;function du(){if(xm)return zi;xm=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.Z3AssertionError=zi.Z3Error=void 0;class a extends Error{}zi.Z3Error=a;class r extends a{}return zi.Z3AssertionError=r,zi}var Ls={},Em;function Hb(){if(Em)return Ls;Em=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.assertExhaustive=r,Ls.assert=e,Ls.allSatisfy=i;const a=du();function r(o){throw new Error("Unexpected code execution detected, should be caught at compile time")}function e(o,l){if(!o)throw new a.Z3AssertionError(l??"Assertion failed")}function i(o,l){let f=!1;for(const y of o)if(f=!0,!l(y))return!1;return f===!0?!0:null}return Ls}var Sm;function Xb(){if(Sm)return zl;Sm=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.createApi=y;const a=Bb(),r=Hh(),e=du(),i=Hb(),o=17,l=new a.Mutex;function f(_){const w=_!==null&&(typeof _=="object"||typeof _=="function")&&_.numerator!==null&&(typeof _.numerator=="number"||typeof _.numerator=="bigint")&&_.denominator!==null&&(typeof _.denominator=="number"||typeof _.denominator=="bigint");return w&&(0,i.assert)((typeof _.numerator!="number"||Number.isSafeInteger(_.numerator))&&(typeof _.denominator!="number"||Number.isSafeInteger(_.denominator)),"Fraction numerator and denominator must be integers"),w}function y(_){const w=new FinalizationRegistry(be=>be());function u(be){_.enable_trace(be)}function P(be){_.disable_trace(be)}function Z(){return _.get_version()}function $(){const{major:be,minor:Ze,build_number:$e}=_.get_version();return`${be}.${Ze}.${$e}`}function re(){return _.get_full_version()}function p(be){return _.open_log(be)}function h(be){_.append_log(be)}function v(be,Ze){typeof be=="string"?_.global_param_set(be,Ze.toString()):((0,i.assert)(Ze===void 0,"Can't provide a Record and second parameter to set_param at the same time"),Object.entries(be).forEach(([$e,E])=>v($e,E)))}function I(){_.global_param_reset_all()}function X(be){return _.global_param_get(be)}function ie(be,Ze){const $e=_.mk_config();Ze!=null&&Object.entries(Ze).forEach(([b,m])=>R(_.set_param_value($e,b,m.toString())));const E=_.mk_context_rc($e);_.set_ast_print_mode(E,r.Z3_ast_print_mode.Z3_PRINT_SMTLIB2_COMPLIANT),_.del_config($e);function Y(...b){b.forEach(m=>(0,i.assert)("ctx"in m?et===m.ctx:et===m,"Context mismatch"))}function Jt(b){if(b==null)throw new TypeError("Expected non-null pointer")}function Sr(){if(_.get_error_code(E)!==r.Z3_error_code.Z3_OK)throw new Error(_.get_error_msg(et.ptr,_.get_error_code(et.ptr)))}function R(b){return Sr(),b}function Ne(b){return R(typeof b=="number"?_.mk_int_symbol(E,b):_.mk_string_symbol(E,b))}function St(b){const m=R(_.get_symbol_kind(E,b));switch(m){case r.Z3_symbol_kind.Z3_INT_SYMBOL:return _.get_symbol_int(E,b);case r.Z3_symbol_kind.Z3_STRING_SYMBOL:return _.get_symbol_string(E,b);default:(0,i.assertExhaustive)(m)}}function er(b,m){const S=_.mk_params(E);return _.params_inc_ref(E,S),typeof m=="boolean"?_.params_set_bool(E,S,Ne(b),m):typeof m=="number"?Number.isInteger(m)?R(_.params_set_uint(E,S,Ne(b),m)):R(_.params_set_double(E,S,Ne(b),m)):typeof m=="string"&&R(_.params_set_symbol(E,S,Ne(b),Ne(m))),S}function mt(b){switch(R(_.get_ast_kind(E,b))){case r.Z3_ast_kind.Z3_SORT_AST:return Ge(b);case r.Z3_ast_kind.Z3_FUNC_DECL_AST:return new dr(b);default:return W(b)}}function Ge(b){switch(R(_.get_sort_kind(E,b))){case r.Z3_sort_kind.Z3_BOOL_SORT:return new co(b);case r.Z3_sort_kind.Z3_INT_SORT:case r.Z3_sort_kind.Z3_REAL_SORT:return new mr(b);case r.Z3_sort_kind.Z3_BV_SORT:return new _s(b);case r.Z3_sort_kind.Z3_ARRAY_SORT:return new xi(b);default:return new jt(b)}}function W(b){const m=R(_.get_ast_kind(E,b));if(m===r.Z3_ast_kind.Z3_QUANTIFIER_AST)return _.is_lambda(E,b)?new ja(b):new dn(b);switch(R(_.get_sort_kind(E,_.get_sort(E,b)))){case r.Z3_sort_kind.Z3_BOOL_SORT:return new we(b);case r.Z3_sort_kind.Z3_INT_SORT:return m===r.Z3_ast_kind.Z3_NUMERAL_AST?new fn(b):new Ce(b);case r.Z3_sort_kind.Z3_REAL_SORT:return m===r.Z3_ast_kind.Z3_NUMERAL_AST?new Zn(b):new Ce(b);case r.Z3_sort_kind.Z3_BV_SORT:return m===r.Z3_ast_kind.Z3_NUMERAL_AST?new Dn(b):new ve(b);case r.Z3_sort_kind.Z3_ARRAY_SORT:return new ht(b);default:return new ir(b)}}function fe(b){const m=[];for(const S of b)Qi(S)?m.push(...S.values()):m.push(S);return m}function oe(b){return Or(b)?b:new Xr(b)}function k(b,m){(0,i.assert)(m.length>0,"At least one argument expected");let S=oe(m[0]);for(let z=1;z<m.length;z++)S=new Xr(R(b(E,S.ptr,oe(m[z]).ptr)));return S}function G(){R(_.interrupt(E))}function Ee(b){const m=b instanceof nr;return m&&Y(b),m}function Oe(b){const m=b instanceof rr;return m&&Y(b),m}function Ie(b){const m=b instanceof jt;return m&&Y(b),m}function Te(b){const m=b instanceof dr;return m&&Y(b),m}function Ue(b){const m=b instanceof ls;return m&&Y(b),m}function ke(b){if(!Fe(b))return!1;const m=R(_.get_ast_kind(E,b.ast));return m===r.Z3_ast_kind.Z3_NUMERAL_AST||m===r.Z3_ast_kind.Z3_APP_AST}function Le(b){return Fe(b)&&ke(b)&&b.numArgs()===0}function Fe(b){const m=b instanceof ir;return m&&Y(b),m}function li(b){return Fe(b)&&R(_.get_ast_kind(E,b.ast))===r.Z3_ast_kind.Z3_VAR_AST}function tr(b,m){return Fe(b)&&ke(b)&&b.decl().kind()===m}function an(b){const m=b instanceof ir&&b.sort.kind()===r.Z3_sort_kind.Z3_BOOL_SORT;return m&&Y(b),m}function Xs(b){return tr(b,r.Z3_decl_kind.Z3_OP_TRUE)}function ha(b){return tr(b,r.Z3_decl_kind.Z3_OP_FALSE)}function pa(b){return tr(b,r.Z3_decl_kind.Z3_OP_AND)}function Qs(b){return tr(b,r.Z3_decl_kind.Z3_OP_OR)}function ga(b){return tr(b,r.Z3_decl_kind.Z3_OP_IMPLIES)}function Ys(b){return tr(b,r.Z3_decl_kind.Z3_OP_NOT)}function ui(b){return tr(b,r.Z3_decl_kind.Z3_OP_EQ)}function An(b){return tr(b,r.Z3_decl_kind.Z3_OP_DISTINCT)}function Ks(b){const m=b instanceof Ei;return m&&Y(b),m}function In(b){const m=b instanceof Ce;return m&&Y(b),m}function ya(b){const m=b instanceof mr;return m&&Y(b),m}function Xi(b){return In(b)&&Wr(b.sort)}function ba(b){const m=b instanceof fn;return m&&Y(b),m}function Wr(b){return Ie(b)&&b.kind()===r.Z3_sort_kind.Z3_INT_SORT}function kn(b){return In(b)&&ln(b.sort)}function va(b){const m=b instanceof Zn;return m&&Y(b),m}function ln(b){return Ie(b)&&b.kind()===r.Z3_sort_kind.Z3_REAL_SORT}function Hr(b){const m=b instanceof _s;return m&&Y(b),m}function mu(b){const m=b instanceof ve;return m&&Y(b),m}function wa(b){const m=b instanceof Dn;return m&&Y(b),m}function xa(b){const m=b instanceof xi;return m&&Y(b),m}function hu(b){const m=b instanceof ht;return m&&Y(b),m}function Js(b){return tr(b,r.Z3_decl_kind.Z3_OP_CONST_ARRAY)}function Or(b){const m=b instanceof Xr;return m&&Y(b),m}function un(b){const m=b instanceof _n;return m&&Y(b),m}function Qi(b){const m=b instanceof hr;return m&&Y(b),m}function eo(b,m){return b.eqIdentity(m)}function Nn(b){return(0,i.assert)(li(b),"Z3 bound variable expected"),_.get_index_value(E,b.ast)}function Be(b){if(typeof b=="boolean")return Ot.val(b);if(typeof b=="number"){if(!Number.isFinite(b))throw new Error(`cannot represent infinity/NaN (got ${b})`);return Math.floor(b)===b?Ct.val(b):ct.val(b)}else{if(f(b))return ct.val(b);if(typeof b=="bigint")return Ct.val(b);if(Fe(b))return b}(0,i.assert)(!1)}async function Ea(...b){const m=new et.Solver;m.add(...b);const S=await m.check();return S==="sat"?m.model():S}async function Sa(b){const m=await _.simplify(E,b.ast);return W(R(m))}const Oa={declare:b=>new jt(_.mk_uninterpreted_sort(E,Ne(b)))},Pa={declare:(b,...m)=>{const S=m.length-1,z=m[S];Y(z);const he=[];for(let Se=0;Se<S;Se++)Y(m[Se]),he.push(m[Se].ptr);return new dr(_.mk_func_decl(E,Ne(b),he,z.ptr))},fresh:(...b)=>{const m=b.length-1,S=b[m];Y(S);const z=[];for(let he=0;he<m;he++)Y(b[he]),z.push(b[he].ptr);return new dr(_.mk_fresh_func_decl(E,"f",z,S.ptr))}},Ta={declare:(b,...m)=>{const S=m.length-1,z=m[S];Y(z);const he=[];for(let Se=0;Se<S;Se++)Y(m[Se]),he.push(m[Se].ptr);return new dr(_.mk_rec_func_decl(E,Ne(b),he,z.ptr))},addDefinition:(b,m,S)=>{Y(b,...m,S),R(_.add_rec_def(E,b.ptr,m.map(z=>z.ast),S.ast))}},Ot={sort:()=>new co(_.mk_bool_sort(E)),const:b=>new we(_.mk_const(E,Ne(b),Ot.sort().ptr)),consts:b=>(typeof b=="string"&&(b=b.split(" ")),b.map(m=>Ot.const(m))),vector:(b,m)=>{const S=[];for(let z=0;z<m;z++)S.push(Ot.const(`${b}__${z}`));return S},fresh:(b="b")=>new we(_.mk_fresh_const(E,b,Ot.sort().ptr)),val:b=>b?new we(_.mk_true(E)):new we(_.mk_false(E))},Ct={sort:()=>new mr(_.mk_int_sort(E)),const:b=>new Ce(_.mk_const(E,Ne(b),Ct.sort().ptr)),consts:b=>(typeof b=="string"&&(b=b.split(" ")),b.map(m=>Ct.const(m))),vector:(b,m)=>{const S=[];for(let z=0;z<m;z++)S.push(Ct.const(`${b}__${z}`));return S},fresh:(b="x")=>new Ce(_.mk_fresh_const(E,b,Ct.sort().ptr)),val:b=>((0,i.assert)(typeof b=="bigint"||typeof b=="string"||Number.isSafeInteger(b)),new fn(R(_.mk_numeral(E,b.toString(),Ct.sort().ptr))))},ct={sort:()=>new mr(_.mk_real_sort(E)),const:b=>new Ce(R(_.mk_const(E,Ne(b),ct.sort().ptr))),consts:b=>(typeof b=="string"&&(b=b.split(" ")),b.map(m=>ct.const(m))),vector:(b,m)=>{const S=[];for(let z=0;z<m;z++)S.push(ct.const(`${b}__${z}`));return S},fresh:(b="b")=>new Ce(_.mk_fresh_const(E,b,ct.sort().ptr)),val:b=>(f(b)&&(b=`${b.numerator}/${b.denominator}`),new Zn(_.mk_numeral(E,b.toString(),ct.sort().ptr)))},Pr={sort(b){return(0,i.assert)(Number.isSafeInteger(b),"number of bits must be an integer"),new _s(_.mk_bv_sort(E,b))},const(b,m){return new ve(R(_.mk_const(E,Ne(b),Hr(m)?m.ptr:Pr.sort(m).ptr)))},consts(b,m){return typeof b=="string"&&(b=b.split(" ")),b.map(S=>Pr.const(S,m))},val(b,m){return b===!0?Pr.val(1,m):b===!1?Pr.val(0,m):new Dn(R(_.mk_numeral(E,b.toString(),Hr(m)?m.ptr:Pr.sort(m).ptr)))}},Tr={sort(...b){const m=b.length-1,S=b[m],z=b[0];if(m===1)return new xi(_.mk_array_sort(E,z.ptr,S.ptr));const he=b.slice(0,m);return new xi(_.mk_array_sort_n(E,he.map(Se=>Se.ptr),S.ptr))},const(b,...m){return new ht(R(_.mk_const(E,Ne(b),Tr.sort(...m).ptr)))},consts(b,...m){return typeof b=="string"&&(b=b.split(" ")),b.map(S=>Tr.const(S,...m))},K(b,m){return new ht(R(_.mk_const_array(E,b.ptr,m.ptr)))}},Ra={sort(b){return Tr.sort(b,Ot.sort())},const(b,m){return new Pt(R(_.mk_const(E,Ne(b),Tr.sort(m,Ot.sort()).ptr)))},consts(b,m){return typeof b=="string"&&(b=b.split(" ")),b.map(S=>Ra.const(S,m))},empty(b){return pi(b)},val(b,m){var S=pi(m);for(const z of b)S=os(S,z);return S}};function cn(b,m,S){return Or(b)&&un(m)&&un(S)?zt(b,m,S):((0,i.assert)(!Or(b)&&!un(m)&&!un(S),"Mixed expressions and goals"),typeof b=="boolean"&&(b=Ot.val(b)),m=Be(m),S=Be(S),W(R(_.mk_ite(E,b.ptr,m.ast,S.ast))))}function Yi(...b){return(0,i.assert)(b.length>0,"Can't make Distinct ouf of nothing"),new we(R(_.mk_distinct(E,b.map(m=>(m=Be(m),Y(m),m.ast)))))}function ci(b,m){return Y(m),W(R(_.mk_const(E,Ne(b),m.ptr)))}function to(b,m){return Y(m),typeof b=="string"&&(b=b.split(" ")),b.map(S=>ci(S,m))}function pu(b,m="c"){return Y(b),W(_.mk_fresh_const(b.ctx.ptr,m,b.ptr))}function gu(b,m){return Y(m),W(_.mk_bound(m.ctx.ptr,b,m.ptr))}function ro(b,m){return b=Be(b),m=Be(m),Y(b,m),new we(R(_.mk_implies(E,b.ptr,m.ptr)))}function Rr(b,m){return b=Be(b),m=Be(m),Y(b,m),new we(R(_.mk_iff(E,b.ptr,m.ptr)))}function Aa(b,m){return b=Be(b),m=Be(m),Y(b,m),b.eq(m)}function Ki(b,m){return b=Be(b),m=Be(m),Y(b,m),new we(R(_.mk_xor(E,b.ptr,m.ptr)))}function no(b){return typeof b=="boolean"&&(b=Be(b)),Y(b),Or(b)?new Xr(R(_.probe_not(E,b.ptr))):new we(R(_.mk_not(E,b.ptr)))}function Ji(...b){if(b.length==1&&b[0]instanceof et.AstVector&&(b=[...b[0].values()],(0,i.assert)((0,i.allSatisfy)(b,an)??!0,"AstVector containing not bools")),(0,i.allSatisfy)(b,Or)??!1)return k(_.probe_and,b);{const S=b.map(Be);return Y(...S),new we(R(_.mk_and(E,S.map(z=>z.ptr))))}}function es(...b){if(b.length==1&&b[0]instanceof et.AstVector&&(b=[...b[0].values()],(0,i.assert)((0,i.allSatisfy)(b,an)??!0,"AstVector containing not bools")),(0,i.allSatisfy)(b,Or)??!1)return k(_.probe_or,b);{const S=b.map(Be);return Y(...S),new we(R(_.mk_or(E,S.map(z=>z.ptr))))}}function Ia(b,m,S){if(Y(...b),b.length!==m.length)throw new Error("Number of arguments and coefficients must match");return new we(R(_.mk_pbeq(E,b.map(z=>z.ast),m,S)))}function ka(b,m,S){if(Y(...b),b.length!==m.length)throw new Error("Number of arguments and coefficients must match");return new we(R(_.mk_pbge(E,b.map(z=>z.ast),m,S)))}function yu(b,m,S){if(Y(...b),b.length!==m.length)throw new Error("Number of arguments and coefficients must match");return new we(R(_.mk_pble(E,b.map(z=>z.ast),m,S)))}function bu(b,m,S=1){if(!(0,i.allSatisfy)(b,Le))throw new Error("Quantifier variables must be constants");return new dn(R(_.mk_quantifier_const_ex(E,!0,S,Ne(""),Ne(""),b.map(z=>z.ptr),[],[],m.ptr)))}function Je(b,m,S=1){if(!(0,i.allSatisfy)(b,Le))throw new Error("Quantifier variables must be constants");return new dn(R(_.mk_quantifier_const_ex(E,!1,S,Ne(""),Ne(""),b.map(z=>z.ptr),[],[],m.ptr)))}function vu(b,m){if(!(0,i.allSatisfy)(b,Le))throw new Error("Quantifier variables must be constants");return new ja(R(_.mk_lambda_const(E,b.map(S=>S.ptr),m.ptr)))}function _i(b){return b=Be(b),Y(b),(0,i.assert)(Xi(b),"Int expression expected"),new Ce(R(_.mk_int2real(E,b.ast)))}function Na(b){return Fe(b)||(b=ct.val(b)),Y(b),(0,i.assert)(kn(b),"Real expression expected"),new Ce(R(_.mk_real2int(E,b.ast)))}function ts(b){return Fe(b)||(b=ct.val(b)),Y(b),(0,i.assert)(kn(b),"Real expression expected"),new we(R(_.mk_is_int(E,b.ast)))}function wu(b){return Fe(b)||(b=ct.val(b)),b.pow("1/2")}function Ca(b){return Fe(b)||(b=ct.val(b)),b.pow("1/3")}function rs(b,m){return Y(b),new Ce(R(_.mk_bv2int(E,b.ast,m)))}function fr(b,m){return In(b)?(0,i.assert)(Xi(b),"parameter must be an integer"):((0,i.assert)(typeof b!="number"||Number.isSafeInteger(b),"parameter must not have decimal places"),b=Ct.val(b)),new ve(R(_.mk_int2bv(E,m,b.ast)))}function xu(...b){return Y(...b),b.reduce((m,S)=>new ve(R(_.mk_concat(E,m.ast,S.ast))))}function zt(b,m,S){return Y(b,m,S),new _n(R(_.tactic_cond(E,b.ptr,m.ptr,S.ptr)))}function La(b,m){return new we(R(_.mk_lt(E,b.ast,b.sort.cast(m).ast)))}function Ma(b,m){return new we(R(_.mk_gt(E,b.ast,b.sort.cast(m).ast)))}function Za(b,m){return new we(R(_.mk_le(E,b.ast,b.sort.cast(m).ast)))}function fi(b,m){return new we(R(_.mk_ge(E,b.ast,b.sort.cast(m).ast)))}function di(b,m){return new we(R(_.mk_bvult(E,b.ast,b.sort.cast(m).ast)))}function Cn(b,m){return new we(R(_.mk_bvugt(E,b.ast,b.sort.cast(m).ast)))}function mi(b,m){return new we(R(_.mk_bvule(E,b.ast,b.sort.cast(m).ast)))}function Da(b,m){return new we(R(_.mk_bvuge(E,b.ast,b.sort.cast(m).ast)))}function za(b,m){return new we(R(_.mk_bvslt(E,b.ast,b.sort.cast(m).ast)))}function ns(b,m){return new we(R(_.mk_bvsgt(E,b.ast,b.sort.cast(m).ast)))}function io(b,m){return new we(R(_.mk_bvsle(E,b.ast,b.sort.cast(m).ast)))}function is(b,m){return new we(R(_.mk_bvsge(E,b.ast,b.sort.cast(m).ast)))}function Ln(b,m,S){return new ve(R(_.mk_extract(E,b,m,S.ast)))}function so(b,...m){const S=m.map((he,Se)=>b.domain_n(Se).cast(he));if(S.length===1)return W(R(_.mk_select(E,b.ast,S[0].ast)));const z=S.map(he=>he.ast);return W(R(_.mk_select_n(E,b.ast,z)))}function hi(b,...m){const S=m.map((he,Se)=>Se===m.length-1?b.range().cast(he):b.domain_n(Se).cast(he));if(S.length<=1)throw new Error("Array store requires both index and value arguments");if(S.length===2)return W(R(_.mk_store(E,b.ast,S[0].ast,S[1].ast)));const z=S.slice(0,S.length-1).map(he=>he.ast);return W(R(_.mk_store_n(E,b.ast,z,S[S.length-1].ast)))}function ze(...b){return new Pt(R(_.mk_set_union(E,b.map(m=>m.ast))))}function oo(...b){return new Pt(R(_.mk_set_intersect(E,b.map(m=>m.ast))))}function ao(b,m){return new Pt(R(_.mk_set_difference(E,b.ast,m.ast)))}function ss(b,m){const S=Ct.sort().cast(m);return new we(R(_.mk_set_has_size(E,b.ast,S.ast)))}function os(b,m){const S=b.elemSort().cast(m);return new Pt(R(_.mk_set_add(E,b.ast,S.ast)))}function lo(b,m){const S=b.elemSort().cast(m);return new Pt(R(_.mk_set_del(E,b.ast,S.ast)))}function uo(b){return new Pt(R(_.mk_set_complement(E,b.ast)))}function pi(b){return new Pt(R(_.mk_empty_set(E,b.ptr)))}function as(b){return new Pt(R(_.mk_full_set(E,b.ptr)))}function Ar(b,m){const S=m.elemSort().cast(b);return new we(R(_.mk_set_member(E,S.ast,m.ast)))}function Ir(b,m){return new we(R(_.mk_set_subset(E,b.ast,m.ast)))}class rr{constructor(m){this.ptr=m,this.ctx=et;const S=this.ast;_.inc_ref(E,S),w.register(this,()=>_.dec_ref(E,S),this)}get ast(){return this.ptr}id(){return _.get_ast_id(E,this.ast)}eqIdentity(m){return Y(m),R(_.is_eq_ast(E,this.ast,m.ast))}neqIdentity(m){return Y(m),!this.eqIdentity(m)}sexpr(){return _.ast_to_string(E,this.ast)}hash(){return _.get_ast_hash(E,this.ast)}toString(){return this.sexpr()}}class gi{get ptr(){return Jt(this._ptr),this._ptr}constructor(m=_.mk_solver(E)){this.ctx=et;let S;typeof m=="string"?S=R(_.mk_solver_for_logic(E,Ne(m))):S=m,this._ptr=S,_.solver_inc_ref(E,S),w.register(this,()=>_.solver_dec_ref(E,S),this)}set(m,S){_.solver_set_params(E,this.ptr,er(m,S))}push(){_.solver_push(E,this.ptr)}pop(m=1){_.solver_pop(E,this.ptr,m)}numScopes(){return _.solver_get_num_scopes(E,this.ptr)}reset(){_.solver_reset(E,this.ptr)}add(...m){fe(m).forEach(S=>{Y(S),R(_.solver_assert(E,this.ptr,S.ast))})}addAndTrack(m,S){typeof S=="string"&&(S=Ot.const(S)),(0,i.assert)(Le(S),"Provided expression that is not a constant to addAndTrack"),R(_.solver_assert_and_track(E,this.ptr,m.ast,S.ast))}assertions(){return new hr(R(_.solver_get_assertions(E,this.ptr)))}async check(...m){const S=fe(m).map(he=>(Y(he),he.ast)),z=await l.runExclusive(()=>R(_.solver_check_assumptions(E,this.ptr,S)));switch(z){case r.Z3_lbool.Z3_L_FALSE:return"unsat";case r.Z3_lbool.Z3_L_TRUE:return"sat";case r.Z3_lbool.Z3_L_UNDEF:return"unknown";default:(0,i.assertExhaustive)(z)}}model(){return new nr(R(_.solver_get_model(E,this.ptr)))}toString(){return R(_.solver_to_string(E,this.ptr))}fromString(m){_.solver_from_string(E,this.ptr,m),Sr()}release(){_.solver_dec_ref(E,this.ptr),this._ptr=null,w.unregister(this)}}class yi{get ptr(){return Jt(this._ptr),this._ptr}constructor(m=_.mk_optimize(E)){this.ctx=et;let S;S=m,this._ptr=S,_.optimize_inc_ref(E,S),w.register(this,()=>_.optimize_dec_ref(E,S),this)}set(m,S){_.optimize_set_params(E,this.ptr,er(m,S))}push(){_.optimize_push(E,this.ptr)}pop(){_.optimize_pop(E,this.ptr)}add(...m){fe(m).forEach(S=>{Y(S),R(_.optimize_assert(E,this.ptr,S.ast))})}addSoft(m,S,z=""){f(S)&&(S=`${S.numerator}/${S.denominator}`),R(_.optimize_assert_soft(E,this.ptr,m.ast,S.toString(),Ne(z)))}addAndTrack(m,S){typeof S=="string"&&(S=Ot.const(S)),(0,i.assert)(Le(S),"Provided expression that is not a constant to addAndTrack"),R(_.optimize_assert_and_track(E,this.ptr,m.ast,S.ast))}assertions(){return new hr(R(_.optimize_get_assertions(E,this.ptr)))}maximize(m){R(_.optimize_maximize(E,this.ptr,m.ast))}minimize(m){R(_.optimize_minimize(E,this.ptr,m.ast))}async check(...m){const S=fe(m).map(he=>(Y(he),he.ast)),z=await l.runExclusive(()=>R(_.optimize_check(E,this.ptr,S)));switch(z){case r.Z3_lbool.Z3_L_FALSE:return"unsat";case r.Z3_lbool.Z3_L_TRUE:return"sat";case r.Z3_lbool.Z3_L_UNDEF:return"unknown";default:(0,i.assertExhaustive)(z)}}model(){return new nr(R(_.optimize_get_model(E,this.ptr)))}toString(){return R(_.optimize_to_string(E,this.ptr))}fromString(m){_.optimize_from_string(E,this.ptr,m),Sr()}release(){_.optimize_dec_ref(E,this.ptr),this._ptr=null,w.unregister(this)}}class nr{get ptr(){return Jt(this._ptr),this._ptr}constructor(m=_.mk_model(E)){this.ctx=et,this._ptr=m,_.model_inc_ref(E,m),w.register(this,()=>_.model_dec_ref(E,m),this)}length(){return _.model_get_num_consts(E,this.ptr)+_.model_get_num_funcs(E,this.ptr)}[Symbol.iterator](){return this.values()}*entries(){const m=this.length();for(let S=0;S<m;S++)yield[S,this.get(S)]}*keys(){for(const[m]of this.entries())yield m}*values(){for(const[,m]of this.entries())yield m}decls(){return[...this.values()]}sexpr(){return R(_.model_to_string(E,this.ptr))}toString(){return this.sexpr()}eval(m,S=!1){Y(m);const z=R(_.model_eval(E,this.ptr,m.ast,S));if(z===null)throw new e.Z3Error("Failed to evaluate expression in the model");return W(z)}get(m,S){if((0,i.assert)(S===void 0||typeof m=="number"),typeof m=="number"){const z=this.length();if(m>=z)throw new RangeError(`expected index ${m} to be less than length ${z}`);if(S===void 0){const Se=R(_.model_get_num_consts(E,this.ptr));return m<Se?new dr(R(_.model_get_const_decl(E,this.ptr,m))):new dr(R(_.model_get_func_decl(E,this.ptr,m-Se)))}if(S<0&&(S+=z),S>=z)throw new RangeError(`expected index ${S} to be less than length ${z}`);const he=[];for(let Se=m;Se<S;Se++)he.push(this.get(Se));return he}else if(Te(m)||Fe(m)&&Le(m)){const z=this.getInterp(m);return(0,i.assert)(z!==null),z}else if(Ie(m))return this.getUniverse(m);(0,i.assert)(!1,"Number, declaration or constant expected")}updateValue(m,S){if(Y(m),Y(S),Fe(m)&&(m=m.decl()),Te(m)&&m.arity()!==0&&Ue(S)){const z=this.addFuncInterp(m,S.elseValue());for(let he=0;he<S.numEntries();he++){const Se=S.entry(he),Su=Se.numArgs(),Ou=Rm.Array(Su).map((M_,Ga)=>Se.argValue(Ga));z.addEntry(Ou,Se.value())}return}if(!Te(m)||m.arity()!==0)throw new e.Z3Error("Expecting 0-ary function or constant expression");if(!Oe(S))throw new e.Z3Error("Only func declarations can be assigned to func interpretations");R(_.add_const_interp(E,this.ptr,m.ptr,S.ast))}addFuncInterp(m,S){const z=R(_.add_func_interp(E,this.ptr,m.ptr,m.range().cast(S).ptr));return new ls(z)}getInterp(m){if((0,i.assert)(Te(m)||Le(m),"Declaration expected"),Le(m)&&((0,i.assert)(Fe(m)),m=m.decl()),(0,i.assert)(Te(m)),m.arity()===0){const S=R(_.model_get_const_interp(E,this.ptr,m.ptr));return S===null?null:W(S)}else{const S=R(_.model_get_func_interp(E,this.ptr,m.ptr));return S===null?null:new ls(S)}}getUniverse(m){return Y(m),new hr(R(_.model_get_sort_universe(E,this.ptr,m.ptr)))}release(){_.model_dec_ref(E,this.ptr),this._ptr=null,w.unregister(this)}}class Eu{constructor(m){this.ptr=m,this.ctx=et,_.func_entry_inc_ref(E,m),w.register(this,()=>_.func_entry_dec_ref(E,m),this)}numArgs(){return R(_.func_entry_get_num_args(E,this.ptr))}argValue(m){return W(R(_.func_entry_get_arg(E,this.ptr,m)))}value(){return W(R(_.func_entry_get_value(E,this.ptr)))}}class ls{constructor(m){this.ptr=m,this.ctx=et,_.func_interp_inc_ref(E,m),w.register(this,()=>_.func_interp_dec_ref(E,m),this)}elseValue(){return W(R(_.func_interp_get_else(E,this.ptr)))}numEntries(){return R(_.func_interp_get_num_entries(E,this.ptr))}arity(){return R(_.func_interp_get_arity(E,this.ptr))}entry(m){return new Eu(R(_.func_interp_get_entry(E,this.ptr,m)))}addEntry(m,S){const z=new hr;for(const he of m)z.push(he);Y(z),Y(S),(0,i.assert)(this.arity()===z.length(),"Number of arguments in entry doesn't match function arity"),R(_.func_interp_add_entry(E,this.ptr,z.ptr,S.ptr))}}class jt extends rr{get ast(){return _.sort_to_ast(E,this.ptr)}kind(){return _.get_sort_kind(E,this.ptr)}subsort(m){return Y(m),!1}cast(m){return Y(m),(0,i.assert)(m.sort.eqIdentity(m.sort),"Sort mismatch"),m}name(){return St(_.get_sort_name(E,this.ptr))}eqIdentity(m){return Y(m),R(_.is_eq_sort(E,this.ptr,m.ptr))}neqIdentity(m){return!this.eqIdentity(m)}}class dr extends rr{get ast(){return _.func_decl_to_ast(E,this.ptr)}name(){return St(_.get_decl_name(E,this.ptr))}arity(){return _.get_arity(E,this.ptr)}domain(m){return(0,i.assert)(m<this.arity(),"Index out of bounds"),Ge(_.get_domain(E,this.ptr,m))}range(){return Ge(_.get_range(E,this.ptr))}kind(){return _.get_decl_kind(E,this.ptr)}params(){const m=_.get_decl_num_parameters(E,this.ptr),S=[];for(let z=0;z<m;z++){const he=R(_.get_decl_parameter_kind(E,this.ptr,z));switch(he){case r.Z3_parameter_kind.Z3_PARAMETER_INT:S.push(R(_.get_decl_int_parameter(E,this.ptr,z)));break;case r.Z3_parameter_kind.Z3_PARAMETER_DOUBLE:S.push(R(_.get_decl_double_parameter(E,this.ptr,z)));break;case r.Z3_parameter_kind.Z3_PARAMETER_RATIONAL:S.push(R(_.get_decl_rational_parameter(E,this.ptr,z)));break;case r.Z3_parameter_kind.Z3_PARAMETER_SYMBOL:S.push(St(R(_.get_decl_symbol_parameter(E,this.ptr,z))));break;case r.Z3_parameter_kind.Z3_PARAMETER_SORT:S.push(new jt(R(_.get_decl_sort_parameter(E,this.ptr,z))));break;case r.Z3_parameter_kind.Z3_PARAMETER_AST:S.push(new ir(R(_.get_decl_ast_parameter(E,this.ptr,z))));break;case r.Z3_parameter_kind.Z3_PARAMETER_FUNC_DECL:S.push(new dr(R(_.get_decl_func_decl_parameter(E,this.ptr,z))));break;default:(0,i.assertExhaustive)(he)}}return S}call(...m){return(0,i.assert)(m.length===this.arity(),`Incorrect number of arguments to ${this}`),W(R(_.mk_app(E,this.ptr,m.map((S,z)=>this.domain(z).cast(S).ast))))}}class ir extends rr{get sort(){return Ge(_.get_sort(E,this.ast))}eq(m){return new we(R(_.mk_eq(E,this.ast,Be(m).ast)))}neq(m){return new we(R(_.mk_distinct(E,[this,m].map(S=>Be(S).ast))))}name(){return this.decl().name()}params(){return this.decl().params()}decl(){return(0,i.assert)(ke(this),"Z3 application expected"),new dr(R(_.get_app_decl(E,R(_.to_app(E,this.ast)))))}numArgs(){return(0,i.assert)(ke(this),"Z3 applicaiton expected"),R(_.get_app_num_args(E,R(_.to_app(E,this.ast))))}arg(m){return(0,i.assert)(ke(this),"Z3 applicaiton expected"),(0,i.assert)(m<this.numArgs(),`Invalid argument index - expected ${m} to be less than ${this.numArgs()}`),W(R(_.get_app_arg(E,R(_.to_app(E,this.ast)),m)))}children(){const m=this.numArgs();if(ke(this)){const S=[];for(let z=0;z<m;z++)S.push(this.arg(z));return S}return[]}}class us{constructor(m){this.ptr=m,this.ctx=et}}class co extends jt{cast(m){return typeof m=="boolean"&&(m=Ot.val(m)),(0,i.assert)(Fe(m),"true, false or Z3 Boolean expression expected."),(0,i.assert)(this.eqIdentity(m.sort),"Value cannot be converted into a Z3 Boolean value"),m}subsort(m){return Y(m.ctx),m instanceof mr}}class we extends ir{not(){return no(this)}and(m){return Ji(this,m)}or(m){return es(this,m)}xor(m){return Ki(this,m)}implies(m){return ro(this,m)}iff(m){return Rr(this,m)}}class Xr{constructor(m){this.ptr=m,this.ctx=et}}class _n{constructor(m){this.ctx=et;let S;typeof m=="string"?S=R(_.mk_tactic(E,m)):S=m,this.ptr=S,_.tactic_inc_ref(E,S),w.register(this,()=>_.tactic_dec_ref(E,S),this)}}class mr extends jt{cast(m){const S=Wr(this)?"IntSort":"RealSort";if(Fe(m)){const z=m.sort;if(In(m)){if(this.eqIdentity(z))return m;if(Wr(z)&&ln(this))return _i(m);(0,i.assert)(!1,"Can't cast Real to IntSort without loss")}else if(an(m))return Wr(this)?cn(m,1,0):_i(cn(m,1,0));(0,i.assert)(!1,`Can't cast expression to ${S}`)}else{if(typeof m!="boolean")return Wr(this)?((0,i.assert)(!f(m),"Can't cast fraction to IntSort"),Ct.val(m)):ct.val(m);(0,i.assert)(!1,`Can't cast primitive to ${S}`)}}}function Mn(b,...m){if(b instanceof ve){if(m.length!==1)throw new Error("BitVec add only supports 2 arguments");return new ve(R(_.mk_bvadd(E,b.ast,b.sort.cast(m[0]).ast)))}else return(0,i.assert)(b instanceof Ce),new Ce(R(_.mk_add(E,[b.ast].concat(m.map(S=>b.sort.cast(S).ast)))))}function _o(b,...m){if(b instanceof ve){if(m.length!==1)throw new Error("BitVec sub only supports 2 arguments");return new ve(R(_.mk_bvsub(E,b.ast,b.sort.cast(m[0]).ast)))}else return(0,i.assert)(b instanceof Ce),new Ce(R(_.mk_sub(E,[b.ast].concat(m.map(S=>b.sort.cast(S).ast)))))}function fo(b,...m){if(b instanceof ve){if(m.length!==1)throw new Error("BitVec mul only supports 2 arguments");return new ve(R(_.mk_bvmul(E,b.ast,b.sort.cast(m[0]).ast)))}else return(0,i.assert)(b instanceof Ce),new Ce(R(_.mk_mul(E,[b.ast].concat(m.map(S=>b.sort.cast(S).ast)))))}function bi(b,m){return b instanceof ve?new ve(R(_.mk_bvsdiv(E,b.ast,b.sort.cast(m).ast))):((0,i.assert)(b instanceof Ce),new Ce(R(_.mk_div(E,b.ast,b.sort.cast(m).ast))))}function vi(b,m){return new ve(R(_.mk_bvudiv(E,b.ast,b.sort.cast(m).ast)))}function wi(b){return b instanceof ve?new ve(R(_.mk_bvneg(E,b.ast))):((0,i.assert)(b instanceof Ce),new Ce(R(_.mk_unary_minus(E,b.ast))))}function cs(b,m){return b instanceof ve?new ve(R(_.mk_bvsrem(E,b.ast,b.sort.cast(m).ast))):((0,i.assert)(b instanceof Ce),new Ce(R(_.mk_mod(E,b.ast,b.sort.cast(m).ast))))}class Ce extends ir{add(m){return Mn(this,m)}mul(m){return fo(this,m)}sub(m){return _o(this,m)}pow(m){return new Ce(R(_.mk_power(E,this.ast,this.sort.cast(m).ast)))}div(m){return bi(this,m)}mod(m){return cs(this,m)}neg(){return wi(this)}le(m){return Za(this,m)}lt(m){return La(this,m)}gt(m){return Ma(this,m)}ge(m){return fi(this,m)}}class fn extends Ce{value(){return BigInt(this.asString())}asString(){return _.get_numeral_string(E,this.ast)}asBinary(){return _.get_numeral_binary_string(E,this.ast)}}class Zn extends Ce{value(){return{numerator:this.numerator().value(),denominator:this.denominator().value()}}numerator(){return new fn(_.get_numerator(E,this.ast))}denominator(){return new fn(_.get_denominator(E,this.ast))}asNumber(){const{numerator:m,denominator:S}=this.value(),z=m/S;return Number(z)+Number(m-z*S)/Number(S)}asDecimal(m=Number.parseInt(X("precision")??o.toString())){return _.get_numeral_decimal_string(E,this.ast,m)}asString(){return _.get_numeral_string(E,this.ast)}}class _s extends jt{size(){return _.get_bv_sort_size(E,this.ptr)}subsort(m){return Hr(m)&&this.size()<m.size()}cast(m){return Fe(m)?(Y(m),m):((0,i.assert)(!f(m),"Can't convert rational to BitVec"),Pr.val(m,this.size()))}}class ve extends ir{size(){return this.sort.size()}add(m){return Mn(this,m)}mul(m){return fo(this,m)}sub(m){return _o(this,m)}sdiv(m){return bi(this,m)}udiv(m){return vi(this,m)}smod(m){return cs(this,m)}urem(m){return new ve(R(_.mk_bvurem(E,this.ast,this.sort.cast(m).ast)))}srem(m){return new ve(R(_.mk_bvsrem(E,this.ast,this.sort.cast(m).ast)))}neg(){return wi(this)}or(m){return new ve(R(_.mk_bvor(E,this.ast,this.sort.cast(m).ast)))}and(m){return new ve(R(_.mk_bvand(E,this.ast,this.sort.cast(m).ast)))}nand(m){return new ve(R(_.mk_bvnand(E,this.ast,this.sort.cast(m).ast)))}xor(m){return new ve(R(_.mk_bvxor(E,this.ast,this.sort.cast(m).ast)))}xnor(m){return new ve(R(_.mk_bvxnor(E,this.ast,this.sort.cast(m).ast)))}shr(m){return new ve(R(_.mk_bvashr(E,this.ast,this.sort.cast(m).ast)))}lshr(m){return new ve(R(_.mk_bvlshr(E,this.ast,this.sort.cast(m).ast)))}shl(m){return new ve(R(_.mk_bvshl(E,this.ast,this.sort.cast(m).ast)))}rotateRight(m){return new ve(R(_.mk_ext_rotate_right(E,this.ast,this.sort.cast(m).ast)))}rotateLeft(m){return new ve(R(_.mk_ext_rotate_left(E,this.ast,this.sort.cast(m).ast)))}not(){return new ve(R(_.mk_bvnot(E,this.ast)))}extract(m,S){return Ln(m,S,this)}signExt(m){return new ve(R(_.mk_sign_ext(E,m,this.ast)))}zeroExt(m){return new ve(R(_.mk_zero_ext(E,m,this.ast)))}repeat(m){return new ve(R(_.mk_repeat(E,m,this.ast)))}sle(m){return io(this,m)}ule(m){return mi(this,m)}slt(m){return za(this,m)}ult(m){return di(this,m)}sge(m){return is(this,m)}uge(m){return Da(this,m)}sgt(m){return ns(this,m)}ugt(m){return Cn(this,m)}redAnd(){return new ve(R(_.mk_bvredand(E,this.ast)))}redOr(){return new ve(R(_.mk_bvredor(E,this.ast)))}addNoOverflow(m,S){return new we(R(_.mk_bvadd_no_overflow(E,this.ast,this.sort.cast(m).ast,S)))}addNoUnderflow(m){return new we(R(_.mk_bvadd_no_underflow(E,this.ast,this.sort.cast(m).ast)))}subNoOverflow(m){return new we(R(_.mk_bvsub_no_overflow(E,this.ast,this.sort.cast(m).ast)))}subNoUndeflow(m,S){return new we(R(_.mk_bvsub_no_underflow(E,this.ast,this.sort.cast(m).ast,S)))}sdivNoOverflow(m){return new we(R(_.mk_bvsdiv_no_overflow(E,this.ast,this.sort.cast(m).ast)))}mulNoOverflow(m,S){return new we(R(_.mk_bvmul_no_overflow(E,this.ast,this.sort.cast(m).ast,S)))}mulNoUndeflow(m){return new we(R(_.mk_bvmul_no_underflow(E,this.ast,this.sort.cast(m).ast)))}negNoOverflow(){return new we(R(_.mk_bvneg_no_overflow(E,this.ast)))}}class Dn extends ve{value(){return BigInt(this.asString())}asSignedValue(){let m=this.value();const S=BigInt(this.size());return m>=2n**(S-1n)&&(m=m-2n**S),m<(-2n)**(S-1n)&&(m=m+2n**S),m}asString(){return _.get_numeral_string(E,this.ast)}asBinaryString(){return _.get_numeral_binary_string(E,this.ast)}}class xi extends jt{domain(){return Ge(R(_.get_array_sort_domain(E,this.ptr)))}domain_n(m){return Ge(R(_.get_array_sort_domain_n(E,this.ptr,m)))}range(){return Ge(R(_.get_array_sort_range(E,this.ptr)))}}class ht extends ir{domain(){return this.sort.domain()}domain_n(m){return this.sort.domain_n(m)}range(){return this.sort.range()}select(...m){return so(this,...m)}store(...m){return hi(this,...m)}}class Pt extends ir{elemSort(){return this.sort.domain()}union(...m){return ze(this,...m)}intersect(...m){return oo(this,...m)}diff(m){return ao(this,m)}hasSize(m){return ss(this,m)}add(m){return os(this,m)}del(m){return lo(this,m)}complement(){return uo(this)}contains(m){return Ar(m,this)}subsetOf(m){return Ir(this,m)}}class Ei extends ir{is_forall(){return _.is_quantifier_forall(E,this.ast)}is_exists(){return _.is_quantifier_exists(E,this.ast)}is_lambda(){return _.is_lambda(E,this.ast)}weight(){return _.get_quantifier_weight(E,this.ast)}num_patterns(){return _.get_quantifier_num_patterns(E,this.ast)}pattern(m){return new us(R(_.get_quantifier_pattern_ast(E,this.ast,m)))}num_no_patterns(){return _.get_quantifier_num_no_patterns(E,this.ast)}no_pattern(m){return W(R(_.get_quantifier_no_pattern_ast(E,this.ast,m)))}body(){return W(R(_.get_quantifier_body(E,this.ast)))}num_vars(){return _.get_quantifier_num_bound(E,this.ast)}var_name(m){return St(_.get_quantifier_bound_name(E,this.ast,m))}var_sort(m){return Ge(R(_.get_quantifier_bound_sort(E,this.ast,m)))}children(){return[this.body()]}}class dn extends Ei{not(){return no(this)}and(m){return Ji(this,m)}or(m){return es(this,m)}xor(m){return Ki(this,m)}implies(m){return ro(this,m)}iff(m){return Rr(this,m)}}class ja extends Ei{domain(){return this.sort.domain()}domain_n(m){return this.sort.domain_n(m)}range(){return this.sort.range()}select(...m){return so(this,...m)}store(...m){return hi(this,...m)}}class hr{constructor(m=_.mk_ast_vector(E)){this.ptr=m,this.ctx=et,_.ast_vector_inc_ref(E,m),w.register(this,()=>_.ast_vector_dec_ref(E,m),this)}length(){return _.ast_vector_size(E,this.ptr)}[Symbol.iterator](){return this.values()}*entries(){const m=this.length();for(let S=0;S<m;S++)yield[S,this.get(S)]}*keys(){for(let[m]of this.entries())yield m}*values(){for(let[,m]of this.entries())yield m}get(m,S){const z=this.length();if(m<0&&(m+=z),m>=z)throw new RangeError(`expected from index ${m} to be less than length ${z}`);if(S===void 0)return mt(R(_.ast_vector_get(E,this.ptr,m)));if(S<0&&(S+=z),S>=z)throw new RangeError(`expected to index ${S} to be less than length ${z}`);const he=[];for(let Se=m;Se<S;Se++)he.push(mt(R(_.ast_vector_get(E,this.ptr,Se))));return he}set(m,S){if(Y(S),m>=this.length())throw new RangeError(`expected index ${m} to be less than length ${this.length()}`);R(_.ast_vector_set(E,this.ptr,m,S.ast))}push(m){Y(m),R(_.ast_vector_push(E,this.ptr,m.ast))}resize(m){R(_.ast_vector_resize(E,this.ptr,m))}has(m){Y(m);for(const S of this.values())if(S.eqIdentity(m))return!0;return!1}sexpr(){return R(_.ast_vector_to_string(E,this.ptr))}}class mo{constructor(m=_.mk_ast_map(E)){this.ptr=m,this.ctx=et,_.ast_map_inc_ref(E,m),w.register(this,()=>_.ast_map_dec_ref(E,m),this)}[Symbol.iterator](){return this.entries()}get size(){return _.ast_map_size(E,this.ptr)}*entries(){for(const m of this.keys())yield[m,this.get(m)]}keys(){return new hr(_.ast_map_keys(E,this.ptr))}*values(){for(const[m,S]of this.entries())yield S}get(m){return mt(R(_.ast_map_find(E,this.ptr,m.ast)))}set(m,S){R(_.ast_map_insert(E,this.ptr,m.ast,S.ast))}delete(m){R(_.ast_map_erase(E,this.ptr,m.ast))}clear(){R(_.ast_map_reset(E,this.ptr))}has(m){return R(_.ast_map_contains(E,this.ptr,m.ast))}sexpr(){return R(_.ast_map_to_string(E,this.ptr))}}function Si(b,...m){Y(b);const S=[],z=[];for(const[he,Se]of m)Y(he),Y(Se),S.push(he.ast),z.push(Se.ast);return W(R(_.substitute(E,b.ast,S,z)))}function fs(b){const m=[],S=[],z=[],he=[],Se=new hr(R(_.parse_smtlib2_string(E,b,m,S,z,he)));if(Se.length()!==1)throw new Error("Expected exactly one AST. Instead got "+Se.length()+": "+Se.sexpr());return Se.get(0)}const et={ptr:E,name:be,Solver:gi,Optimize:yi,Model:nr,Tactic:_n,AstVector:hr,AstMap:mo,interrupt:G,isModel:Ee,isAst:Oe,isSort:Ie,isFuncDecl:Te,isFuncInterp:Ue,isApp:ke,isConst:Le,isExpr:Fe,isVar:li,isAppOf:tr,isBool:an,isTrue:Xs,isFalse:ha,isAnd:pa,isOr:Qs,isImplies:ga,isNot:Ys,isEq:ui,isDistinct:An,isQuantifier:Ks,isArith:In,isArithSort:ya,isInt:Xi,isIntVal:ba,isIntSort:Wr,isReal:kn,isRealVal:va,isRealSort:ln,isBitVecSort:Hr,isBitVec:mu,isBitVecVal:wa,isArraySort:xa,isArray:hu,isConstArray:Js,isProbe:Or,isTactic:un,isAstVector:Qi,eqIdentity:eo,getVarIndex:Nn,from:Be,solve:Ea,Sort:Oa,Function:Pa,RecFunc:Ta,Bool:Ot,Int:Ct,Real:ct,BitVec:Pr,Array:Tr,Set:Ra,If:cn,Distinct:Yi,Const:ci,Consts:to,FreshConst:pu,Var:gu,Implies:ro,Iff:Rr,Eq:Aa,Xor:Ki,Not:no,And:Ji,Or:es,PbEq:Ia,PbGe:ka,PbLe:yu,ForAll:bu,Exists:Je,Lambda:vu,ToReal:_i,ToInt:Na,IsInt:ts,Sqrt:wu,Cbrt:Ca,BV2Int:rs,Int2BV:fr,Concat:xu,Cond:zt,LT:La,GT:Ma,LE:Za,GE:fi,ULT:di,UGT:Cn,ULE:mi,UGE:Da,SLT:za,SGT:ns,SLE:io,SGE:is,Sum:Mn,Sub:_o,Product:fo,Div:bi,BUDiv:vi,Neg:wi,Mod:cs,Select:so,Store:hi,Extract:Ln,substitute:Si,simplify:Sa,ast_from_string:fs,SetUnion:ze,SetIntersect:oo,SetDifference:ao,SetHasSize:ss,SetAdd:os,SetDel:lo,SetComplement:uo,EmptySet:pi,FullSet:as,isMember:Ar,isSubset:Ir};return w.register(et,()=>_.del_context(E)),et}return{enableTrace:u,disableTrace:P,getVersion:Z,getVersionString:$,getFullVersion:re,openLog:p,appendLog:h,getParam:X,setParam:v,resetParams:I,Context:ie}}return zl}var Om;function Qb(){return Om||(Om=1,function(a){var r=Vo.__createBinding||(Object.create?function(i,o,l,f){f===void 0&&(f=l);var y=Object.getOwnPropertyDescriptor(o,l);(!y||("get"in y?!o.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(i,f,y)}:function(i,o,l,f){f===void 0&&(f=l),i[f]=o[l]}),e=Vo.__exportStar||function(i,o){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&r(o,i,l)};Object.defineProperty(a,"__esModule",{value:!0}),e(Xb(),a),e(du(),a)}(Vo)),Vo}var Pm;function Yb(){return Pm||(Pm=1,function(a){var r=Uo.__createBinding||(Object.create?function(f,y,_,w){w===void 0&&(w=_);var u=Object.getOwnPropertyDescriptor(y,_);(!u||("get"in u?!y.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return y[_]}}),Object.defineProperty(f,w,u)}:function(f,y,_,w){w===void 0&&(w=_),f[w]=y[_]}),e=Uo.__exportStar||function(f,y){for(var _ in f)_!=="default"&&!Object.prototype.hasOwnProperty.call(y,_)&&r(y,f,_)};Object.defineProperty(a,"__esModule",{value:!0}),a.init=l;const i=Qb(),o=Hh();e(du(),a),e(Wh(),a);async function l(){const f=Rm.initZ3;if(f===void 0)throw new Error("initZ3 was not imported correctly. Please consult documentation on how to load Z3 in browser");const y=await(0,o.init)(f),_=(0,i.createApi)(y.Z3);return{...y,..._}}}(Uo)),Uo}var c_=Yb(),Kb=Object.defineProperty,Jb=(a,r,e)=>r in a?Kb(a,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[r]=e,K=(a,r,e)=>(Jb(a,typeof r!="symbol"?r+"":r,e),e);function A_(...a){const r=Math.min(...a.map(e=>e.length));return Array.from({length:r},(e,i)=>a.map(o=>o[i]))}function*I_(a,r){if(r===0)yield[];else for(let e=0;e<a.length;e++){const i=a[e];for(const o of I_(a.slice(e+1),r-1))yield[i,...o]}}function ev(a){return class extends a{constructor(r,e){super(e),K(this,"default"),this.default=r}get(r){return this.has(r)||this.set(r,this.default()),super.get(r)}}}function k_(a,r){return class extends Map{get(e){return super.get(a(e))}has(e){return super.has(a(e))}set(e,i){return super.set(a(e),i)}delete(e){return super.delete(a(e))}forEach(e,i){super.forEach((o,l,f)=>e(o,r(l),f),i)}*[Symbol.iterator](){for(const[e,i]of super[Symbol.iterator]())yield[r(e),i]}constructor(e){super([...e??[]].map(([i,o])=>[a(i),o]))}}}function N_(a,r){return class extends Set{has(e){return super.has(a(e))}add(e){return super.add(a(e))}delete(e){return super.delete(a(e))}forEach(e,i){super.forEach((o,l,f)=>e(r(o),r(l),f),i)}*[Symbol.iterator](){for(const e of super[Symbol.iterator]())yield r(e)}constructor(e){super([...e??[]].map(i=>a(i)))}}}class Q{constructor(r,e){K(this,"dy"),K(this,"dx"),this.dy=r,this.dx=e}negate(){return new Q(-this.dy,-this.dx)}translate(r){return new Q(this.dy+r.dy,this.dx+r.dx)}toString(){return`V(${this.dy},${this.dx})`}static fromString(r){const e=r.match(/^V\((\d+),(\d+)\)$/);if(e===null)throw new Error(`Invalid VectorString: ${r}`);return new Q(parseInt(e[1]),parseInt(e[2]))}equals(r){return this.dy===r.dy&&this.dx===r.dx}static comparator(r,e){return r.dy<e.dy?-1:r.dy>e.dy?1:r.dx<e.dx?-1:r.dx>e.dx?1:0}}const tv=k_(a=>a.toString(),Q.fromString);N_(a=>a.toString(),Q.fromString);class Ye{constructor(r,e){K(this,"name"),K(this,"vector"),this.name=r,this.vector=e}toString(){return`D(${this.name},${this.vector.toString()})`}static fromString(r){const e=r.match(/^D\((\w+),(V\(\d+,\d+\))\)$/);if(e===null)throw new Error(`Invalid DirectionString: ${r}`);return new Ye(e[1],Q.fromString(e[2]))}}const rv=k_(a=>a.toString(),Ye.fromString);N_(a=>a.toString(),Ye.fromString);class Ve{constructor(r,e){K(this,"y"),K(this,"x"),this.y=r,this.x=e}translate(r){return r instanceof Ye&&(r=r.vector),new Ve(this.y+r.dy,this.x+r.dx)}toString(){return`P(${this.y},${this.x})`}static fromString(r){const e=r.match(/^P\((\d+),(\d+)\)$/);if(e===null)throw new Error(`Invalid PointString: ${r}`);return new Ve(parseInt(e[1]),parseInt(e[2]))}equals(r){return this.y===r.y&&this.x===r.x}static comparator(r,e){return r.y<e.y?-1:r.y>e.y?1:r.x<e.x?-1:r.x>e.x?1:0}}const Fr=k_(a=>a.toString(),Ve.fromString),Xh=N_(a=>a.toString(),Ve.fromString),nv=ev(Fr);class iv{constructor(r,e,i){K(this,"location"),K(this,"direction"),K(this,"symbol"),this.location=r,this.direction=e,this.symbol=i}}class _a{constructor(){K(this,"_vectorDirection"),this._vectorDirection=new tv;for(const r of this.vertexSharingDirections())this._vectorDirection.set(r.vector,r)}oppositeDirection(r){return this._vectorDirection.get(r.vector.negate())}edgeSharingPoints(r){return this.edgeSharingDirections().map(e=>r.translate(e))}vertexSharingPoints(r){return this.vertexSharingDirections().map(e=>r.translate(e))}static _getNeighbors(r,e,i){const o=[];for(const l of i){const f=e.translate(l),y=r.get(f);y!==void 0&&o.push(new iv(f,l,y))}return o}edgeSharingNeighbors(r,e){return _a._getNeighbors(r,e,this.edgeSharingDirections())}vertexSharingNeighbors(r,e){return _a._getNeighbors(r,e,this.vertexSharingDirections())}_pointsToString(r,e,i=" "){const o=[];for(const l of e){let f;this.pointToIndex(l)!==void 0&&(f=r(l)),f=f??i,o.push(f.split(`
`))}return A_(...o).map(l=>l.join("")).join(`
`)+`
`}toString(r,e=" "){let i="";const o=this.points,l=o[0].y,f=o[o.length-1].y,y=Math.min(...o.map(w=>w.x)),_=Math.max(...o.map(w=>w.x));for(let w=l;w<=f;w++)i+=this._pointsToString(r,Array.from({length:_-y+1},(u,P)=>new Ve(w,P+y)),e);return i}}const $l=class __ extends _a{constructor(r){super(),K(this,"_points"),K(this,"_pointIndices"),this._points=r.sort(Ve.comparator),this._pointIndices=new Fr,this._points.forEach((e,i)=>{this._pointIndices.set(e,i)})}get points(){return this._points}pointToIndex(r){return this._pointIndices.get(r)}edgeSharingDirections(){return Object.values(__.EDGE_DIRECTIONS)}vertexSharingDirections(){return Object.values(__.VERTEX_DIRECTIONS)}labelForDirection(r){if(r.name==="N")return"";if(r.name==="E")return"";if(r.name==="S")return"";if(r.name==="W")return"";throw new Error("No single-character symbol for direction")}labelForDirectionPair(r,e){if(r.name==="N"&&e.name==="S")return"";if(r.name==="E"&&e.name==="W")return"";if(r.name==="N"&&e.name==="E")return"";if(r.name==="S"&&e.name==="E")return"";if(r.name==="S"&&e.name==="W")return"";if(r.name==="N"&&e.name==="W")return"";throw new Error("No single-character symbol for direction pair")}transformationFunctions(r,e){return r?e?[i=>i,i=>new Q(i.dy,-i.dx),i=>new Q(-i.dy,i.dx),i=>new Q(-i.dy,-i.dx),i=>new Q(i.dx,i.dy),i=>new Q(i.dx,-i.dy),i=>new Q(-i.dx,i.dy),i=>new Q(-i.dx,-i.dy)]:[i=>i,i=>new Q(i.dx,-i.dy),i=>new Q(-i.dy,-i.dx),i=>new Q(-i.dx,i.dy)]:e?[i=>i,i=>new Q(i.dy,-i.dx),i=>new Q(-i.dy,i.dx)]:[i=>i]}getInsideOutsideCheckDirections(){const r=this.edgeSharingDirections();return[r.find(e=>e.name==="N"),[r.find(e=>e.name==="W")]]}};K($l,"EDGE_DIRECTIONS",{N:new Ye("N",new Q(-1,0)),S:new Ye("S",new Q(1,0)),E:new Ye("E",new Q(0,1)),W:new Ye("W",new Q(0,-1))}),K($l,"VERTEX_DIRECTIONS",{...$l.EDGE_DIRECTIONS,NE:new Ye("NE",new Q(-1,1)),NW:new Ye("NW",new Q(-1,-1)),SE:new Ye("SE",new Q(1,1)),SW:new Ye("SW",new Q(1,-1))});let On=$l;const Qh=class Yh extends _a{constructor(r){super(),K(this,"_points"),K(this,"_pointIndices");for(const e of r)if((e.y+e.x)%2===1)throw new Error("Hexagonal coordinates must have an even sum.");this._points=r.sort(Ve.comparator),this._pointIndices=new Fr,this._points.forEach((e,i)=>{this._pointIndices.set(e,i)})}get points(){return this._points}pointToIndex(r){return this._pointIndices.get(r)}vertexSharingDirections(){return this.edgeSharingDirections()}labelForDirection(r){const e=Yh._DIRECTION_LABELS[r.name];if(e!==void 0)return e;throw new Error("No single-character symbol for direction")}labelForDirectionPair(r,e){let i=[r.name,e.name];function o(w,u){for(const[P,Z]of A_(w,u))if(i.includes(P))return i=i.filter($=>$!==P),Z.toString();return" "}const l=o(["NW","N","W"],["","",""]),f=o(["NE","N","E"],["","",""]),y=o(["SW","S","W"],["","",""]),_=o(["SE","S","E"],["","",""]);return`${l}${f}
${y}${_}`}};K(Qh,"_DIRECTION_LABELS",{N:` 
  `,NE:` 
  `,E:` 
  `,SE:`  
 `,S:`  
 `,SW:`  
 `,W:` 
  `,NW:` 
  `});let Kh=Qh;const sv=class Jh extends Kh{edgeSharingDirections(){return Object.values(Jh.DIRECTIONS)}transformationFunctions(r,e){return r?e?[i=>i,i=>new Q((i.dy+3*i.dx)/2,(-i.dy+i.dx)/2),i=>new Q((-i.dy+3*i.dx)/2,(-i.dy-i.dx)/2),i=>new Q(-i.dy,-i.dx),i=>new Q((-i.dy-3*i.dx)/2,(i.dy-i.dx)/2),i=>new Q((i.dy-3*i.dx)/2,(i.dy+i.dx)/2),i=>new Q(-i.dy,i.dx),i=>new Q((-i.dy-3*i.dx)/2,(-i.dy+i.dx)/2),i=>new Q((i.dy-3*i.dx)/2,(-i.dy-i.dx)/2),i=>new Q(i.dy,-i.dx),i=>new Q((i.dy+3*i.dx)/2,(i.dy-i.dx)/2),i=>new Q((-i.dy+3*i.dx)/2,(i.dy+i.dx)/2)]:[i=>i,i=>new Q((i.dy+3*i.dx)/2,(-i.dy+i.dx)/2),i=>new Q((-i.dy+3*i.dx)/2,(-i.dy-i.dx)/2),i=>new Q(-i.dy,-i.dx),i=>new Q((-i.dy-3*i.dx)/2,(i.dy-i.dx)/2),i=>new Q((i.dy-3*i.dx)/2,(i.dy+i.dx)/2)]:e?[i=>i,i=>new Q(-i.dy,i.dx),i=>new Q((-i.dy-3*i.dx)/2,(-i.dy+i.dx)/2),i=>new Q((i.dy-3*i.dx)/2,(-i.dy-i.dx)/2),i=>new Q(i.dy,-i.dx),i=>new Q((i.dy+3*i.dx)/2,(i.dy-i.dx)/2),i=>new Q((-i.dy+3*i.dx)/2,(i.dy+i.dx)/2)]:[i=>i]}getInsideOutsideCheckDirections(){const r=this.edgeSharingDirections();return[r.find(e=>e.name==="N"),[r.find(e=>e.name==="NW"),r.find(e=>e.name==="SW")]]}};K(sv,"DIRECTIONS",{N:new Ye("N",new Q(-2,0)),S:new Ye("S",new Q(2,0)),NE:new Ye("NE",new Q(-1,1)),NW:new Ye("NW",new Q(-1,-1)),SE:new Ye("SE",new Q(1,1)),SW:new Ye("SW",new Q(1,-1))});const ov=class ep extends Kh{edgeSharingDirections(){return Object.values(ep.DIRECTIONS)}transformationFunctions(r,e){return r?e?[i=>i,i=>new Q((i.dy+i.dx)/2,(-3*i.dy+i.dx)/2),i=>new Q((-i.dy+i.dx)/2,(-3*i.dy-i.dx)/2),i=>new Q(-i.dy,-i.dx),i=>new Q((-i.dy-i.dx)/2,(3*i.dy-i.dx)/2),i=>new Q((i.dy-i.dx)/2,(3*i.dy+i.dx)/2),i=>new Q(-i.dy,i.dx),i=>new Q((-i.dy-i.dx)/2,(-3*i.dy+i.dx)/2),i=>new Q((i.dy-i.dx)/2,(-3*i.dy-i.dx)/2),i=>new Q(i.dy,-i.dx),i=>new Q((i.dy+i.dx)/2,(3*i.dy-i.dx)/2),i=>new Q((-i.dy+i.dx)/2,(3*i.dy+i.dx)/2)]:[i=>i,i=>new Q((i.dy+i.dx)/2,(-3*i.dy+i.dx)/2),i=>new Q((-i.dy+i.dx)/2,(-3*i.dy-i.dx)/2),i=>new Q(-i.dy,-i.dx),i=>new Q((-i.dy-i.dx)/2,(3*i.dy-i.dx)/2),i=>new Q((i.dy-i.dx)/2,(3*i.dy+i.dx)/2)]:e?[i=>new Q(-i.dy,i.dx),i=>new Q((-i.dy-i.dx)/2,(-3*i.dy+i.dx)/2),i=>new Q((i.dy-i.dx)/2,(-3*i.dy-i.dx)/2),i=>new Q(i.dy,-i.dx),i=>new Q((i.dy+i.dx)/2,(3*i.dy-i.dx)/2),i=>new Q((-i.dy+i.dx)/2,(3*i.dy+i.dx)/2)]:[i=>i]}getInsideOutsideCheckDirections(){const r=this.edgeSharingDirections();return[r.find(e=>e.name==="E"),[r.find(e=>e.name==="NW"),r.find(e=>e.name==="NE")]]}};K(ov,"DIRECTIONS",{E:new Ye("E",new Q(0,2)),W:new Ye("W",new Q(0,-2)),NE:new Ye("NE",new Q(-1,1)),NW:new Ye("NW",new Q(-1,-1)),SE:new Ye("SE",new Q(1,1)),SW:new Ye("SW",new Q(1,-1))});function av(a,r){const e=[];for(let i=0;i<a;i++)for(let o=0;o<r;o++)e.push(new Ve(i,o));return new On(e)}const tp=class rp{constructor(r,e,i,o=void 0){K(this,"ctx"),K(this,"_lattice"),K(this,"_symbolSet"),K(this,"_solver"),K(this,"_grid"),this.ctx=r,this._lattice=e,this._symbolSet=i,this._solver=o??new this.ctx.context.Solver,this._grid=new Fr;for(const l of e.points){const f=this.ctx.context.Int.const(`sg_${rp._instanceIndex}_${l.y}-${l.x}`);this._solver.add(f.ge(i.minIndex()),f.le(i.maxIndex())),this._grid.set(l,f)}}get solver(){return this._solver}get symbolSet(){return this._symbolSet}get grid(){return this._grid}get lattice(){return this._lattice}edgeSharingNeighbors(r){return this._lattice.edgeSharingNeighbors(this._grid,r)}vertexSharingNeighbors(r){return this._lattice.vertexSharingNeighbors(this._grid,r)}cellAt(r){return this._grid.get(r)}cellIs(r,e){return this._grid.get(r).eq(e)}cellIsOneOf(r,e){const i=this._grid.get(r);return this.ctx.context.Or(...e.map(o=>i.eq(o)))}async solve(){return await this._solver.check()==="sat"}async isUnique(){const r=this._solver.model(),e=[];for(const i of this._grid.values())e.push(i.neq(r.eval(i)));return this._solver.add(this.ctx.context.Or(...e)),await this._solver.check()==="unsat"}solvedGrid(){const r=this._solver.model(),e=new Fr;for(const[i,o]of this._grid.entries())e.set(i,Number(r.eval(o)));return e}toString(r){const e=this._solver.model(),i=Math.max(...[...this.symbolSet.symbols.values()].map(l=>l.label.length)),o=l=>{var f;const y=this._grid.get(l),_=Number(e.eval(y));let w;return r&&(w=r(l,_)),w===void 0&&(w=(f=this.symbolSet.symbols.get(_))==null?void 0:f.label.padStart(i)),w};return this._lattice.toString(o," ".repeat(i))}};K(tp,"_instanceIndex",0);let lv=tp;class C_{constructor(r,e,i){if(K(this,"ctx"),K(this,"_exprs",new Map),K(this,"_exprFuncs"),K(this,"_point"),K(this,"_yMin",Number.NaN),K(this,"_yMax",Number.NaN),K(this,"_xMin",Number.NaN),K(this,"_xMax",Number.NaN),K(this,"_yMid",Number.NaN),K(this,"_xMid",Number.NaN),K(this,"_tl"),K(this,"_tr"),K(this,"_bl"),K(this,"_br"),K(this,"_quads",[]),this.ctx=r,e.length===0)throw new Error("A quadtree node must be constructed with at least one point");if(this._exprFuncs=i??new Map,this._point=e.length===1?e[0]:void 0,!this._point){this._yMin=Math.min(...e.map(l=>l.y)),this._yMax=Math.max(...e.map(l=>l.y)),this._xMin=Math.min(...e.map(l=>l.x)),this._xMax=Math.max(...e.map(l=>l.x)),this._yMid=(this._yMin+this._yMax)/2,this._xMid=(this._xMin+this._xMax)/2;const o=l=>{const f=e.filter(l);if(f.length>0)return new C_(this.ctx,f,this._exprFuncs)};this._tl=o(l=>l.y<this._yMid&&l.x<this._xMid),this._tr=o(l=>l.y<this._yMid&&l.x>=this._xMid),this._bl=o(l=>l.y>=this._yMid&&l.x<this._xMid),this._br=o(l=>l.y>=this._yMid&&l.x>=this._xMid),this._quads=[this._tl,this._tr,this._bl,this._br].filter(Boolean)}}coversPoint(r){return this._point?this._point.equals(r):r.y>=this._yMin&&r.y<=this._yMax&&r.x>=this._xMin&&r.x<=this._xMax}addExpr(r,e){this._exprFuncs.set(r,e)}getExprs(r){if(this._point){let e=this._exprs.get(r);return e||(e=this._exprFuncs.get(r)(this._point),this._exprs.set(r,e)),[e]}return this._quads.flatMap(e=>e.getExprs(r))}getPointExpr(r,e){if(this._point){if(this._point.equals(e)){let i=this._exprs.get(r);return i||(i=this._exprFuncs.get(r)(this._point),this._exprs.set(r,i)),i}throw new Error(`Point ${e.toString()} not in QuadTree`)}if(this._tl&&e.y<this._yMid&&e.x<this._xMid)return this._tl.getPointExpr(r,e);if(this._tr&&e.y<this._yMid&&e.x>=this._xMid)return this._tr.getPointExpr(r,e);if(this._bl&&e.y>=this._yMid&&e.x<this._xMid)return this._bl.getPointExpr(r,e);if(this._br&&e.y>=this._yMid&&e.x>=this._xMid)return this._br.getPointExpr(r,e);throw new Error(`Point ${e.toString()} not in QuadTree`)}getOtherPointsExpr(r,e){if(this._point)return e.some(l=>this._point.equals(l))?void 0:this.getPointExpr(r,this._point);const i=e.filter(l=>this.coversPoint(l));if(i.length>0){const l=this._quads.map(f=>f.getOtherPointsExpr(r,i)).filter(Boolean);return this.ctx.context.And(...l)}let o=this._exprs.get(r);return o||(o=this.ctx.context.And(...this.getExprs(r)),this._exprs.set(r,o)),o}}let t_=class{constructor(a,r,e){K(this,"_index"),K(this,"_name"),K(this,"_label"),this._index=a,this._name=r,this._label=e}get index(){return this._index}get name(){return this._name??this._label??this._index.toString()}get label(){return this._label??this._name??this._index.toString()}toString(){return this.label}};class uv{constructor(r){K(this,"_indexToSymbol",new Map),K(this,"_labelToSymbolIndex",new Map),K(this,"indices",{});var e;for(const i of r)if(typeof i=="string"){const o=this._nextUnusedIndex();this._indexToSymbol.set(o,new t_(o,i))}else if(Array.isArray(i)){let[o,l,f]=i;if(i.length===3){if(this._indexToSymbol.has(f))throw new Error(`Index of ${i.toString()} already used by ${(e=this._indexToSymbol.get(f))==null?void 0:e.toString()}`)}else if(i.length===2)f=this._nextUnusedIndex();else throw new Error(`Invalid symbol spec: ${i.toString()}`);this._indexToSymbol.set(f,new t_(f,o,l))}else throw new Error(`Invalid symbol spec: ${i.toString()}`);for(const i of this._indexToSymbol.values())this.indices[i.name]=i.index,this._labelToSymbolIndex.set(i.label,i.index)}_nextUnusedIndex(){return this._indexToSymbol.size===0?0:Math.max(...this._indexToSymbol.keys())+1}append(r=void 0,e=void 0){const i=this._nextUnusedIndex(),o=new t_(i,r,e);this._indexToSymbol.set(i,o),this.indices[o.name]=o.index,this._labelToSymbolIndex.set(o.label,o.index)}minIndex(){return Math.min(...this._indexToSymbol.keys())}maxIndex(){return Math.max(...this._indexToSymbol.keys())}get symbols(){return this._indexToSymbol}toString(){return`SymbolSet(${[...this._indexToSymbol.values()].join(", ")})`}}function ou(a,r,e,i,o,l,f=()=>a.context.Bool.val(!1)){const y=[],_=[o];let w=e;for(;r.grid.has(w);){const P=r.grid.get(w),Z=l(_[_.length-1],P,w);_.push(Z),y.push(f(Z,P,w)),w=w.translate(i.vector)}let u=_.pop();for(const[P,Z]of A_(y.reverse(),_.reverse()))u=a.context.If(P,Z,u);return u}function np(a){if(a.z3.get_error_code(a.context.ptr)!==c_.Z3_error_code.Z3_OK)throw new Error(a.z3.get_error_msg(a.context.ptr,a.z3.get_error_code(a.context.ptr)))}function cv(a,r){return np(a),r}function _v(a,r,e){r.__typename==="Solver"?a.z3.solver_assert(a.context.ptr,r.ptr,e):a.z3.optimize_assert(a.context.ptr,r.ptr,e),np(a)}function fv(a,r,e){const i=r.map(([l,f])=>l.ast),o=r.map(([l,f])=>f);return cv(a,a.z3.mk_pbeq(a.context.ptr,i,o,e))}const dv=class Xo{constructor(r,e,i,o=void 0,l=!1,f=!1,y=!1,_=!1){K(this,"ctx"),K(this,"_solver"),K(this,"_lattice"),K(this,"_complete"),K(this,"_allowCopies"),K(this,"_shapes"),K(this,"_variants",[]),K(this,"_shapeTypeGrid"),K(this,"_shapeInstanceGrid"),K(this,"_shapePayloadGrid"),this.ctx=r,Xo._instanceIndex+=1,this._solver=o??new this.ctx.context.Solver,this._lattice=e,this._complete=l,this._allowCopies=_,this._shapes=i,this._makeVariants(f,y),this._createGrids(),this._addConstraints()}_makeVariants(r,e){const i=this._lattice.transformationFunctions(r,e);this._variants=[];for(const o of this._shapes){const l=[];for(const f of i){const y=o.transform(f).canonicalize();l.some(_=>_.equivalent(y))||l.push(y)}this._variants.push(l)}}_createGrids(){this._shapeTypeGrid=new Map;for(const e of this._lattice.points){const i=this.ctx.context.Int.const(`scst-${Xo._instanceIndex}-${e.y}-${e.x}`);this._complete?this._solver.add(i.ge(0)):this._solver.add(i.ge(-1)),this._solver.add(i.lt(this._shapes.length)),this._shapeTypeGrid.set(e,i)}this._shapeInstanceGrid=new Map;for(const e of this._lattice.points){const i=this.ctx.context.Int.const(`scsi-${Xo._instanceIndex}-${e.y}-${e.x}`);this._complete?this._solver.add(i.ge(0)):this._solver.add(i.ge(-1)),this._solver.add(i.lt(this._lattice.points.length)),this._shapeInstanceGrid.set(e,i)}const r=this._shapes[0].offsetsWithPayloads[0][1];if(r){this._shapePayloadGrid=new Map;let e;if(this.ctx.context.isExpr(r))e=r.sort;else if(typeof r=="number")e=this.ctx.context.Int.sort();else throw new Error(`Could not determine z3 sort for ${r}`);for(const i of this._lattice.points){const o=this.ctx.context.Const(`scsp-${Xo._instanceIndex}-${i.y}-${i.x}`,e);this._shapePayloadGrid.set(i,o)}}}_addConstraints(){if(this._addGridAgreementConstraints(),this._addShapeInstanceConstraints(),!this._allowCopies)for(let r=0;r<this._shapes.length;r++)this._addSingleCopyConstraints(r,this._shapes[r])}_addGridAgreementConstraints(){for(const[r,e]of this._shapeTypeGrid)this._solver.add(this.ctx.context.Or(this.ctx.context.And(e.eq(-1),this._shapeInstanceGrid.get(r).eq(-1)),this.ctx.context.And(e.neq(-1),this._shapeInstanceGrid.get(r).neq(-1))))}_addShapeInstanceConstraints(){const r={};for(let o=0;o<Math.max(this._lattice.points.length,this._variants.length);o++)r[o]=this.ctx.context.Int.val(o);const e=new C_(this.ctx,this._lattice.points);for(const o of this._lattice.points.map(l=>this._lattice.pointToIndex(l)))e.addExpr(`0-${o}`,l=>this.ctx.context.Eq(this._shapeInstanceGrid.get(l),r[o])),e.addExpr(`1-${o}`,l=>this.ctx.context.Not(this.ctx.context.Eq(this._shapeInstanceGrid.get(l),r[o])));for(let o=0;o<this._variants.length;o++)e.addExpr(`2-${o}`,l=>this.ctx.context.Eq(this._shapeTypeGrid.get(l),r[o]));const i=new nv(()=>[]);for(let o=0;o<this._variants.length;o++)for(const l of this._variants[o])for(const f of this._lattice.points){const y=this._lattice.pointToIndex(f),_=[];for(const[w,u]of l.offsetsWithPayloads){const P=f.translate(w);if(!this._shapeInstanceGrid.has(P)){_.length=0;break}_.push([P,u])}if(_.length>0){const w=[];for(const[P,Z]of _)w.push(e.getPointExpr(`0-${y}`,P)),w.push(e.getPointExpr(`2-${o}`,P)),this._shapePayloadGrid&&w.push(this._shapePayloadGrid.get(P).eq(Z));const u=e.getOtherPointsExpr(`1-${y}`,_.map(([P])=>P));u&&w.push(u),i.get(f).push(this.ctx.context.And(...w))}}for(const o of this._lattice.points){const l=this._lattice.pointToIndex(o),f=e.getOtherPointsExpr(`1-${l}`,[]),y=i.get(o);y.length>0?(y.push(f),this._solver.add(this.ctx.context.Or(...y))):this._solver.add(f)}}_addSingleCopyConstraints(r,e){const i=[];for(const o of this._shapeTypeGrid.values())i.push([o.eq(r),1]);_v(this.ctx,this._solver,fv(this.ctx,i,e.offsetsWithPayloads.length))}get solver(){return this._solver}get shapeTypeGrid(){return this._shapeTypeGrid}getShapeTypeAt(r){return this._shapeTypeGrid.get(r)}get shapeInstanceGrid(){return this._shapeInstanceGrid}getShapeInstanceAt(r){return this._shapeInstanceGrid.get(r)}get shapePayloadGrid(){return this._shapePayloadGrid}getShapePayloadAt(r){return this._shapePayloadGrid.get(r)}shapeTypesToString(){const r=this._solver.model(),e=[...this._shapeTypeGrid.keys()],i=Math.min(...e.map(_=>_.y)),o=Math.min(...e.map(_=>_.x)),l=Math.max(...e.map(_=>_.y)),f=Math.max(...e.map(_=>_.x));let y="";for(let _=i;_<=l;_++){for(let w=o;w<=f;w++){const u=new Ve(_,w);let P=-1;if(this._shapeTypeGrid.has(u)){const Z=this._shapeTypeGrid.get(u);P=Number(r.eval(Z))}P>=0?y+=P.toString().padStart(3," "):y+="   "}y+=`
`}return y}shapeInstancesToString(){const r=this._solver.model(),e=[...this._shapeInstanceGrid.keys()],i=Math.min(...e.map(_=>_.y)),o=Math.min(...e.map(_=>_.x)),l=Math.max(...e.map(_=>_.y)),f=Math.max(...e.map(_=>_.x));let y="";for(let _=i;_<=l;_++){for(let w=o;w<=f;w++){const u=new Ve(_,w);let P=-1;if(this._shapeInstanceGrid.has(u)){const Z=this._shapeInstanceGrid.get(u);P=Number(r.eval(Z))}P>=0?y+=P.toString().padStart(3," "):y+="   "}y+=`
`}return y}};K(dv,"_instanceIndex",0);const Ms=0,Ul=1,ip=class zs{constructor(r,e,i=void 0,o=!0,l=!1,f=void 0,y=void 0){K(this,"ctx"),K(this,"_solver"),K(this,"_lattice"),K(this,"_complete"),K(this,"_minRegionSize"),K(this,"_maxRegionSize"),K(this,"_edgeSharingDirectionToIndex"),K(this,"_parentTypeToIndex"),K(this,"_parentTypes"),K(this,"_parentGrid"),K(this,"_subtreeSizeGrid"),K(this,"_regionIdGrid"),K(this,"_regionSizeGrid"),this.ctx=r,zs._instanceIndex+=1,this._lattice=e,this._solver=i??new this.ctx.context.Solver,this._complete=o,f!==void 0?this._minRegionSize=f:this._minRegionSize=1,y!==void 0?this._maxRegionSize=y:this._maxRegionSize=this._lattice.points.length,this._manageEdgeSharingDirections(),this._createGrids(),this._addConstraints(),l&&this._addRectangularConstraints()}_manageEdgeSharingDirections(){this._edgeSharingDirectionToIndex=new rv,this._parentTypeToIndex=new Map([["X",Ms],["R",Ul]]),this._parentTypes=["X","R"];for(const r of this._lattice.edgeSharingDirections()){const e=this._parentTypes.length;this._parentTypeToIndex.set(r.name,e),this._edgeSharingDirectionToIndex.set(r,e),this._parentTypes.push(r.name)}}_createGrids(){this._parentGrid=new Fr;for(const r of this._lattice.points){const e=this.ctx.context.Int.const(`rcp-${zs._instanceIndex}-${r.y}-${r.x}`);this._complete?this._solver.add(e.ge(Ul)):this._solver.add(e.ge(Ms)),this._solver.add(e.lt(this._parentTypes.length)),this._parentGrid.set(r,e)}this._subtreeSizeGrid=new Fr;for(const r of this._lattice.points){const e=this.ctx.context.Int.const(`rcss-${zs._instanceIndex}-${r.y}-${r.x}`);this._complete?this._solver.add(e.ge(1)):this._solver.add(e.ge(0)),this._solver.add(e.le(this._maxRegionSize)),this._subtreeSizeGrid.set(r,e)}this._regionIdGrid=new Fr;for(const r of this._lattice.points){const e=this.ctx.context.Int.const(`rcid-${zs._instanceIndex}-${r.y}-${r.x}`);this._complete?this._solver.add(e.ge(0)):this._solver.add(e.ge(-1)),this._solver.add(e.lt(this._lattice.points.length));const i=this._parentGrid.get(r);this._solver.add(i.eq(Ms).implies(e.eq(-1)));const o=this._lattice.pointToIndex(r);if(o===void 0)throw new Error("Point index is undefined");this._solver.add(i.eq(Ul).implies(e.eq(o))),this._regionIdGrid.set(r,e)}this._regionSizeGrid=new Fr;for(const r of this._lattice.points){const e=this.ctx.context.Int.const(`rcrs-${zs._instanceIndex}-${r.y}-${r.x}`);this._complete?this._solver.add(e.ge(this._minRegionSize)):this._solver.add(e.ge(this._minRegionSize).or(e.eq(-1))),this._solver.add(e.le(this._maxRegionSize));const i=this._parentGrid.get(r),o=this._subtreeSizeGrid.get(r);this._solver.add(i.eq(Ms).implies(e.eq(-1))),this._solver.add(i.eq(Ul).implies(e.eq(o))),this._regionSizeGrid.set(r,e)}}_addConstraints(){const r=(i,o,l)=>{this._solver.add(this._parentGrid.get(i).eq(Ms).implies(this._parentGrid.get(o).neq(l))),this._solver.add(this._parentGrid.get(o).eq(l).implies(this.ctx.context.And(this._regionIdGrid.get(i).eq(this._regionIdGrid.get(o)),this._regionSizeGrid.get(i).eq(this._regionSizeGrid.get(o)))))},e=(i,o)=>this.ctx.context.If(this._parentGrid.get(i).eq(o),this._subtreeSizeGrid.get(i),this.ctx.context.Int.val(0));for(const i of this._lattice.points){const o=this._parentGrid.get(i),l=[];for(const f of this._lattice.edgeSharingDirections()){const y=i.translate(f.vector);if(this._parentGrid.has(y)){const _=this._edgeSharingDirectionToIndex.get(this._lattice.oppositeDirection(f));r(i,y,_),l.push(e(y,_))}else{const _=this._edgeSharingDirectionToIndex.get(f);this._solver.add(o.neq(_))}}this._solver.add(this._subtreeSizeGrid.get(i).eq(this.ctx.context.Sum(this.ctx.context.If(o.neq(Ms),1,0),...l)))}}_addRectangularConstraints(){for(const r of this._lattice.points){const e=this._lattice.edgeSharingNeighbors(this._regionIdGrid,r);for(const[i,o]of I_(e,2)){const l=this._lattice.edgeSharingNeighbors(this._regionIdGrid,i.location),f=this._lattice.edgeSharingNeighbors(this._regionIdGrid,o.location),y=new Xh([...l.map(_=>_.location),...f.map(_=>_.location)]);y.delete(r),y.size>0&&this._solver.add(this.ctx.context.And(i.symbol.eq(this._regionIdGrid.get(r)),o.symbol.eq(this._regionIdGrid.get(r)),this._regionIdGrid.get(r).neq(-1)).implies(this.ctx.context.And(...Array.from(y).map(_=>this._regionIdGrid.get(_).eq(this._regionIdGrid.get(r))))))}}}edgeSharingDirectionToIndex(r){return this._edgeSharingDirectionToIndex.get(r)}parentTypeToIndex(r){return this._parentTypeToIndex.get(r)}get solver(){return this._solver}get regionIdGrid(){return this._regionIdGrid}get regionSizeGrid(){return this._regionSizeGrid}get parentGrid(){return this._parentGrid}get subtreeSizeGrid(){return this._subtreeSizeGrid}treesToString(){const r={X:" ",R:"R",N:"",E:"",S:"",W:"",NE:"",NW:"",SE:"",SW:""},e=this._solver.model(),i=o=>{const l=this._parentGrid.get(o),f=Number(e.eval(l)),y=this._parentTypes[f];return r[y]};return this._lattice.toString(i," ")}subtreeSizesToString(){const r=this._solver.model(),e=i=>{const o=this._subtreeSizeGrid.get(i);return Number(r.eval(o)).toString().padStart(3," ")};return this._lattice.toString(e,"   ")}regionIdsToString(){const r=this._solver.model(),e=i=>{const o=this._regionIdGrid.get(i);return Number(r.eval(o)).toString().padStart(3," ")};return this._lattice.toString(e,"   ")}regionSizesToString(){const r=this._solver.model(),e=i=>{const o=this._regionSizeGrid.get(i);return Number(r.eval(o)).toString().padStart(3," ")};return this._lattice.toString(e,"   ")}};K(ip,"_instanceIndex",0);let mv=ip;const hv=class ql{constructor(r,e=!1,i=!0,o=!0){K(this,"_symbolGrid"),K(this,"_complete"),K(this,"_allowTerminatedPaths"),K(this,"_allowLoops"),K(this,"_pathInstanceGrid"),K(this,"_pathOrderGrid"),K(this,"_numPaths"),ql._instanceIndex+=1,this._symbolGrid=r,this._complete=e,this._allowTerminatedPaths=i,this._allowLoops=o,this._numPaths=null,this._pathInstanceGrid=new Fr([...this._symbolGrid.grid.keys()].map(l=>[l,this._symbolGrid.ctx.context.Int.const(`pcpi-${ql._instanceIndex}-${l.y}-${l.x}`)])),this._pathOrderGrid=new Fr([...this._symbolGrid.grid.keys()].map(l=>[l,this._symbolGrid.ctx.context.Int.const(`pcpo-${ql._instanceIndex}-${l.y}-${l.x}`)])),this._addPathEdgeConstraints(),this._addPathInstanceGridConstraints(),this._addPathOrderGridConstraints(),this._addAllowTerminatedPathsConstraints()}_addPathEdgeConstraints(){const r=this._symbolGrid.solver,e=this._symbolGrid.symbolSet;for(const[i,o]of this._symbolGrid.grid)for(const l of this._symbolGrid.lattice.edgeSharingDirections()){const f=i.translate(l.vector),y=e.symbolsForDirection(l),_=this._symbolGrid.grid.get(f);if(_!==void 0){const w=e.symbolsForDirection(this._symbolGrid.lattice.oppositeDirection(l)),u=r.ctx.Or(...y.map(Z=>o.eq(Z))),P=r.ctx.Or(...w.map(Z=>_.eq(Z)));r.add(r.ctx.Implies(u,P))}else for(const w of y)r.add(o.neq(w))}}_addPathInstanceGridConstraints(){const r=this._symbolGrid.solver,e=this._symbolGrid.symbolSet;for(const[i,o]of this._pathInstanceGrid){this._complete?r.add(o.ge(0)):r.add(o.ge(-1)),r.add(o.lt(this._symbolGrid.grid.size));const l=this._symbolGrid.grid.get(i);r.add(e.isPath(l).eq(o.neq(-1)));const f=this._symbolGrid.lattice.pointToIndex(i);if(f===void 0)throw new Error("pointIndex is undefined");r.add(this._pathOrderGrid.get(i).eq(0).eq(o.eq(f)));for(const y of this._symbolGrid.lattice.edgeSharingDirections()){const _=e.symbolsForDirection(y),w=i.translate(y.vector);if(this._symbolGrid.grid.get(w)!==void 0){const u=r.ctx.Or(..._.map(P=>l.eq(P)));r.add(r.ctx.Implies(u,o.eq(this._pathInstanceGrid.get(w))))}}}}*_allDirectionPairs(){const r=this._symbolGrid.lattice.edgeSharingDirections();let e=0;for(const[i,o]of I_(r,2))yield[e,i,o],e+=1}_addPathOrderGridConstraints(){const r=this._symbolGrid.solver,e=this._symbolGrid.symbolSet;for(const[i,o]of this._pathOrderGrid){this._complete?r.add(o.ge(0)):r.add(o.ge(-1));const l=this._symbolGrid.grid.get(i);r.add(e.isPath(l).eq(o.neq(-1)));for(const f of this._symbolGrid.lattice.edgeSharingDirections()){const y=e.terminalForDirection(f);if(y===void 0)continue;const _=i.translate(f.vector);this._pathOrderGrid.has(_)&&r.add(r.ctx.Implies(l.eq(y),r.ctx.Or(r.ctx.And(o.eq(0),this._pathOrderGrid.get(_).eq(1)),r.ctx.And(o.gt(0),this._pathOrderGrid.get(_).eq(o.sub(1))))))}for(const[f,y,_]of this._allDirectionPairs()){const w=i.translate(y.vector),u=i.translate(_.vector);this._pathOrderGrid.has(w)&&this._pathOrderGrid.has(u)&&(r.add(r.ctx.Implies(l.eq(f),this._pathOrderGrid.get(w).neq(this._pathOrderGrid.get(u)))),r.add(r.ctx.Implies(r.ctx.And(l.eq(f),o.gt(0)),r.ctx.Or(r.ctx.And(this._pathOrderGrid.get(w).eq(o.sub(1)),r.ctx.Or(this._pathOrderGrid.get(u).eq(o.add(1)),this._allowLoops?this._pathOrderGrid.get(u).eq(0):r.ctx.Bool.val(!1))),r.ctx.And(r.ctx.Or(this._pathOrderGrid.get(w).eq(o.add(1)),this._allowLoops?this._pathOrderGrid.get(w).eq(0):r.ctx.Bool.val(!1)),this._pathOrderGrid.get(u).eq(o.sub(1)))))))}}}_addAllowTerminatedPathsConstraints(){const r=this._symbolGrid.solver,e=this._symbolGrid.symbolSet;if(!this._allowTerminatedPaths)for(const i of this._symbolGrid.grid.values())this._symbolGrid.solver.add(r.ctx.Not(e.isTerminal(i)))}get numPaths(){if(this._numPaths===null){const r=this._symbolGrid.solver,e=this._symbolGrid.lattice.points.map(i=>r.ctx.If(this._pathOrderGrid.get(i).eq(0),1,0));this._numPaths=this._symbolGrid.ctx.context.Sum(e[0],...e.slice(1))}return this._numPaths}get pathInstanceGrid(){return this._pathInstanceGrid}get pathOrderGrid(){return this._pathOrderGrid}pathNumberingToString(){const r=this._symbolGrid.solver.model(),e=i=>{const o=Number(r.eval(this._pathInstanceGrid.get(i))),l=Number(r.eval(this._pathOrderGrid.get(i)));return o===-1?"    ":`${String.fromCharCode(65+o)}${l.toString().padStart(2,"0")} `};return this._symbolGrid.lattice.toString(e,"    ")}};K(hv,"_instanceIndex",0);class pv extends ai{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:g_.id})}encode(r,e){const i=r.symbols.get(this.id);if(!i||i.length===0)return;for(const l of i)if(l.number<1){e.solver.add(e.ctx.Bool.val(!1));return}const o=e.regionConstrainer;for(const l of i){const f=Math.floor(l.x),y=Math.floor(l.y);e.solver.add(o.regionSizeGrid.get(new Ve(y,f)).eq(Math.round(l.number)))}}}const gv=new pv;class yv extends ai{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:y_.id})}encode(r,e){const i=r.rules.filter(l=>l.id===this.id);if(i.length===0)return;const o=new Map;for(const l of i)if(o.has(l.color)){if(o.get(l.color)!==l.count){e.solver.add(e.ctx.Bool.val(!1));return}}else o.set(l.color,l.count);for(const[l,f]of o.entries()){const{min:y,max:_}=r.getColorCount(l);if(y>f||_<f){e.solver.add(e.ctx.Bool.val(!1));return}}if(o.has(M.Light)&&o.has(M.Dark)&&o.get(M.Light)+o.get(M.Dark)!==r.getTileCount(!0)){e.solver.add(e.ctx.Bool.val(!1));return}for(const[l,f]of o.entries()){const y=[];r.forEach((_,w,u)=>{_.exists&&y.push(e.ctx.If(e.grid.cellAt(new Ve(u,w)).eq(e.symbolSet.indices[l]),1,0))}),e.solver.add(e.ctx.Sum(y[0],...y.slice(1)).eq(f))}}}const bv=new yv;function au(a){switch(a){case D.Up:case te.Up:return On.VERTEX_DIRECTIONS.N;case D.Down:case te.Down:return On.VERTEX_DIRECTIONS.S;case D.Left:case te.Left:return On.VERTEX_DIRECTIONS.W;case D.Right:case te.Right:return On.VERTEX_DIRECTIONS.E;case te.DownLeft:return On.VERTEX_DIRECTIONS.SW;case te.DownRight:return On.VERTEX_DIRECTIONS.SE;case te.UpLeft:return On.VERTEX_DIRECTIONS.NW;case te.UpRight:return On.VERTEX_DIRECTIONS.NE}}class vv extends ai{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:E_.id})}encode(r,e){const i=r.symbols.get(this.id);if(!(!i||i.length===0)){for(const o of i){const l=Math.floor(o.x),f=Math.floor(o.y),y=qi({x:l,y:f},o.orientation),_=r.getTile(l,f);if(_.fixed){let w=0,u=0;if(r.iterateDirectionAll(y,o.orientation,()=>!0,P=>{P.exists&&(P.fixed&&P.color!==_.color&&P.color!==M.Gray&&w++,P.fixed||u++)}),w>o.number||w+u<o.number){e.solver.add(e.ctx.Bool.val(!1));return}}else{let w=0;if(r.iterateDirectionAll(y,o.orientation,()=>!0,u=>{u.exists&&w++}),w<o.number){e.solver.add(e.ctx.Bool.val(!1));return}}}for(const o of i){const l=Math.floor(o.x),f=Math.floor(o.y),y=qi({x:l,y:f},o.orientation),_=e.grid.cellAt(new Ve(f,l));e.solver.add(ou(e.grid.ctx,e.grid,new Ve(y.y,y.x),au(o.orientation),e.ctx.Int.val(0),(w,u)=>e.ctx.If(e.ctx.Or(u.eq(_),u.eq(e.symbolSet.indices.empty)),w,w.add(1))).eq(o.number))}}}}const wv=new vv;class xv extends ai{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:v_.id})}encode(r,e){const i=r.symbols.get(this.id);if(!i||i.length===0)return;const o=e.regionConstrainer,l=new Map;for(const y of i){const _=Math.floor(y.x),w=Math.floor(y.y);l.has(y.letter)?e.solver.add(l.get(y.letter).eq(o.regionIdGrid.get(new Ve(w,_)))):l.set(y.letter,o.regionIdGrid.get(new Ve(w,_)))}const f=Array.from(l.values());for(let y=0;y<f.length-1;y++)for(let _=y+1;_<f.length;_++)e.solver.add(f[y].neq(f[_]))}}const Ev=new xv;class Sv extends ai{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:S_.id})}encode(r,e){const i=r.symbols.get(this.id);if(!(!i||i.length===0))for(const o of i){const l=Math.floor(o.x),f=Math.floor(o.y),y=new Ve(f,l),_=e.grid.cellAt(new Ve(f,l)),w=[],u=[];$s.filter(P=>o.directions[P]).forEach(P=>{w.push(ou(e.grid.ctx,e.grid,y,au(P),e.ctx.Int.val(0),(Z,$,re)=>{const p=qi({x:re.x,y:re.y},P);return r.isPositionValid(p.x,p.y)?e.ctx.If($.eq(_),Z.add(1),Z):e.ctx.If($.eq(_),Z.add(Number.MAX_SAFE_INTEGER),Z)},(Z,$)=>$.neq(_)))}),(o.diagonals?$s:Vs).filter(P=>!o.directions[P]).forEach(P=>{u.push(ou(e.grid.ctx,e.grid,y,au(P),e.ctx.Int.val(0),(Z,$,re)=>{const p=qi({x:re.x,y:re.y},P);return r.isPositionValid(p.x,p.y)?e.ctx.If($.eq(_),Z.add(1),Z):e.ctx.If($.eq(_),Z.add(Number.MAX_SAFE_INTEGER),Z)},(Z,$)=>$.neq(_)))});for(let P=1;P<w.length;P++)e.solver.add(w[P].eq(w[0]));for(const P of u)e.solver.add(P.gt(w[0]))}}}const Ov=new Sv;class Pv extends ai{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:b_.id})}encode(r,e){const i=r.rules.filter(f=>f.id===this.id);if(i.length===0)return;const o=new Map;for(const f of i)if(o.has(f.color)){if(o.get(f.color)!==f.size){e.solver.add(e.ctx.Bool.val(!1));return}}else o.set(f.color,f.size);for(const[f,y]of o.entries())if(y<0||y>r.getColorCount(f).max){e.solver.add(e.ctx.Bool.val(!1));return}const l=e.regionConstrainer;for(const[f,y]of o.entries())for(const[_,w]of e.grid.grid.entries())e.solver.add(w.eq(e.symbolSet.indices[f]).implies(l.regionSizeGrid.get(_).eq(y)))}}const Tv=new Pv;class Rv extends ai{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:O_.id})}encode(r,e){const i=r.symbols.get(this.id);if(!(!i||i.length===0))for(const o of i){const l=Math.floor(o.x),f=Math.floor(o.y),y=e.grid.cellAt(new Ve(f,l)),_=[];Vs.forEach(w=>{const u=qi({x:l,y:f},w);_.push(ou(e.grid.ctx,e.grid,new Ve(u.y,u.x),au(w),e.ctx.Int.val(0),(P,Z)=>e.ctx.If(Z.eq(y),P.add(1),P),(P,Z)=>Z.neq(y)))}),e.solver.add(e.ctx.Sum(e.ctx.Int.val(1),..._).eq(o.number))}}}const Av=new Rv,Iv=Object.freeze(Object.defineProperty({__proto__:null,AreaNumberModule:gv,CellCountModule:bv,ConnectAllModule:gh,DartModule:wv,LetterModule:Ev,MyopiaModule:Ov,RegionAreaModule:Tv,ViewpointModule:Av},Symbol.toStringTag,{value:"Module"})),Qo=new Map;function kv(a){Qo.set(a.id,a)}Object.values(Iv).forEach(a=>{a&&kv(a)});class Nv{constructor(r){Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"_regionConstrainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.grid=r}get solver(){return this.grid.solver}get lattice(){return this.grid.lattice}get symbolSet(){return this.grid.symbolSet}get ctx(){return this.grid.ctx.context}get z3(){return this.grid.ctx.z3}get regionConstrainer(){if(!this._regionConstrainer){this._regionConstrainer=new mv(this.grid.ctx,this.lattice,this.solver,!0,!1,1);for(const r of this.lattice.points)for(const e of this.lattice.edgeSharingNeighbors(this.grid.grid,r))this.solver.add(this.grid.cellAt(r).eq(this.grid.cellAt(e.location)).eq(this._regionConstrainer.regionIdGrid.get(r).eq(this._regionConstrainer.regionIdGrid.get(e.location))))}return this._regionConstrainer}}class Cv extends T_{constructor(){super(...arguments),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:"z3"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"Good for confirming that a solution is unique, especially for larger puzzles. It is otherwise slower than most solvers in small to medium-sized puzzles."})}async isEnvironmentSupported(){try{return await c_.init(),!0}catch{return!1}}async*solve(r){console.log("Initializing dependencies");const{Z3:e,Context:i}=await c_.init(),o=i("main"),l={z3:e,context:o},f=new uv([["empty"," "],[M.Dark,"B"],[M.Light,"W"]]),y=av(r.height,r.width),_=new lv(l,y,f,new o.Solver("QF_FD")),w=new Nv(_);console.log("Encoding constraints"),r.forEach((v,I,X)=>{v.exists?v.fixed?w.solver.add(_.cellAt(new Ve(X,I)).eq(f.indices[v.color])):w.solver.add(_.cellAt(new Ve(X,I)).neq(f.indices.empty)):w.solver.add(_.cellAt(new Ve(X,I)).eq(f.indices.empty))});const u=Qe(r.width,r.height,()=>!1),P=new Xh;r.connections.edges.forEach(v=>{P.add(new Ve(v.y1,v.x1)),P.add(new Ve(v.y2,v.x2))}),P.forEach(v=>{if(u[v.y][v.x])return;u[v.y][v.x]=!0;const I=r.connections.getConnectedTiles({x:v.x,y:v.y});I.forEach(ie=>u[ie.y][ie.x]=!0);const X=I.filter(ie=>r.getTile(ie.x,ie.y).exists).map(ie=>new Ve(ie.y,ie.x));if(!(X.length<2))for(let ie=1;ie<X.length;ie++)w.solver.add(_.cellAt(v).eq(_.cellAt(X[ie])))}),[...new Set(r.rules.map(v=>v.id))].forEach(v=>{Qo.has(v)&&Qo.get(v).encode(r,w)}),[...r.symbols.keys()].forEach(v=>Qo.get(v).encode(r,w));const Z=v=>{const I=Qe(r.width,r.height,(X,ie)=>{const be=r.getTile(X,ie);if(!be.exists||be.fixed)return be;const Ze=Number(v.eval(_.cellAt(new Ve(ie,X))));return be.withColor(f.symbols.get(Ze).name)});return r.withTiles(I)};console.log("Solving"),console.time("Solve time");const $=await _.solve();if(console.timeEnd("Solve time"),!$){yield null;return}const re=w.solver.model();yield Z(re),console.log("Checking uniqueness"),console.time("Uniqueness time");const p=await _.isUnique();if(console.timeEnd("Uniqueness time"),p){yield null;return}const h=w.solver.model();yield Z(h)}isInstructionSupported(r){return Qo.has(r)}isGridSupported(r){return!(!super.isGridSupported(r)||r.getTileCount(!0,!0,M.Gray)>0)}}const Lv=new Map;function L_(a){Lv.set(a.id,a)}L_(new uu);L_(new Mb);L_(new Cv);var Tm;(function(a){a[a.Empty=0]="Empty",a[a.Dark=1]="Dark",a[a.Light=2]="Light",a[a.NonExist=3]="NonExist"})(Tm||(Tm={}));async function Mv(a){const r=decodeURIComponent(a).split("?d=")[1],e=await Lb.decompress(r);return ca.parsePuzzle(e)}function Zv(a){const r=[];for(const e of a){const i=[];for(const o of e)o.exists?i.push(o):i.push(new ur(!0,!1,M.Gray));r.push(i)}return r}function Dv(a){const r=a.grid.tiles,e=[];for(const i of a.grid.rules)if(i instanceof Qt)e.push({type:"connectAll",color:i.color});else if(i instanceof Er)e.push({type:"forbiddenPattern",pattern:Zv(i.pattern.tiles)});else if(i instanceof Yt)e.push({type:"sameShape",color:i.color});else if(i instanceof Kt)e.push({type:"uniqueShape",color:i.color});else if(i instanceof dt)e.push({type:"regionArea",color:i.color,size:i.size});else if(i instanceof kt)e.push({type:"cellCount",color:i.color,count:i.count});else if(i instanceof xr)e.push({type:"offByX",number:i.number});else{if(i instanceof Tn)continue;if(i instanceof ot){let o;if(i.comparison==lt.Equal)o="exactly";else if(i.comparison==lt.AtLeast)o="atLeast";else if(i.comparison==lt.AtMost)o="atMost";else throw new Error(`Unknown comparison type (${i.comparison})`);e.push({type:"symbolCount",number:i.count,kind:o,color:i.color})}else throw new Error(`Unknown rule type (${i.explanation})`)}for(const[i,o]of a.grid.symbols)if(i==="minesweeper")e.push({type:"minesweeper",tiles:o});else if(i==="number")e.push({type:"number",tiles:o});else if(i==="letter")e.push({type:"letter",tiles:o});else if(i==="dart")e.push({type:"dart",tiles:o});else if(i==="viewpoint")e.push({type:"viewpoint",tiles:o});else if(i==="lotus"){const l=o.map(f=>{const y=f;return{x:Math.round(y.x*2),y:Math.round(y.y*2),orientation:y.orientation}});e.push({type:"lotus",tiles:l})}else if(i==="galaxy"){const l=o.map(f=>{const y=f;return{x:Math.round(y.x*2),y:Math.round(y.y*2)}});e.push({type:"galaxy",tiles:l})}else throw new Error(`Unknown symbol type: ${i}`);return JSON.stringify({width:a.grid.width,height:a.grid.height,connections:a.grid.connections.edges,tiles:r,rules:e})}const zv=a=>{const r=[],{board:e,answer:i}=a,o=e.length,l=e[0].length,f=30,y=10;r.push(Xe.jsx("rect",{x:0,y:0,width:l*f+2*y,height:o*f+2*y,fill:"#aaaabb"}));for(let _=0;_<o;++_)for(let w=0;w<l;++w){let u="#ccccdd";e[_][w].exists?i[_][w]==="dark"?u="#000000":i[_][w]==="light"?u="#ffffff":u="#ccccdd":u="#aaaacc",r.push(Xe.jsx("rect",{x:w*f+y+2,y:_*f+y+2,width:f-4,height:f-4,fill:u}))}return Xe.jsx("svg",{width:l*f+2*y,height:o*f+2*y,children:r})};let r_=null;const jv=(a,r)=>{let e=0;for(let i=0;i<a.length;i++)for(let o=0;o<a[i].length;o++)a[i][o].exists&&!a[i][o].fixed&&a[i][o].color==="gray"&&r[i][o]!==null&&e++;return e};function Gv(){const[a,r]=ji.useState(""),[e,i]=ji.useState(null),[o,l]=ji.useState(null),[f,y]=ji.useState(!1),[_,w]=ji.useState("solve"),[u,P]=ji.useState(null),Z=async()=>{const $=await Mv(a);console.log($);let re;try{re=Dv($)}catch(v){l(v.message),i(null);return}r_===null&&(r_=qg(new Worker(new URL(""+new URL("worker.js",import.meta.url).href,import.meta.url),{})));const p=_==="underclued"||_==="tilesRemaining";y(!0);const h=JSON.parse(await r_.solve(re,p));if(y(!1),h===null){l("No solution found"),i(null);return}if("error"in h){l(h.error),i(null);return}if(l(null),_==="tilesRemaining"){const v=jv($.grid.tiles,h);P(v),i(null)}else P(null),i({board:$.grid.tiles,answer:h})};return Xe.jsxs(Xe.Fragment,{children:[Xe.jsxs("div",{children:[Xe.jsxs("p",{children:["GitHub: ",Xe.jsx("a",{href:"https://github.com/semiexp/logic-pad-solver",children:"semiexp/logic-pad-solver"})]}),"URL: ",Xe.jsx("input",{type:"text",value:a,onChange:$=>r($.target.value),size:40}),Xe.jsx("input",{type:"button",value:"Solve",onClick:Z,disabled:f})]}),Xe.jsxs("div",{children:[Xe.jsxs("span",{style:{borderRight:"1px solid black",marginRight:"5px"},children:[Xe.jsx("label",{htmlFor:"solve",children:"Solve"}),Xe.jsx("input",{type:"radio",id:"solve",name:"mode",value:"solve",checked:_==="solve",onChange:()=>w("solve")})]}),Xe.jsxs("span",{style:{borderRight:"1px solid black",marginRight:"5px"},children:[Xe.jsx("label",{htmlFor:"underclued",children:"Underclued"}),Xe.jsx("input",{type:"radio",id:"underclued",name:"mode",value:"underclued",checked:_==="underclued",onChange:()=>w("underclued")})]}),Xe.jsxs("span",{children:[Xe.jsx("label",{htmlFor:"tilesRemaining",children:"Count Tiles Remaining"}),Xe.jsx("input",{type:"radio",id:"tilesRemaining",name:"mode",value:"remainingTiles",checked:_==="tilesRemaining",onChange:()=>w("tilesRemaining")})]})]}),u!==null&&Xe.jsxs("div",{children:["Tiles remaining: ",u]}),o!==null&&Xe.jsx("div",{children:o}),e!==null&&Xe.jsx(zv,{...e})]})}kg.createRoot(document.getElementById("root")).render(Xe.jsx(ji.StrictMode,{children:Xe.jsx(Gv,{})}));
